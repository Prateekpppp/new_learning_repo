// $(window).scroll(function () {
//     // console.log($(window).scrollTop())
//     if ($(window).scrollTop() > 63) {
//       $('.navbar-container').addClass('navbar-fixed');
//     }
//     if ($(window).scrollTop() < 64) {
//       $('.navbar-container').removeClass('navbar-fixed');
//     }
//   });
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=123)}([function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return ae})),n.d(t,"AddEquation",(function(){return A})),n.d(t,"AddOperation",(function(){return $})),n.d(t,"AdditiveAnimationBlendMode",(function(){return Zt})),n.d(t,"AdditiveBlending",(function(){return M})),n.d(t,"AlphaFormat",(function(){return Fe})),n.d(t,"AlwaysDepth",(function(){return V})),n.d(t,"AlwaysStencilFunc",(function(){return An})),n.d(t,"AmbientLight",(function(){return _u})),n.d(t,"AmbientLightProbe",(function(){return Vu})),n.d(t,"AnimationClip",(function(){return Lh})),n.d(t,"AnimationLoader",(function(){return kh})),n.d(t,"AnimationMixer",(function(){return xd})),n.d(t,"AnimationObjectGroup",(function(){return vd})),n.d(t,"AnimationUtils",(function(){return fh})),n.d(t,"ArcCurve",(function(){return Vh})),n.d(t,"ArrayCamera",(function(){return Cs})),n.d(t,"ArrowHelper",(function(){return lp})),n.d(t,"Audio",(function(){return ed})),n.d(t,"AudioAnalyser",(function(){return od})),n.d(t,"AudioContext",(function(){return Gu})),n.d(t,"AudioListener",(function(){return $u})),n.d(t,"AudioLoader",(function(){return Hu})),n.d(t,"AxesHelper",(function(){return cp})),n.d(t,"AxisHelper",(function(){return rm})),n.d(t,"BackSide",(function(){return b})),n.d(t,"BasicDepthPacking",(function(){return ln})),n.d(t,"BasicShadowMap",(function(){return d})),n.d(t,"BinaryTextureLoader",(function(){return cm})),n.d(t,"Bone",(function(){return ml})),n.d(t,"BooleanKeyframeTrack",(function(){return _h})),n.d(t,"BoundingBoxHelper",(function(){return am})),n.d(t,"Box2",(function(){return Pd})),n.d(t,"Box3",(function(){return Ui})),n.d(t,"Box3Helper",(function(){return ip})),n.d(t,"BoxBufferGeometry",(function(){return ba})),n.d(t,"BoxGeometry",(function(){return ga})),n.d(t,"BoxHelper",(function(){return np})),n.d(t,"BufferAttribute",(function(){return Tr})),n.d(t,"BufferGeometry",(function(){return Vr})),n.d(t,"BufferGeometryLoader",(function(){return Pu})),n.d(t,"ByteType",(function(){return Le})),n.d(t,"Cache",(function(){return Ch})),n.d(t,"Camera",(function(){return wa})),n.d(t,"CameraHelper",(function(){return $d})),n.d(t,"CanvasRenderer",(function(){return dm})),n.d(t,"CanvasTexture",(function(){return Ul})),n.d(t,"CatmullRomCurve3",(function(){return Jh})),n.d(t,"CineonToneMapping",(function(){return re})),n.d(t,"CircleBufferGeometry",(function(){return nh})),n.d(t,"CircleGeometry",(function(){return th})),n.d(t,"ClampToEdgeWrapping",(function(){return fe})),n.d(t,"Clock",(function(){return qu})),n.d(t,"ClosedSplineCurve3",(function(){return tm})),n.d(t,"Color",(function(){return gr})),n.d(t,"ColorKeyframeTrack",(function(){return wh})),n.d(t,"CompressedTexture",(function(){return Fl})),n.d(t,"CompressedTextureLoader",(function(){return Nh})),n.d(t,"ConeBufferGeometry",(function(){return eh})),n.d(t,"ConeGeometry",(function(){return $c})),n.d(t,"CubeCamera",(function(){return Sa})),n.d(t,"CubeGeometry",(function(){return ga})),n.d(t,"CubeReflectionMapping",(function(){return se})),n.d(t,"CubeRefractionMapping",(function(){return le})),n.d(t,"CubeTexture",(function(){return qa})),n.d(t,"CubeTextureLoader",(function(){return Uh})),n.d(t,"CubeUVReflectionMapping",(function(){return de})),n.d(t,"CubeUVRefractionMapping",(function(){return pe})),n.d(t,"CubicBezierCurve",(function(){return eu})),n.d(t,"CubicBezierCurve3",(function(){return tu})),n.d(t,"CubicInterpolant",(function(){return bh})),n.d(t,"CullFaceBack",(function(){return s})),n.d(t,"CullFaceFront",(function(){return l})),n.d(t,"CullFaceFrontBack",(function(){return c})),n.d(t,"CullFaceNone",(function(){return o})),n.d(t,"Curve",(function(){return Hh})),n.d(t,"CurvePath",(function(){return lu})),n.d(t,"CustomBlending",(function(){return E})),n.d(t,"CylinderBufferGeometry",(function(){return Qc})),n.d(t,"CylinderGeometry",(function(){return Kc})),n.d(t,"Cylindrical",(function(){return Ad})),n.d(t,"DataTexture",(function(){return Ea})),n.d(t,"DataTexture2DArray",(function(){return Za})),n.d(t,"DataTexture3D",(function(){return Ja})),n.d(t,"DataTextureLoader",(function(){return Bh})),n.d(t,"DecrementStencilOp",(function(){return gn})),n.d(t,"DecrementWrapStencilOp",(function(){return vn})),n.d(t,"DefaultLoadingManager",(function(){return zh})),n.d(t,"DepthFormat",(function(){return We})),n.d(t,"DepthStencilFormat",(function(){return Xe})),n.d(t,"DepthTexture",(function(){return Gl})),n.d(t,"DirectionalLight",(function(){return xu})),n.d(t,"DirectionalLightHelper",(function(){return Jd})),n.d(t,"DirectionalLightShadow",(function(){return yu})),n.d(t,"DiscreteInterpolant",(function(){return yh})),n.d(t,"DodecahedronBufferGeometry",(function(){return ec})),n.d(t,"DodecahedronGeometry",(function(){return $l})),n.d(t,"DoubleSide",(function(){return v})),n.d(t,"DstAlphaFactor",(function(){return B})),n.d(t,"DstColorFactor",(function(){return U})),n.d(t,"DynamicBufferAttribute",(function(){return Wp})),n.d(t,"DynamicCopyUsage",(function(){return In})),n.d(t,"DynamicDrawUsage",(function(){return Pn})),n.d(t,"DynamicReadUsage",(function(){return zn})),n.d(t,"EdgesGeometry",(function(){return Jc})),n.d(t,"EdgesHelper",(function(){return om})),n.d(t,"EllipseCurve",(function(){return jh})),n.d(t,"EqualDepth",(function(){return Y})),n.d(t,"EqualStencilFunc",(function(){return wn})),n.d(t,"EquirectangularReflectionMapping",(function(){return ce})),n.d(t,"EquirectangularRefractionMapping",(function(){return he})),n.d(t,"Euler",(function(){return hi})),n.d(t,"EventDispatcher",(function(){return Nn})),n.d(t,"ExtrudeBufferGeometry",(function(){return kc})),n.d(t,"ExtrudeGeometry",(function(){return Ic})),n.d(t,"Face3",(function(){return xr})),n.d(t,"Face4",(function(){return Cp})),n.d(t,"FaceColors",(function(){return Dp})),n.d(t,"FileLoader",(function(){return Ih})),n.d(t,"FlatShading",(function(){return y})),n.d(t,"Float32Attribute",(function(){return $p})),n.d(t,"Float32BufferAttribute",(function(){return Or})),n.d(t,"Float64Attribute",(function(){return em})),n.d(t,"Float64BufferAttribute",(function(){return Dr})),n.d(t,"FloatType",(function(){return Oe})),n.d(t,"Fog",(function(){return ks})),n.d(t,"FogExp2",(function(){return Is})),n.d(t,"Font",(function(){return Bu})),n.d(t,"FontLoader",(function(){return Uu})),n.d(t,"FrontFaceDirectionCCW",(function(){return u})),n.d(t,"FrontFaceDirectionCW",(function(){return h})),n.d(t,"FrontSide",(function(){return g})),n.d(t,"Frustum",(function(){return Pa})),n.d(t,"GammaEncoding",(function(){return tn})),n.d(t,"Geometry",(function(){return fa})),n.d(t,"GeometryUtils",(function(){return um})),n.d(t,"GreaterDepth",(function(){return Z})),n.d(t,"GreaterEqualDepth",(function(){return q})),n.d(t,"GreaterEqualStencilFunc",(function(){return En})),n.d(t,"GreaterStencilFunc",(function(){return Sn})),n.d(t,"GridHelper",(function(){return Wd})),n.d(t,"Group",(function(){return Rs})),n.d(t,"HalfFloatType",(function(){return De})),n.d(t,"HemisphereLight",(function(){return du})),n.d(t,"HemisphereLightHelper",(function(){return Vd})),n.d(t,"HemisphereLightProbe",(function(){return ju})),n.d(t,"IcosahedronBufferGeometry",(function(){return Ql})),n.d(t,"IcosahedronGeometry",(function(){return Kl})),n.d(t,"ImageBitmapLoader",(function(){return ku})),n.d(t,"ImageLoader",(function(){return Fh})),n.d(t,"ImageUtils",(function(){return Vn})),n.d(t,"ImmediateRenderObject",(function(){return Od})),n.d(t,"IncrementStencilOp",(function(){return fn})),n.d(t,"IncrementWrapStencilOp",(function(){return bn})),n.d(t,"InstancedBufferAttribute",(function(){return Lu})),n.d(t,"InstancedBufferGeometry",(function(){return Au})),n.d(t,"InstancedInterleavedBuffer",(function(){return wd})),n.d(t,"InstancedMesh",(function(){return yl})),n.d(t,"Int16Attribute",(function(){return Zp})),n.d(t,"Int16BufferAttribute",(function(){return Pr})),n.d(t,"Int32Attribute",(function(){return Kp})),n.d(t,"Int32BufferAttribute",(function(){return Rr})),n.d(t,"Int8Attribute",(function(){return Xp})),n.d(t,"Int8BufferAttribute",(function(){return Er})),n.d(t,"IntType",(function(){return Re})),n.d(t,"InterleavedBuffer",(function(){return Ns})),n.d(t,"InterleavedBufferAttribute",(function(){return Us})),n.d(t,"Interpolant",(function(){return gh})),n.d(t,"InterpolateDiscrete",(function(){return Ht})),n.d(t,"InterpolateLinear",(function(){return jt})),n.d(t,"InterpolateSmooth",(function(){return Vt})),n.d(t,"InvertStencilOp",(function(){return yn})),n.d(t,"JSONLoader",(function(){return pm})),n.d(t,"KeepStencilOp",(function(){return pn})),n.d(t,"KeyframeTrack",(function(){return xh})),n.d(t,"LOD",(function(){return cl})),n.d(t,"LatheBufferGeometry",(function(){return Xc})),n.d(t,"LatheGeometry",(function(){return Wc})),n.d(t,"Layers",(function(){return ui})),n.d(t,"LensFlare",(function(){return fm})),n.d(t,"LessDepth",(function(){return W})),n.d(t,"LessEqualDepth",(function(){return X})),n.d(t,"LessEqualStencilFunc",(function(){return Mn})),n.d(t,"LessStencilFunc",(function(){return _n})),n.d(t,"Light",(function(){return uu})),n.d(t,"LightProbe",(function(){return Su})),n.d(t,"LightShadow",(function(){return pu})),n.d(t,"Line",(function(){return El})),n.d(t,"Line3",(function(){return zd})),n.d(t,"LineBasicMaterial",(function(){return xl})),n.d(t,"LineCurve",(function(){return nu})),n.d(t,"LineCurve3",(function(){return iu})),n.d(t,"LineDashedMaterial",(function(){return ph})),n.d(t,"LineLoop",(function(){return Cl})),n.d(t,"LinePieces",(function(){return zp})),n.d(t,"LineSegments",(function(){return Pl})),n.d(t,"LineStrip",(function(){return Rp})),n.d(t,"LinearEncoding",(function(){return $t})),n.d(t,"LinearFilter",(function(){return we})),n.d(t,"LinearInterpolant",(function(){return vh})),n.d(t,"LinearMipMapLinearFilter",(function(){return Ee})),n.d(t,"LinearMipMapNearestFilter",(function(){return Se})),n.d(t,"LinearMipmapLinearFilter",(function(){return Te})),n.d(t,"LinearMipmapNearestFilter",(function(){return Me})),n.d(t,"LinearToneMapping",(function(){return te})),n.d(t,"Loader",(function(){return Oh})),n.d(t,"LoaderUtils",(function(){return Eu})),n.d(t,"LoadingManager",(function(){return Rh})),n.d(t,"LogLuvEncoding",(function(){return rn})),n.d(t,"LoopOnce",(function(){return Ft})),n.d(t,"LoopPingPong",(function(){return Gt})),n.d(t,"LoopRepeat",(function(){return Ut})),n.d(t,"LuminanceAlphaFormat",(function(){return je})),n.d(t,"LuminanceFormat",(function(){return He})),n.d(t,"MOUSE",(function(){return r})),n.d(t,"Material",(function(){return wr})),n.d(t,"MaterialLoader",(function(){return Tu})),n.d(t,"Math",(function(){return Gn})),n.d(t,"MathUtils",(function(){return Gn})),n.d(t,"Matrix3",(function(){return jn})),n.d(t,"Matrix4",(function(){return si})),n.d(t,"MaxEquation",(function(){return R})),n.d(t,"Mesh",(function(){return la})),n.d(t,"MeshBasicMaterial",(function(){return Mr})),n.d(t,"MeshDepthMaterial",(function(){return Ss})),n.d(t,"MeshDistanceMaterial",(function(){return Ts})),n.d(t,"MeshFaceMaterial",(function(){return kp})),n.d(t,"MeshLambertMaterial",(function(){return uh})),n.d(t,"MeshMatcapMaterial",(function(){return dh})),n.d(t,"MeshNormalMaterial",(function(){return hh})),n.d(t,"MeshPhongMaterial",(function(){return lh})),n.d(t,"MeshPhysicalMaterial",(function(){return sh})),n.d(t,"MeshStandardMaterial",(function(){return oh})),n.d(t,"MeshToonMaterial",(function(){return ch})),n.d(t,"MinEquation",(function(){return C})),n.d(t,"MirroredRepeatWrapping",(function(){return ge})),n.d(t,"MixOperation",(function(){return Q})),n.d(t,"MultiMaterial",(function(){return Np})),n.d(t,"MultiplyBlending",(function(){return T})),n.d(t,"MultiplyOperation",(function(){return K})),n.d(t,"NearestFilter",(function(){return be})),n.d(t,"NearestMipMapLinearFilter",(function(){return _e})),n.d(t,"NearestMipMapNearestFilter",(function(){return ye})),n.d(t,"NearestMipmapLinearFilter",(function(){return xe})),n.d(t,"NearestMipmapNearestFilter",(function(){return ve})),n.d(t,"NeverDepth",(function(){return j})),n.d(t,"NeverStencilFunc",(function(){return xn})),n.d(t,"NoBlending",(function(){return _})),n.d(t,"NoColors",(function(){return Op})),n.d(t,"NoToneMapping",(function(){return ee})),n.d(t,"NormalAnimationBlendMode",(function(){return qt})),n.d(t,"NormalBlending",(function(){return w})),n.d(t,"NotEqualDepth",(function(){return J})),n.d(t,"NotEqualStencilFunc",(function(){return Tn})),n.d(t,"NumberKeyframeTrack",(function(){return Mh})),n.d(t,"Object3D",(function(){return Ti})),n.d(t,"ObjectLoader",(function(){return Ru})),n.d(t,"ObjectSpaceNormalMap",(function(){return un})),n.d(t,"OctahedronBufferGeometry",(function(){return Jl})),n.d(t,"OctahedronGeometry",(function(){return Zl})),n.d(t,"OneFactor",(function(){return O})),n.d(t,"OneMinusDstAlphaFactor",(function(){return F})),n.d(t,"OneMinusDstColorFactor",(function(){return G})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return N})),n.d(t,"OneMinusSrcColorFactor",(function(){return I})),n.d(t,"OrthographicCamera",(function(){return vu})),n.d(t,"PCFShadowMap",(function(){return p})),n.d(t,"PCFSoftShadowMap",(function(){return m})),n.d(t,"PMREMGenerator",(function(){return wp})),n.d(t,"ParametricBufferGeometry",(function(){return Vl})),n.d(t,"ParametricGeometry",(function(){return jl})),n.d(t,"Particle",(function(){return Fp})),n.d(t,"ParticleBasicMaterial",(function(){return Hp})),n.d(t,"ParticleSystem",(function(){return Up})),n.d(t,"ParticleSystemMaterial",(function(){return jp})),n.d(t,"Path",(function(){return cu})),n.d(t,"PerspectiveCamera",(function(){return Ma})),n.d(t,"Plane",(function(){return tr})),n.d(t,"PlaneBufferGeometry",(function(){return Da})),n.d(t,"PlaneGeometry",(function(){return Oa})),n.d(t,"PlaneHelper",(function(){return rp})),n.d(t,"PointCloud",(function(){return Bp})),n.d(t,"PointCloudMaterial",(function(){return Gp})),n.d(t,"PointLight",(function(){return bu})),n.d(t,"PointLightHelper",(function(){return Ud})),n.d(t,"Points",(function(){return kl})),n.d(t,"PointsMaterial",(function(){return Rl})),n.d(t,"PolarGridHelper",(function(){return Xd})),n.d(t,"PolyhedronBufferGeometry",(function(){return Xl})),n.d(t,"PolyhedronGeometry",(function(){return Wl})),n.d(t,"PositionalAudio",(function(){return ad})),n.d(t,"PropertyBinding",(function(){return bd})),n.d(t,"PropertyMixer",(function(){return sd})),n.d(t,"QuadraticBezierCurve",(function(){return ru})),n.d(t,"QuadraticBezierCurve3",(function(){return au})),n.d(t,"Quaternion",(function(){return Jn})),n.d(t,"QuaternionKeyframeTrack",(function(){return Th})),n.d(t,"QuaternionLinearInterpolant",(function(){return Sh})),n.d(t,"REVISION",(function(){return i})),n.d(t,"RGBADepthPacking",(function(){return cn})),n.d(t,"RGBAFormat",(function(){return Ge})),n.d(t,"RGBAIntegerFormat",(function(){return Qe})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return _t})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return vt})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return xt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return wt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return Mt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return ht})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return ut})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return dt})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return pt})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return mt})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return ft})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return bt})),n.d(t,"RGBA_BPTC_Format",(function(){return St})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return ct})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return ot})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return at})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return et})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return tt})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return nt})),n.d(t,"RGBDEncoding",(function(){return sn})),n.d(t,"RGBEEncoding",(function(){return nn})),n.d(t,"RGBEFormat",(function(){return Ve})),n.d(t,"RGBFormat",(function(){return Ue})),n.d(t,"RGBIntegerFormat",(function(){return Ke})),n.d(t,"RGBM16Encoding",(function(){return on})),n.d(t,"RGBM7Encoding",(function(){return an})),n.d(t,"RGB_ETC1_Format",(function(){return st})),n.d(t,"RGB_ETC2_Format",(function(){return lt})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return rt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return it})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return $e})),n.d(t,"RGFormat",(function(){return Ze})),n.d(t,"RGIntegerFormat",(function(){return Je})),n.d(t,"RawShaderMaterial",(function(){return ah})),n.d(t,"Ray",(function(){return Ki})),n.d(t,"Raycaster",(function(){return Md})),n.d(t,"RectAreaLight",(function(){return wu})),n.d(t,"RedFormat",(function(){return Ye})),n.d(t,"RedIntegerFormat",(function(){return qe})),n.d(t,"ReinhardToneMapping",(function(){return ne})),n.d(t,"RepeatWrapping",(function(){return me})),n.d(t,"ReplaceStencilOp",(function(){return mn})),n.d(t,"ReverseSubtractEquation",(function(){return P})),n.d(t,"RingBufferGeometry",(function(){return Vc})),n.d(t,"RingGeometry",(function(){return jc})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return kt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Ot})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Dt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return It})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Bt})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Tt})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Et})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return At})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Lt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Pt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ct})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Rt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return zt})),n.d(t,"Scene",(function(){return Ei})),n.d(t,"SceneUtils",(function(){return mm})),n.d(t,"ShaderChunk",(function(){return Ia})),n.d(t,"ShaderLib",(function(){return ka})),n.d(t,"ShaderMaterial",(function(){return _a})),n.d(t,"ShadowMaterial",(function(){return rh})),n.d(t,"Shape",(function(){return hu})),n.d(t,"ShapeBufferGeometry",(function(){return qc})),n.d(t,"ShapeGeometry",(function(){return Yc})),n.d(t,"ShapePath",(function(){return Nu})),n.d(t,"ShapeUtils",(function(){return zc})),n.d(t,"ShortType",(function(){return Pe})),n.d(t,"Skeleton",(function(){return pl})),n.d(t,"SkeletonHelper",(function(){return Fd})),n.d(t,"SkinnedMesh",(function(){return hl})),n.d(t,"SmoothShading",(function(){return x})),n.d(t,"Sphere",(function(){return ji})),n.d(t,"SphereBufferGeometry",(function(){return Hc})),n.d(t,"SphereGeometry",(function(){return Gc})),n.d(t,"Spherical",(function(){return Ed})),n.d(t,"SphericalHarmonics3",(function(){return Mu})),n.d(t,"SphericalReflectionMapping",(function(){return ue})),n.d(t,"Spline",(function(){return im})),n.d(t,"SplineCurve",(function(){return ou})),n.d(t,"SplineCurve3",(function(){return nm})),n.d(t,"SpotLight",(function(){return fu})),n.d(t,"SpotLightHelper",(function(){return Id})),n.d(t,"SpotLightShadow",(function(){return mu})),n.d(t,"Sprite",(function(){return el})),n.d(t,"SpriteMaterial",(function(){return Gs})),n.d(t,"SrcAlphaFactor",(function(){return k})),n.d(t,"SrcAlphaSaturateFactor",(function(){return H})),n.d(t,"SrcColorFactor",(function(){return D})),n.d(t,"StaticCopyUsage",(function(){return Dn})),n.d(t,"StaticDrawUsage",(function(){return Ln})),n.d(t,"StaticReadUsage",(function(){return Rn})),n.d(t,"StereoCamera",(function(){return Yu})),n.d(t,"StreamCopyUsage",(function(){return kn})),n.d(t,"StreamDrawUsage",(function(){return Cn})),n.d(t,"StreamReadUsage",(function(){return On})),n.d(t,"StringKeyframeTrack",(function(){return Eh})),n.d(t,"SubtractEquation",(function(){return L})),n.d(t,"SubtractiveBlending",(function(){return S})),n.d(t,"TOUCH",(function(){return a})),n.d(t,"TangentSpaceNormalMap",(function(){return hn})),n.d(t,"TetrahedronBufferGeometry",(function(){return ql})),n.d(t,"TetrahedronGeometry",(function(){return Yl})),n.d(t,"TextBufferGeometry",(function(){return Uc})),n.d(t,"TextGeometry",(function(){return Fc})),n.d(t,"Texture",(function(){return Xn})),n.d(t,"TextureLoader",(function(){return Gh})),n.d(t,"TorusBufferGeometry",(function(){return oc})),n.d(t,"TorusGeometry",(function(){return ac})),n.d(t,"TorusKnotBufferGeometry",(function(){return rc})),n.d(t,"TorusKnotGeometry",(function(){return ic})),n.d(t,"Triangle",(function(){return dr})),n.d(t,"TriangleFanDrawMode",(function(){return Qt})),n.d(t,"TriangleStripDrawMode",(function(){return Kt})),n.d(t,"TrianglesDrawMode",(function(){return Jt})),n.d(t,"TubeBufferGeometry",(function(){return nc})),n.d(t,"TubeGeometry",(function(){return tc})),n.d(t,"UVMapping",(function(){return oe})),n.d(t,"Uint16Attribute",(function(){return Jp})),n.d(t,"Uint16BufferAttribute",(function(){return Cr})),n.d(t,"Uint32Attribute",(function(){return Qp})),n.d(t,"Uint32BufferAttribute",(function(){return zr})),n.d(t,"Uint8Attribute",(function(){return Yp})),n.d(t,"Uint8BufferAttribute",(function(){return Ar})),n.d(t,"Uint8ClampedAttribute",(function(){return qp})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Lr})),n.d(t,"Uncharted2ToneMapping",(function(){return ie})),n.d(t,"Uniform",(function(){return _d})),n.d(t,"UniformsLib",(function(){return Ca})),n.d(t,"UniformsUtils",(function(){return xa})),n.d(t,"UnsignedByteType",(function(){return Ae})),n.d(t,"UnsignedInt248Type",(function(){return Be})),n.d(t,"UnsignedIntType",(function(){return ze})),n.d(t,"UnsignedShort4444Type",(function(){return Ie})),n.d(t,"UnsignedShort5551Type",(function(){return ke})),n.d(t,"UnsignedShort565Type",(function(){return Ne})),n.d(t,"UnsignedShortType",(function(){return Ce})),n.d(t,"VSMShadowMap",(function(){return f})),n.d(t,"Vector2",(function(){return Hn})),n.d(t,"Vector3",(function(){return $n})),n.d(t,"Vector4",(function(){return Yn})),n.d(t,"VectorKeyframeTrack",(function(){return Ah})),n.d(t,"Vertex",(function(){return Vp})),n.d(t,"VertexColors",(function(){return Ip})),n.d(t,"VideoTexture",(function(){return Bl})),n.d(t,"WebGLCubeRenderTarget",(function(){return Ta})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return Zn})),n.d(t,"WebGLRenderTarget",(function(){return qn})),n.d(t,"WebGLRenderTargetCube",(function(){return hm})),n.d(t,"WebGLRenderer",(function(){return Ds})),n.d(t,"WebGLUtils",(function(){return Ps})),n.d(t,"WireframeGeometry",(function(){return Hl})),n.d(t,"WireframeHelper",(function(){return sm})),n.d(t,"WrapAroundEnding",(function(){return Yt})),n.d(t,"XHRLoader",(function(){return lm})),n.d(t,"ZeroCurvatureEnding",(function(){return Wt})),n.d(t,"ZeroFactor",(function(){return z})),n.d(t,"ZeroSlopeEnding",(function(){return Xt})),n.d(t,"ZeroStencilOp",(function(){return dn})),n.d(t,"sRGBEncoding",(function(){return en})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});var i="116",r={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o=0,s=1,l=2,c=3,h=0,u=1,d=0,p=1,m=2,f=3,g=0,b=1,v=2,y=1,x=2,_=0,w=1,M=2,S=3,T=4,E=5,A=100,L=101,P=102,C=103,R=104,z=200,O=201,D=202,I=203,k=204,N=205,B=206,F=207,U=208,G=209,H=210,j=0,V=1,W=2,X=3,Y=4,q=5,Z=6,J=7,K=0,Q=1,$=2,ee=0,te=1,ne=2,ie=3,re=4,ae=5,oe=300,se=301,le=302,ce=303,he=304,ue=305,de=306,pe=307,me=1e3,fe=1001,ge=1002,be=1003,ve=1004,ye=1004,xe=1005,_e=1005,we=1006,Me=1007,Se=1007,Te=1008,Ee=1008,Ae=1009,Le=1010,Pe=1011,Ce=1012,Re=1013,ze=1014,Oe=1015,De=1016,Ie=1017,ke=1018,Ne=1019,Be=1020,Fe=1021,Ue=1022,Ge=1023,He=1024,je=1025,Ve=Ge,We=1026,Xe=1027,Ye=1028,qe=1029,Ze=1030,Je=1031,Ke=1032,Qe=1033,$e=33776,et=33777,tt=33778,nt=33779,it=35840,rt=35841,at=35842,ot=35843,st=36196,lt=37492,ct=37496,ht=37808,ut=37809,dt=37810,pt=37811,mt=37812,ft=37813,gt=37814,bt=37815,vt=37816,yt=37817,xt=37818,_t=37819,wt=37820,Mt=37821,St=36492,Tt=37840,Et=37841,At=37842,Lt=37843,Pt=37844,Ct=37845,Rt=37846,zt=37847,Ot=37848,Dt=37849,It=37850,kt=37851,Nt=37852,Bt=37853,Ft=2200,Ut=2201,Gt=2202,Ht=2300,jt=2301,Vt=2302,Wt=2400,Xt=2401,Yt=2402,qt=2500,Zt=2501,Jt=0,Kt=1,Qt=2,$t=3e3,en=3001,tn=3007,nn=3002,rn=3003,an=3004,on=3005,sn=3006,ln=3200,cn=3201,hn=0,un=1,dn=0,pn=7680,mn=7681,fn=7682,gn=7683,bn=34055,vn=34056,yn=5386,xn=512,_n=513,wn=514,Mn=515,Sn=516,Tn=517,En=518,An=519,Ln=35044,Pn=35048,Cn=35040,Rn=35045,zn=35049,On=35041,Dn=35046,In=35050,kn=35042;function Nn(){}Object.assign(Nn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});for(var Bn=[],Fn=0;Fn<256;Fn++)Bn[Fn]=(Fn<16?"0":"")+Fn.toString(16);var Un,Gn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Bn[255&e]+Bn[e>>8&255]+Bn[e>>16&255]+Bn[e>>24&255]+"-"+Bn[255&t]+Bn[t>>8&255]+"-"+Bn[t>>16&15|64]+Bn[t>>24&255]+"-"+Bn[63&n|128]+Bn[n>>8&255]+"-"+Bn[n>>16&255]+Bn[n>>24&255]+Bn[255&i]+Bn[i>>8&255]+Bn[i>>16&255]+Bn[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Gn.DEG2RAD},radToDeg:function(e){return e*Gn.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+i)/2),h=o((t+i)/2),u=a((t-i)/2),d=o((t-i)/2),p=a((i-t)/2),m=o((i-t)/2);switch(r){case"XYX":e.set(s*h,l*u,l*d,s*c);break;case"YZY":e.set(l*d,s*h,l*u,s*c);break;case"ZXZ":e.set(l*u,l*d,s*h,s*c);break;case"XZX":e.set(s*h,l*m,l*p,s*c);break;case"YXY":e.set(l*p,s*h,l*m,s*c);break;case"ZYZ":e.set(l*m,l*p,s*h,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function Hn(e,t){this.x=e||0,this.y=t||0}function jn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Hn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Hn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(jn.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],h=n[7],u=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],b=i[1],v=i[4],y=i[7],x=i[2],_=i[5],w=i[8];return r[0]=a*m+o*b+s*x,r[3]=a*f+o*v+s*_,r[6]=a*g+o*y+s*w,r[1]=l*m+c*b+h*x,r[4]=l*f+c*v+h*_,r[7]=l*g+c*y+h*w,r[2]=u*m+d*b+p*x,r[5]=u*f+d*v+p*_,r[8]=u*g+d*y+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=e.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],h=n[6],u=n[7],d=n[8],p=d*l-c*u,m=c*h-d*s,f=u*s-l*h,g=r*p+a*m+o*f;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);var b=1/g;return i[0]=p*b,i[1]=(o*u-d*a)*b,i[2]=(c*a-o*l)*b,i[3]=m*b,i[4]=(d*r-o*h)*b,i[5]=(o*s-c*r)*b,i[6]=f*b,i[7]=(a*h-u*r)*b,i[8]=(l*r-a*s)*b,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],c=i[7];return i[0]=t*r+n*s,i[3]=t*a+n*l,i[6]=t*o+n*c,i[1]=-n*r+t*s,i[4]=-n*a+t*l,i[7]=-n*o+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Vn={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Un&&(Un=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Un.width=e.width,Un.height=e.height;var n=Un.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Un}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Wn=0;function Xn(e,t,n,i,r,a,o,s,l,c){Object.defineProperty(this,"id",{value:Wn++}),this.uuid=Gn.generateUUID(),this.name="",this.image=void 0!==e?e:Xn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Xn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:fe,this.wrapT=void 0!==i?i:fe,this.magFilter=void 0!==r?r:we,this.minFilter=void 0!==a?a:Te,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Ge,this.internalFormat=null,this.type=void 0!==s?s:Ae,this.offset=new Hn(0,0),this.repeat=new Hn(1,1),this.center=new Hn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:$t,this.version=0,this.onUpdate=null}function Yn(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function qn(e,t,n){this.width=e,this.height=t,this.scissor=new Yn(0,0,e,t),this.scissorTest=!1,this.viewport=new Yn(0,0,e,t),n=n||{},this.texture=new Xn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:we,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Zn(e,t,n){qn.call(this,e,t,n),this.samples=4}function Jn(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}Xn.DEFAULT_IMAGE=void 0,Xn.DEFAULT_MAPPING=oe,Xn.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Xn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Gn.generateUUID()),!t&&void 0===e.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(Vn.getDataURL(i[a]))}else r=Vn.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==oe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case me:e.x=e.x-Math.floor(e.x);break;case fe:e.x=e.x<0?0:1;break;case ge:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case me:e.y=e.y-Math.floor(e.y);break;case fe:e.y=e.y<0?0:1;break;case ge:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Xn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(Yn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Yn.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],h=a[5],u=a[9],d=a[2],p=a[6],m=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(u-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(u+p)<.1&&Math.abs(o+h+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,g=(h+1)/2,b=(m+1)/2,v=(s+c)/4,y=(l+d)/4,x=(u+p)/4;return f>g&&f>b?f<.01?(n=0,i=.707106781,r=.707106781):(i=v/(n=Math.sqrt(f)),r=y/n):g>b?g<.01?(n=.707106781,i=0,r=.707106781):(n=v/(i=Math.sqrt(g)),r=x/i):b<.01?(n=.707106781,i=.707106781,r=0):(n=y/(r=Math.sqrt(b)),i=x/r),this.set(n,i,r,t),this}var _=Math.sqrt((p-u)*(p-u)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(p-u)/_,this.y=(l-d)/_,this.z=(c-s)/_,this.w=Math.acos((o+h+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),qn.prototype=Object.assign(Object.create(Nn.prototype),{constructor:qn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Zn.prototype=Object.assign(Object.create(qn.prototype),{constructor:Zn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return qn.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(Jn,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2],h=n[i+3],u=r[a+0],d=r[a+1],p=r[a+2],m=r[a+3];if(h!==m||s!==u||l!==d||c!==p){var f=1-o,g=s*u+l*d+c*p+h*m,b=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var y=Math.sqrt(v),x=Math.atan2(y,g*b);f=Math.sin(f*x)/y,o=Math.sin(o*x)/y}var _=o*b;if(s=s*f+u*_,l=l*f+d*_,c=c*f+p*_,h=h*f+m*_,f===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+h*h);s*=w,l*=w,c*=w,h*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=h},multiplyQuaternionsFlat:function(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],c=n[i+3],h=r[a],u=r[a+1],d=r[a+2],p=r[a+3];return e[t]=o*p+c*h+s*d-l*u,e[t+1]=s*p+c*u+l*h-o*d,e[t+2]=l*p+c*d+o*u-s*h,e[t+3]=c*p-o*h-s*u-l*d,e}}),Object.defineProperties(Jn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(Jn.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e.order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),h=o(r/2),u=s(n/2),d=s(i/2),p=s(r/2);switch(a){case"XYZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"YXZ":this._x=u*c*h+l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"ZXY":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h-u*d*p;break;case"ZYX":this._x=u*c*h-l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h+u*d*p;break;case"YZX":this._x=u*c*h+l*d*p,this._y=l*d*h+u*c*p,this._z=l*c*p-u*d*h,this._w=l*c*h-u*d*p;break;case"XZY":this._x=u*c*h-l*d*p,this._y=l*d*h-u*c*p,this._z=l*c*p+u*d*h,this._w=l*c*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],l=n[9],c=n[2],h=n[6],u=n[10],d=i+s+u;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(h-l)*t,this._y=(a-c)*t,this._z=(o-r)*t):i>s&&i>u?(t=2*Math.sqrt(1+i-s-u),this._w=(h-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(a+c)/t):s>u?(t=2*Math.sqrt(1+s-i-u),this._w=(a-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*Math.sqrt(1+u-i-s),this._w=(o-r)/t,this._x=(a+c)/t,this._y=(l+h)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Gn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),h=Math.atan2(c,o),u=Math.sin((1-t)*h)/c,d=Math.sin(t*h)/c;return this._w=a*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var Kn=new $n,Qn=new Jn;function $n(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign($n.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Qn.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Qn.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*n,c=s*n+o*t-r*i,h=s*i+r*n-a*t,u=-r*t-a*n-o*i;return this.x=l*s+u*-r+c*-o-h*-a,this.y=c*s+u*-a+h*-r-l*-o,this.z=h*s+u*-o+l*-a-c*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return Kn.copy(this).projectOnVector(e),this.sub(Kn)},reflect:function(e){return this.sub(Kn.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Gn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var ei=new $n,ti=new si,ni=new $n(0,0,0),ii=new $n(1,1,1),ri=new $n,ai=new $n,oi=new $n;function si(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(si.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,a,o,s,l,c,h,u,d,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=h,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new si).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,i=1/ei.setFromMatrixColumn(e,0).length(),r=1/ei.setFromMatrixColumn(e,1).length(),a=1/ei.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){var u=a*c,d=a*h,p=o*c,m=o*h;t[0]=s*c,t[4]=-s*h,t[8]=l,t[1]=d+p*l,t[5]=u-m*l,t[9]=-o*s,t[2]=m-u*l,t[6]=p+d*l,t[10]=a*s}else if("YXZ"===e.order){var f=s*c,g=s*h,b=l*c,v=l*h;t[0]=f+v*o,t[4]=b*o-g,t[8]=a*l,t[1]=a*h,t[5]=a*c,t[9]=-o,t[2]=g*o-b,t[6]=v+f*o,t[10]=a*s}else if("ZXY"===e.order){f=s*c,g=s*h,b=l*c,v=l*h;t[0]=f-v*o,t[4]=-a*h,t[8]=b+g*o,t[1]=g+b*o,t[5]=a*c,t[9]=v-f*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){u=a*c,d=a*h,p=o*c,m=o*h;t[0]=s*c,t[4]=p*l-d,t[8]=u*l+m,t[1]=s*h,t[5]=m*l+u,t[9]=d*l-p,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var y=a*s,x=a*l,_=o*s,w=o*l;t[0]=s*c,t[4]=w-y*h,t[8]=_*h+x,t[1]=h,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=x*h+_,t[10]=y-w*h}else if("XZY"===e.order){y=a*s,x=a*l,_=o*s,w=o*l;t[0]=s*c,t[4]=-h,t[8]=l*c,t[1]=y*h+w,t[5]=a*c,t[9]=x*h-_,t[2]=_*h-x,t[6]=o*c,t[10]=w*h+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(ni,e,ii)},lookAt:function(e,t,n){var i=this.elements;return oi.subVectors(e,t),0===oi.lengthSq()&&(oi.z=1),oi.normalize(),ri.crossVectors(n,oi),0===ri.lengthSq()&&(1===Math.abs(n.z)?oi.x+=1e-4:oi.z+=1e-4,oi.normalize(),ri.crossVectors(n,oi)),ri.normalize(),ai.crossVectors(oi,ri),i[0]=ri.x,i[4]=ai.x,i[8]=oi.x,i[1]=ri.y,i[5]=ai.y,i[9]=oi.y,i[2]=ri.z,i[6]=ai.z,i[10]=oi.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],h=n[5],u=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],b=n[3],v=n[7],y=n[11],x=n[15],_=i[0],w=i[4],M=i[8],S=i[12],T=i[1],E=i[5],A=i[9],L=i[13],P=i[2],C=i[6],R=i[10],z=i[14],O=i[3],D=i[7],I=i[11],k=i[15];return r[0]=a*_+o*T+s*P+l*O,r[4]=a*w+o*E+s*C+l*D,r[8]=a*M+o*A+s*R+l*I,r[12]=a*S+o*L+s*z+l*k,r[1]=c*_+h*T+u*P+d*O,r[5]=c*w+h*E+u*C+d*D,r[9]=c*M+h*A+u*R+d*I,r[13]=c*S+h*L+u*z+d*k,r[2]=p*_+m*T+f*P+g*O,r[6]=p*w+m*E+f*C+g*D,r[10]=p*M+m*A+f*R+g*I,r[14]=p*S+m*L+f*z+g*k,r[3]=b*_+v*T+y*P+x*O,r[7]=b*w+v*E+y*C+x*D,r[11]=b*M+v*A+y*R+x*I,r[15]=b*S+v*L+y*z+x*k,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],h=e[6],u=e[10],d=e[14];return e[3]*(+r*s*h-i*l*h-r*o*u+n*l*u+i*o*d-n*s*d)+e[7]*(+t*s*d-t*l*u+r*a*u-i*a*d+i*l*c-r*s*c)+e[11]*(+t*l*h-t*o*d-r*a*h+n*a*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*h+t*o*u+i*a*h-n*a*u+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],h=i[6],u=i[7],d=i[8],p=i[9],m=i[10],f=i[11],g=i[12],b=i[13],v=i[14],y=i[15],x=p*v*u-b*m*u+b*h*f-c*v*f-p*h*y+c*m*y,_=g*m*u-d*v*u-g*h*f+l*v*f+d*h*y-l*m*y,w=d*b*u-g*p*u+g*c*f-l*b*f-d*c*y+l*p*y,M=g*p*h-d*b*h-g*c*m+l*b*m+d*c*v-l*p*v,S=r*x+a*_+o*w+s*M;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var T=1/S;return n[0]=x*T,n[1]=(b*m*s-p*v*s-b*o*f+a*v*f+p*o*y-a*m*y)*T,n[2]=(c*v*s-b*h*s+b*o*u-a*v*u-c*o*y+a*h*y)*T,n[3]=(p*h*s-c*m*s-p*o*u+a*m*u+c*o*f-a*h*f)*T,n[4]=_*T,n[5]=(d*v*s-g*m*s+g*o*f-r*v*f-d*o*y+r*m*y)*T,n[6]=(g*h*s-l*v*s-g*o*u+r*v*u+l*o*y-r*h*y)*T,n[7]=(l*m*s-d*h*s+d*o*u-r*m*u-l*o*f+r*h*f)*T,n[8]=w*T,n[9]=(g*p*s-d*b*s-g*a*f+r*b*f+d*a*y-r*p*y)*T,n[10]=(l*b*s-g*c*s+g*a*u-r*b*u-l*a*y+r*c*y)*T,n[11]=(d*c*s-l*p*s-d*a*u+r*p*u+l*a*f-r*c*f)*T,n[12]=M*T,n[13]=(d*b*o-g*p*o+g*a*m-r*b*m-d*a*v+r*p*v)*T,n[14]=(g*c*o-l*b*o-g*a*h+r*b*h+l*a*v-r*c*v)*T,n[15]=(l*p*o-d*c*o+d*a*h-r*p*h-l*a*m+r*c*m)*T,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,c=a+a,h=o+o,u=r*l,d=r*c,p=r*h,m=a*c,f=a*h,g=o*h,b=s*l,v=s*c,y=s*h,x=n.x,_=n.y,w=n.z;return i[0]=(1-(m+g))*x,i[1]=(d+y)*x,i[2]=(p-v)*x,i[3]=0,i[4]=(d-y)*_,i[5]=(1-(u+g))*_,i[6]=(f+b)*_,i[7]=0,i[8]=(p+v)*w,i[9]=(f-b)*w,i[10]=(1-(u+m))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){var i=this.elements,r=ei.set(i[0],i[1],i[2]).length(),a=ei.set(i[4],i[5],i[6]).length(),o=ei.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],ti.copy(this);var s=1/r,l=1/a,c=1/o;return ti.elements[0]*=s,ti.elements[1]*=s,ti.elements[2]*=s,ti.elements[4]*=l,ti.elements[5]*=l,ti.elements[6]*=l,ti.elements[8]*=c,ti.elements[9]*=c,ti.elements[10]*=c,t.setFromRotationMatrix(ti),n.x=r,n.y=a,n.z=o,this},makePerspective:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),h=(n+i)/(n-i),u=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),c=1/(a-r),h=(t+e)*s,u=(n+i)*l,d=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var li=new si,ci=new Jn;function hi(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||hi.DefaultOrder}function ui(){this.mask=1}hi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],hi.DefaultOrder="XYZ",Object.defineProperties(hi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(hi.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Gn.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],l=r[1],c=r[5],h=r[9],u=r[2],d=r[6],p=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return li.makeRotationFromQuaternion(e),this.setFromRotationMatrix(li,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return ci.setFromEuler(this),this.setFromQuaternion(ci,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new $n(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(ui.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var di=0,pi=new $n,mi=new Jn,fi=new si,gi=new $n,bi=new $n,vi=new $n,yi=new Jn,xi=new $n(1,0,0),_i=new $n(0,1,0),wi=new $n(0,0,1),Mi={type:"added"},Si={type:"removed"};function Ti(){Object.defineProperty(this,"id",{value:di++}),this.uuid=Gn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ti.DefaultUp.clone();var e=new $n,t=new hi,n=new Jn,i=new $n(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new si},normalMatrix:{value:new jn}}),this.matrix=new si,this.matrixWorld=new si,this.matrixAutoUpdate=Ti.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ui,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Ei(){Ti.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Ti.DefaultUp=new $n(0,1,0),Ti.DefaultMatrixAutoUpdate=!0,Ti.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Ti,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return mi.setFromAxisAngle(e,t),this.quaternion.multiply(mi),this},rotateOnWorldAxis:function(e,t){return mi.setFromAxisAngle(e,t),this.quaternion.premultiply(mi),this},rotateX:function(e){return this.rotateOnAxis(xi,e)},rotateY:function(e){return this.rotateOnAxis(_i,e)},rotateZ:function(e){return this.rotateOnAxis(wi,e)},translateOnAxis:function(e,t){return pi.copy(e).applyQuaternion(this.quaternion),this.position.add(pi.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(xi,e)},translateY:function(e){return this.translateOnAxis(_i,e)},translateZ:function(e){return this.translateOnAxis(wi,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(fi.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?gi.copy(e):gi.set(e,t,n);var i=this.parent;this.updateWorldMatrix(!0,!1),bi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fi.lookAt(bi,gi,this.up):fi.lookAt(gi,bi,this.up),this.quaternion.setFromRotationMatrix(fi),i&&(fi.extractRotation(i.matrixWorld),mi.setFromRotationMatrix(fi),this.quaternion.premultiply(mi.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Mi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Si)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),fi.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fi.multiply(e.parent.matrixWorld)),e.applyMatrix4(fi),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new $n),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Jn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(bi,e,vi),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new $n),this.updateMatrixWorld(!0),this.matrixWorld.decompose(bi,yi,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new $n),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];r(e.shapes,c)}else r(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(s=0,l=this.material.length;s<l;s++)h.push(r(e.materials,this.material[s]));i.material=h}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(t){var u=f(e.geometries),d=f(e.materials),p=f(e.textures),m=f(e.images);o=f(e.shapes);u.length>0&&(n.geometries=u),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),o.length>0&&(n.shapes=o)}return n.object=i,n;function f(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),Ei.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Ei,isScene:!0,copy:function(e,t){return Ti.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Ti.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ai=[new $n,new $n,new $n,new $n,new $n,new $n,new $n,new $n],Li=new $n,Pi=new Ui,Ci=new $n,Ri=new $n,zi=new $n,Oi=new $n,Di=new $n,Ii=new $n,ki=new $n,Ni=new $n,Bi=new $n,Fi=new $n;function Ui(e,t){this.min=void 0!==e?e:new $n(1/0,1/0,1/0),this.max=void 0!==t?t:new $n(-1/0,-1/0,-1/0)}function Gi(e,t,n,i,r){var a,o;for(a=0,o=e.length-3;a<=o;a+=3){Fi.fromArray(e,a);var s=r.x*Math.abs(Fi.x)+r.y*Math.abs(Fi.y)+r.z*Math.abs(Fi.z),l=t.dot(Fi),c=n.dot(Fi),h=i.dot(Fi);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>s)return!1}return!0}Object.assign(Ui.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],h=e[s+1],u=e[s+2];c<t&&(t=c),h<n&&(n=h),u<i&&(i=u),c>r&&(r=c),h>a&&(a=h),u>o&&(o=u)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),h=e.getY(s),u=e.getZ(s);c<t&&(t=c),h<n&&(n=h),u<i&&(i=u),c>r&&(r=c),h>a&&(a=h),u>o&&(o=u)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Li.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new $n),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new $n),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Pi.copy(t.boundingBox),Pi.applyMatrix4(e.matrixWorld),this.union(Pi));for(var n=e.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new $n),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Li),Li.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ki),Ni.subVectors(this.max,ki),Ci.subVectors(e.a,ki),Ri.subVectors(e.b,ki),zi.subVectors(e.c,ki),Oi.subVectors(Ri,Ci),Di.subVectors(zi,Ri),Ii.subVectors(Ci,zi);var t=[0,-Oi.z,Oi.y,0,-Di.z,Di.y,0,-Ii.z,Ii.y,Oi.z,0,-Oi.x,Di.z,0,-Di.x,Ii.z,0,-Ii.x,-Oi.y,Oi.x,0,-Di.y,Di.x,0,-Ii.y,Ii.x,0];return!!Gi(t,Ci,Ri,zi,Ni)&&(!!Gi(t=[1,0,0,0,1,0,0,0,1],Ci,Ri,zi,Ni)&&(Bi.crossVectors(Oi,Di),Gi(t=[Bi.x,Bi.y,Bi.z],Ci,Ri,zi,Ni)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new $n),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Li.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Li).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ai)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Hi=new Ui;function ji(e,t){this.center=void 0!==e?e:new $n,this.radius=void 0!==t?t:-1}Object.assign(ji.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):Hi.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new $n),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Ui),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Vi=new $n,Wi=new $n,Xi=new $n,Yi=new $n,qi=new $n,Zi=new $n,Ji=new $n;function Ki(e,t){this.origin=void 0!==e?e:new $n,this.direction=void 0!==t?t:new $n(0,0,-1)}Object.assign(Ki.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new $n),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Vi)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new $n),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Vi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vi.copy(this.direction).multiplyScalar(t).add(this.origin),Vi.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){Wi.copy(e).add(t).multiplyScalar(.5),Xi.copy(t).sub(e).normalize(),Yi.copy(this.origin).sub(Wi);var r,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(Xi),h=Yi.dot(this.direction),u=-Yi.dot(Xi),d=Yi.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(a=c*h-u,s=l*p,(r=c*u-h)>=0)if(a>=-s)if(a<=s){var m=1/p;o=(r*=m)*(r+c*(a*=m)+2*h)+a*(c*r+a+2*u)+d}else a=l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;else a=-l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;else a<=-s?o=-(r=Math.max(0,-(-c*l+h)))*r+(a=r>0?-l:Math.min(Math.max(-l,-u),l))*(a+2*u)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-u),l))*(a+2*u)+d):o=-(r=Math.max(0,-(c*l+h)))*r+(a=r>0?l:Math.min(Math.max(-l,-u),l))*(a+2*u)+d;else a=c>0?-l:l,o=-(r=Math.max(0,-(c*a+h)))*r+a*(a+2*u)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Xi).multiplyScalar(a).add(Wi),o},intersectSphere:function(e,t){Vi.subVectors(e.center,this.origin);var n=Vi.dot(this.direction),i=Vi.dot(Vi)-n*n,r=e.radius*e.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,a,o,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return l>=0?(n=(e.min.x-u.x)*l,i=(e.max.x-u.x)*l):(n=(e.max.x-u.x)*l,i=(e.min.x-u.x)*l),c>=0?(r=(e.min.y-u.y)*c,a=(e.max.y-u.y)*c):(r=(e.max.y-u.y)*c,a=(e.min.y-u.y)*c),n>a||r>i?null:((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),h>=0?(o=(e.min.z-u.z)*h,s=(e.max.z-u.z)*h):(o=(e.max.z-u.z)*h,s=(e.min.z-u.z)*h),n>s||o>i?null:((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Vi)},intersectTriangle:function(e,t,n,i,r){qi.subVectors(t,e),Zi.subVectors(n,e),Ji.crossVectors(qi,Zi);var a,o=this.direction.dot(Ji);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Yi.subVectors(this.origin,e);var s=a*this.direction.dot(Zi.crossVectors(Yi,Zi));if(s<0)return null;var l=a*this.direction.dot(qi.cross(Yi));if(l<0)return null;if(s+l>o)return null;var c=-a*Yi.dot(Ji);return c<0?null:this.at(c/o,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Qi=new $n,$i=new $n,er=new jn;function tr(e,t){this.normal=void 0!==e?e:new $n(1,0,0),this.constant=void 0!==t?t:0}Object.assign(tr.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var i=Qi.subVectors(n,t).cross($i.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new $n),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new $n);var n=e.delta(Qi),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new $n),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||er.getNormalMatrix(e),i=this.coplanarPoint(Qi).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var nr=new $n,ir=new $n,rr=new $n,ar=new $n,or=new $n,sr=new $n,lr=new $n,cr=new $n,hr=new $n,ur=new $n;function dr(e,t,n){this.a=void 0!==e?e:new $n,this.b=void 0!==t?t:new $n,this.c=void 0!==n?n:new $n}Object.assign(dr,{getNormal:function(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new $n),i.subVectors(n,t),nr.subVectors(e,t),i.cross(nr);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){nr.subVectors(i,t),ir.subVectors(n,t),rr.subVectors(e,t);var a=nr.dot(nr),o=nr.dot(ir),s=nr.dot(rr),l=ir.dot(ir),c=ir.dot(rr),h=a*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new $n),0===h)return r.set(-2,-1,-1);var u=1/h,d=(l*s-o*c)*u,p=(a*c-o*s)*u;return r.set(1-d-p,p,d)},containsPoint:function(e,t,n,i){return dr.getBarycoord(e,t,n,i,ar),ar.x>=0&&ar.y>=0&&ar.x+ar.y<=1},getUV:function(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,ar),s.set(0,0),s.addScaledVector(r,ar.x),s.addScaledVector(a,ar.y),s.addScaledVector(o,ar.z),s},isFrontFacing:function(e,t,n,i){return nr.subVectors(n,t),ir.subVectors(e,t),nr.cross(ir).dot(i)<0}}),Object.assign(dr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return nr.subVectors(this.c,this.b),ir.subVectors(this.a,this.b),.5*nr.cross(ir).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new $n),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return dr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new tr),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return dr.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return dr.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return dr.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return dr.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new $n);var n,i,r=this.a,a=this.b,o=this.c;or.subVectors(a,r),sr.subVectors(o,r),cr.subVectors(e,r);var s=or.dot(cr),l=sr.dot(cr);if(s<=0&&l<=0)return t.copy(r);hr.subVectors(e,a);var c=or.dot(hr),h=sr.dot(hr);if(c>=0&&h<=c)return t.copy(a);var u=s*h-c*l;if(u<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(r).addScaledVector(or,n);ur.subVectors(e,o);var d=or.dot(ur),p=sr.dot(ur);if(p>=0&&d<=p)return t.copy(o);var m=d*l-s*p;if(m<=0&&l>=0&&p<=0)return i=l/(l-p),t.copy(r).addScaledVector(sr,i);var f=c*p-d*h;if(f<=0&&h-c>=0&&d-p>=0)return lr.subVectors(o,a),i=(h-c)/(h-c+(d-p)),t.copy(a).addScaledVector(lr,i);var g=1/(f+m+u);return n=m*g,i=u*g,t.copy(r).addScaledVector(or,n).addScaledVector(sr,i)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var pr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mr={h:0,s:0,l:0},fr={h:0,s:0,l:0};function gr(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function br(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function vr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function yr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function xr(e,t,n,i,r,a){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new $n,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new gr,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Object.assign(gr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=Gn.euclideanModulo(e,1),t=Gn.clamp(t,0,1),n=Gn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=br(r,i,e+1/3),this.g=br(r,i,e),this.b=br(r,i,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=pr[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=vr(e.r),this.g=vr(e.g),this.b=vr(e.b),this},copyLinearToSRGB:function(e){return this.r=yr(e.r),this.g=yr(e.g),this.b=yr(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case i:t=(r-a)/c+(r<a?6:0);break;case r:t=(a-i)/c+2;break;case a:t=(i-r)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(mr),mr.h+=e,mr.s+=t,mr.l+=n,this.setHSL(mr.h,mr.s,mr.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(mr),e.getHSL(fr);var n=Gn.lerp(mr.h,fr.h,t),i=Gn.lerp(mr.s,fr.s,t),r=Gn.lerp(mr.l,fr.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),gr.NAMES=pr,Object.assign(xr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var _r=0;function wr(){Object.defineProperty(this,"id",{value:_r++}),this.uuid=Gn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=w,this.side=g,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=k,this.blendDst=N,this.blendEquation=A,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=X,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=An,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pn,this.stencilZFail=pn,this.stencilZPass=pn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Mr(e){wr.call(this),this.type="MeshBasicMaterial",this.color=new gr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}wr.prototype=Object.assign(Object.create(Nn.prototype),{constructor:wr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===y;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==g&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),a=i(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(wr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Mr.prototype=Object.create(wr.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isMeshBasicMaterial=!0,Mr.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Sr=new $n;function Tr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Ln,this.updateRange={offset:0,count:-1},this.version=0}function Er(e,t,n){Tr.call(this,new Int8Array(e),t,n)}function Ar(e,t,n){Tr.call(this,new Uint8Array(e),t,n)}function Lr(e,t,n){Tr.call(this,new Uint8ClampedArray(e),t,n)}function Pr(e,t,n){Tr.call(this,new Int16Array(e),t,n)}function Cr(e,t,n){Tr.call(this,new Uint16Array(e),t,n)}function Rr(e,t,n){Tr.call(this,new Int32Array(e),t,n)}function zr(e,t,n){Tr.call(this,new Uint32Array(e),t,n)}function Or(e,t,n){Tr.call(this,new Float32Array(e),t,n)}function Dr(e,t,n){Tr.call(this,new Float64Array(e),t,n)}function Ir(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function kr(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(Tr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Tr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new gr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new Hn),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new $n),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Yn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){for(var t=0,n=this.count;t<n;t++)Sr.x=this.getX(t),Sr.y=this.getY(t),Sr.z=this.getZ(t),Sr.applyMatrix3(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Sr.x=this.getX(t),Sr.y=this.getY(t),Sr.z=this.getZ(t),Sr.applyMatrix4(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Sr.x=this.getX(t),Sr.y=this.getY(t),Sr.z=this.getZ(t),Sr.applyNormalMatrix(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Sr.x=this.getX(t),Sr.y=this.getY(t),Sr.z=this.getZ(t),Sr.transformDirection(e),this.setXYZ(t,Sr.x,Sr.y,Sr.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Er.prototype=Object.create(Tr.prototype),Er.prototype.constructor=Er,Ar.prototype=Object.create(Tr.prototype),Ar.prototype.constructor=Ar,Lr.prototype=Object.create(Tr.prototype),Lr.prototype.constructor=Lr,Pr.prototype=Object.create(Tr.prototype),Pr.prototype.constructor=Pr,Cr.prototype=Object.create(Tr.prototype),Cr.prototype.constructor=Cr,Rr.prototype=Object.create(Tr.prototype),Rr.prototype.constructor=Rr,zr.prototype=Object.create(Tr.prototype),zr.prototype.constructor=zr,Or.prototype=Object.create(Tr.prototype),Or.prototype.constructor=Or,Dr.prototype=Object.create(Tr.prototype),Dr.prototype.constructor=Dr,Object.assign(Ir.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:i})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var h,u=e.morphNormals,d=u.length;if(d>0){h=[];for(c=0;c<d;c++)h[c]={name:u[c].name,data:[]};this.morphTargets.normal=h}var p=e.skinIndices,m=e.skinWeights,f=p.length===i.length,g=m.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<n.length;c++){var b=n[c];this.vertices.push(i[b.a],i[b.b],i[b.c]);var v=b.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=b.normal;this.normals.push(y,y,y)}var x,_=b.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=b.color;this.colors.push(w,w,w)}if(!0===a)void 0!==(x=r[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Hn,new Hn,new Hn));if(!0===o)void 0!==(x=r[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Hn,new Hn,new Hn));for(var M=0;M<l;M++){var S=s[M].vertices;t[M].data.push(S[b.a],S[b.b],S[b.c])}for(M=0;M<d;M++){var T=u[M].vertexNormals[c];h[M].data.push(T.a,T.b,T.c)}f&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(m[b.a],m[b.b],m[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Nr=1,Br=new si,Fr=new Ti,Ur=new $n,Gr=new Ui,Hr=new Ui,jr=new $n;function Vr(){Object.defineProperty(this,"id",{value:Nr+=2}),this.uuid=Gn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Vr.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Vr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(kr(e)>65535?zr:Cr)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new jn).getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Br.makeRotationX(e),this.applyMatrix4(Br),this},rotateY:function(e){return Br.makeRotationY(e),this.applyMatrix4(Br),this},rotateZ:function(e){return Br.makeRotationZ(e),this.applyMatrix4(Br),this},translate:function(e,t,n){return Br.makeTranslation(e,t,n),this.applyMatrix4(Br),this},scale:function(e,t,n){return Br.makeScale(e,t,n),this.applyMatrix4(Br),this},lookAt:function(e){return Fr.lookAt(e),Fr.updateMatrix(),this.applyMatrix4(Fr.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ur).negate(),this.translate(Ur.x,Ur.y,Ur.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Or(3*t.vertices.length,3),i=new Or(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Or(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Or(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ir).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Tr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Tr(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.setAttribute("color",new Tr(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Tr(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Tr(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],c=0,h=l.length;c<h;c++){var u=l[c],d=new Or(3*u.data.length,3);d.name=u.name,s.push(d.copyVector3sArray(u.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var p=new Or(4*e.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var m=new Or(4*e.skinWeights.length,4);this.setAttribute("skinWeight",m.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ui);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];Gr.setFromBufferAttribute(r),this.morphTargetsRelative?(jr.addVectors(this.boundingBox.min,Gr.min),this.boundingBox.expandByPoint(jr),jr.addVectors(this.boundingBox.max,Gr.max),this.boundingBox.expandByPoint(jr)):(this.boundingBox.expandByPoint(Gr.min),this.boundingBox.expandByPoint(Gr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ji);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(Gr.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var a=t[i];Hr.setFromBufferAttribute(a),this.morphTargetsRelative?(jr.addVectors(Gr.min,Hr.min),Gr.expandByPoint(jr),jr.addVectors(Gr.max,Hr.max),Gr.expandByPoint(jr)):(Gr.expandByPoint(Hr.min),Gr.expandByPoint(Hr.max))}Gr.getCenter(n);var o=0;for(i=0,r=e.count;i<r;i++)jr.fromBufferAttribute(e,i),o=Math.max(o,n.distanceToSquared(jr));if(t)for(i=0,r=t.length;i<r;i++){a=t[i];for(var s=this.morphTargetsRelative,l=0,c=a.count;l<c;l++)jr.fromBufferAttribute(a,l),s&&(Ur.fromBufferAttribute(e,l),jr.add(Ur)),o=Math.max(o,n.distanceToSquared(jr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new Tr(new Float32Array(n.length),3));else for(var i=t.normal.array,r=0,a=i.length;r<a;r++)i[r]=0;var o,s,l,c=t.normal.array,h=new $n,u=new $n,d=new $n,p=new $n,m=new $n;if(e){var f=e.array;for(r=0,a=e.count;r<a;r+=3)o=3*f[r+0],s=3*f[r+1],l=3*f[r+2],h.fromArray(n,o),u.fromArray(n,s),d.fromArray(n,l),p.subVectors(d,u),m.subVectors(h,u),p.cross(m),c[o]+=p.x,c[o+1]+=p.y,c[o+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[l]+=p.x,c[l+1]+=p.y,c[l+2]+=p.z}else for(r=0,a=n.length;r<a;r+=9)h.fromArray(n,r),u.fromArray(n,r+3),d.fromArray(n,r+6),p.subVectors(d,u),m.subVectors(h,u),p.cross(m),c[r]=p.x,c[r+1]=p.y,c[r+2]=p.z,c[r+3]=p.x,c[r+4]=p.y,c[r+5]=p.z,c[r+6]=p.x,c[r+7]=p.y,c[r+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,a=e.attributes[i],o=a.array,s=a.itemSize*t,l=Math.min(o.length,r.length-s),c=0,h=s;c<l;c++,h++)r[h]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)jr.x=e.getX(t),jr.y=e.getY(t),jr.z=e.getZ(t),jr.normalize(),e.setXYZ(t,jr.x,jr.y,jr.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=new n.constructor(t.length*i),a=0,o=0,s=0,l=t.length;s<l;s++){a=t[s]*i;for(var c=0;c<i;c++)r[o++]=n[a++]}return new Tr(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Vr,n=this.index.array,i=this.attributes;for(var r in i){var a=e(i[r],n);t.setAttribute(r,a)}var o=this.morphAttributes;for(r in o){for(var s=[],l=o[r],c=0,h=l.length;c<h;c++){a=e(l[c],n);s.push(a)}t.morphAttributes[r]=s}t.morphTargetsRelative=this.morphTargetsRelative;for(var u=this.groups,d=(c=0,u.length);c<d;c++){var p=u[c];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var a=(d=r[n]).toJSON();""!==d.name&&(a.name=d.name),e.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],c=[],h=0,u=l.length;h<u;h++){var d;a=(d=l[h]).toJSON();""!==d.name&&(a.name=d.name),c.push(a)}c.length>0&&(o[n]=c,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e},clone:function(){return(new Vr).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var a=e.attributes;for(t in a){var o=a[t];this.setAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[],c=s[t];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[t]=l}this.morphTargetsRelative=e.morphTargetsRelative;var h=e.groups;for(n=0,i=h.length;n<i;n++){var u=h[n];this.addGroup(u.start,u.count,u.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Wr=new si,Xr=new Ki,Yr=new ji,qr=new $n,Zr=new $n,Jr=new $n,Kr=new $n,Qr=new $n,$r=new $n,ea=new $n,ta=new $n,na=new $n,ia=new Hn,ra=new Hn,aa=new Hn,oa=new $n,sa=new $n;function la(e,t){Ti.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Vr,this.material=void 0!==t?t:new Mr,this.updateMorphTargets()}function ca(e,t,n,i,r,a,o,s){if(null===(t.side===b?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side!==v,s)))return null;sa.copy(s),sa.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(sa);return l<n.near||l>n.far?null:{distance:l,point:sa.clone(),object:e}}function ha(e,t,n,i,r,a,o,s,l,c,h,u){qr.fromBufferAttribute(r,c),Zr.fromBufferAttribute(r,h),Jr.fromBufferAttribute(r,u);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){ea.set(0,0,0),ta.set(0,0,0),na.set(0,0,0);for(var p=0,m=a.length;p<m;p++){var f=d[p],g=a[p];0!==f&&(Kr.fromBufferAttribute(g,c),Qr.fromBufferAttribute(g,h),$r.fromBufferAttribute(g,u),o?(ea.addScaledVector(Kr,f),ta.addScaledVector(Qr,f),na.addScaledVector($r,f)):(ea.addScaledVector(Kr.sub(qr),f),ta.addScaledVector(Qr.sub(Zr),f),na.addScaledVector($r.sub(Jr),f)))}qr.add(ea),Zr.add(ta),Jr.add(na)}e.isSkinnedMesh&&(e.boneTransform(c,qr),e.boneTransform(h,Zr),e.boneTransform(u,Jr));var b=ca(e,t,n,i,qr,Zr,Jr,oa);if(b){s&&(ia.fromBufferAttribute(s,c),ra.fromBufferAttribute(s,h),aa.fromBufferAttribute(s,u),b.uv=dr.getUV(oa,qr,Zr,Jr,ia,ra,aa,new Hn)),l&&(ia.fromBufferAttribute(l,c),ra.fromBufferAttribute(l,h),aa.fromBufferAttribute(l,u),b.uv2=dr.getUV(oa,qr,Zr,Jr,ia,ra,aa,new Hn));var v=new xr(c,h,u);dr.getNormal(qr,Zr,Jr,v.normal),b.face=v}return b}la.prototype=Object.assign(Object.create(Ti.prototype),{constructor:la,isMesh:!0,copy:function(e){return Ti.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Yr.copy(i.boundingSphere),Yr.applyMatrix4(a),!1!==e.ray.intersectsSphere(Yr)&&(Wr.getInverse(a),Xr.copy(e.ray).applyMatrix4(Wr),null===i.boundingBox||!1!==Xr.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o,s,l,c,h,u,d,p,m,f=i.index,g=i.attributes.position,b=i.morphAttributes.position,v=i.morphTargetsRelative,y=i.attributes.uv,x=i.attributes.uv2,_=i.groups,w=i.drawRange;if(null!==f)if(Array.isArray(r))for(c=0,u=_.length;c<u;c++)for(m=r[(p=_[c]).materialIndex],h=Math.max(p.start,w.start),d=Math.min(p.start+p.count,w.start+w.count);h<d;h+=3)o=f.getX(h),s=f.getX(h+1),l=f.getX(h+2),(n=ha(this,m,e,Xr,g,b,v,y,x,o,s,l))&&(n.faceIndex=Math.floor(h/3),n.face.materialIndex=p.materialIndex,t.push(n));else for(c=Math.max(0,w.start),u=Math.min(f.count,w.start+w.count);c<u;c+=3)o=f.getX(c),s=f.getX(c+1),l=f.getX(c+2),(n=ha(this,r,e,Xr,g,b,v,y,x,o,s,l))&&(n.faceIndex=Math.floor(c/3),t.push(n));else if(void 0!==g)if(Array.isArray(r))for(c=0,u=_.length;c<u;c++)for(m=r[(p=_[c]).materialIndex],h=Math.max(p.start,w.start),d=Math.min(p.start+p.count,w.start+w.count);h<d;h+=3)(n=ha(this,m,e,Xr,g,b,v,y,x,o=h,s=h+1,l=h+2))&&(n.faceIndex=Math.floor(h/3),n.face.materialIndex=p.materialIndex,t.push(n));else for(c=Math.max(0,w.start),u=Math.min(g.count,w.start+w.count);c<u;c+=3)(n=ha(this,r,e,Xr,g,b,v,y,x,o=c,s=c+1,l=c+2))&&(n.faceIndex=Math.floor(c/3),t.push(n))}else if(i.isGeometry){var M,S,T,E,A=Array.isArray(r),L=i.vertices,P=i.faces,C=i.faceVertexUvs[0];C.length>0&&(E=C);for(var R=0,z=P.length;R<z;R++){var O=P[R],D=A?r[O.materialIndex]:r;if(void 0!==D&&(M=L[O.a],S=L[O.b],T=L[O.c],n=ca(this,D,e,Xr,M,S,T,oa))){if(E&&E[R]){var I=E[R];ia.copy(I[0]),ra.copy(I[1]),aa.copy(I[2]),n.uv=dr.getUV(oa,M,S,T,ia,ra,aa,new Hn)}n.face=O,n.faceIndex=R,t.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ua=0,da=new si,pa=new Ti,ma=new $n;function fa(){Object.defineProperty(this,"id",{value:ua+=2}),this.uuid=Gn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}fa.prototype=Object.assign(Object.create(Nn.prototype),{constructor:fa,isGeometry:!0,applyMatrix4:function(e){for(var t=(new jn).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return da.makeRotationX(e),this.applyMatrix4(da),this},rotateY:function(e){return da.makeRotationY(e),this.applyMatrix4(da),this},rotateZ:function(e){return da.makeRotationZ(e),this.applyMatrix4(da),this},translate:function(e,t,n){return da.makeTranslation(e,t,n),this.applyMatrix4(da),this},scale:function(e,t,n){return da.makeScale(e,t,n),this.applyMatrix4(da),this},lookAt:function(e){return pa.lookAt(e),pa.updateMatrix(),this.applyMatrix4(pa.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,o=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0;c<r.length;c+=3)t.vertices.push((new $n).fromArray(r,c)),void 0!==o&&t.colors.push((new gr).fromArray(o,c));function h(e,n,i,r){var c=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],h=new xr(e,n,i,void 0===a?[]:[(new $n).fromArray(a,3*e),(new $n).fromArray(a,3*n),(new $n).fromArray(a,3*i)],c,r);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new Hn).fromArray(s,2*e),(new Hn).fromArray(s,2*n),(new Hn).fromArray(s,2*i)]),void 0!==l&&t.faceVertexUvs[1].push([(new Hn).fromArray(l,2*e),(new Hn).fromArray(l,2*n),(new Hn).fromArray(l,2*i)])}var u=e.groups;if(u.length>0)for(c=0;c<u.length;c++)for(var d=u[c],p=d.start,m=p,f=p+d.count;m<f;m+=3)void 0!==n?h(n[m],n[m+1],n[m+2],d.materialIndex):h(m,m+1,m+2,d.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)h(n[c],n[c+1],n[c+2]);else for(c=0;c<r.length/3;c+=3)h(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ma).negate(),this.translate(ma.x,ma.y,ma.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new si;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){for(var e=new $n,t=new $n,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new $n;if(e){var s,l,c,h=new $n,u=new $n;for(i=0,r=this.faces.length;i<r;i++)a=this.faces[i],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c],h.subVectors(c,l),u.subVectors(s,l),h.cross(u),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(a=this.faces[i]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var d=(a=this.faces[i]).vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var a=new fa;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)l=new $n,c={a:new $n,b:new $n,c:new $n},o.push(l),s.push(c)}var l,c,h=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],l=h.faceNormals[n],c=h.vertexNormals[n],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ui),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ji),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new jn).getNormalMatrix(t));for(var u=0,d=o.length;u<d;u++){var p=o[u].clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(u=0,d=h.length;u<d;u++)c.push(h[u].clone());for(u=0,d=l.length;u<d;u++){var m,f,g,b=l[u],v=b.vertexNormals,y=b.vertexColors;(m=new xr(b.a+r,b.b+r,b.c+r)).normal.copy(b.normal),void 0!==i&&m.normal.applyMatrix3(i).normalize();for(var x=0,_=v.length;x<_;x++)f=v[x].clone(),void 0!==i&&f.applyMatrix3(i).normalize(),m.vertexNormals.push(f);m.color.copy(b.color);for(x=0,_=y.length;x<_;x++)g=y[x],m.vertexColors.push(g.clone());m.materialIndex=b.materialIndex+n,s.push(m)}for(u=0,d=e.faceVertexUvs.length;u<d;u++){var w=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(x=0,_=w.length;x<_;x++){for(var M=w[x],S=[],T=0,E=M.length;T<E;T++)S.push(M[T].clone());this.faceVertexUvs[u].push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,a,o,s,l={},c=[],h=[],u=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u)]?(l[t]=n,c.push(this.vertices[n]),h[n]=c.length-1):h[n]=h[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=h[r.a],r.b=h[r.b],r.c=h[r.c],a=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-c.length;return this.vertices=c,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new $n(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var s=e[n]._id;i&&i.push(a[s]),r&&r.push(o[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}var o=[],s=[],l={},c=[],h={},u=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],m=void 0!==this.faceVertexUvs[0][r],f=p.normal.length()>0,g=p.vertexNormals.length>0,b=1!==p.color.r||1!==p.color.g||1!==p.color.b,v=p.vertexColors.length>0,y=0;if(y=M(y,0,0),y=M(y,1,!0),y=M(y,2,!1),y=M(y,3,m),y=M(y,4,f),y=M(y,5,g),y=M(y,6,b),y=M(y,7,v),o.push(y),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var x=this.faceVertexUvs[0][r];o.push(E(x[0]),E(x[1]),E(x[2]))}if(f&&o.push(S(p.normal)),g){var _=p.vertexNormals;o.push(S(_[0]),S(_[1]),S(_[2]))}if(b&&o.push(T(p.color)),v){var w=p.vertexColors;o.push(T(w[0]),T(w[1]),T(w[2]))}}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=c.length,c.push(e.getHex())),h[t]}function E(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=u.length/2,u.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=i,e.data.normals=s,c.length>0&&(e.data.colors=c),u.length>0&&(e.data.uvs=[u]),e.data.faces=o,e},clone:function(){return(new fa).copy(this)},copy:function(e){var t,n,i,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var h=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=h.length;i<r;i++){var u=h[i],d=[];for(a=0,o=u.length;a<o;a++){var p=u[a];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var m=e.morphTargets;for(t=0,n=m.length;t<n;t++){var f={};if(f.name=m[t].name,void 0!==m[t].vertices)for(f.vertices=[],i=0,r=m[t].vertices.length;i<r;i++)f.vertices.push(m[t].vertices[i].clone());if(void 0!==m[t].normals)for(f.normals=[],i=0,r=m[t].normals.length;i<r;i++)f.normals.push(m[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var b={};if(void 0!==g[t].vertexNormals)for(b.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var v=g[t].vertexNormals[i],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),b.vertexNormals.push(y)}if(void 0!==g[t].faceNormals)for(b.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)b.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(b)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class ga extends fa{constructor(e,t,n,i,r,a){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new ba(e,t,n,i,r,a)),this.mergeVertices()}}class ba extends Vr{constructor(e,t,n,i,r,a){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var o=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var s=[],l=[],c=[],h=[],u=0,d=0;function p(e,t,n,i,r,a,p,m,f,g,b){var v,y,x=a/f,_=p/g,w=a/2,M=p/2,S=m/2,T=f+1,E=g+1,A=0,L=0,P=new $n;for(y=0;y<E;y++){var C=y*_-M;for(v=0;v<T;v++){var R=v*x-w;P[e]=R*i,P[t]=C*r,P[n]=S,l.push(P.x,P.y,P.z),P[e]=0,P[t]=0,P[n]=m>0?1:-1,c.push(P.x,P.y,P.z),h.push(v/f),h.push(1-y/g),A+=1}}for(y=0;y<g;y++)for(v=0;v<f;v++){var z=u+v+T*y,O=u+v+T*(y+1),D=u+(v+1)+T*(y+1),I=u+(v+1)+T*y;s.push(z,O,I),s.push(O,D,I),L+=6}o.addGroup(d,L,b),d+=L,u+=A}p("z","y","x",-1,-1,n,t,e,a,r,0),p("z","y","x",1,-1,n,t,-e,a,r,1),p("x","z","y",1,1,e,n,t,i,a,2),p("x","z","y",1,-1,e,n,-t,i,a,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new Or(l,3)),this.setAttribute("normal",new Or(c,3)),this.setAttribute("uv",new Or(h,2))}}function va(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}function ya(e){for(var t={},n=0;n<e.length;n++){var i=va(e[n]);for(var r in i)t[r]=i[r]}return t}var xa={clone:va,merge:ya};function _a(e){wr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function wa(){Ti.call(this),this.type="Camera",this.matrixWorldInverse=new si,this.projectionMatrix=new si,this.projectionMatrixInverse=new si}function Ma(e,t,n,i){wa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}_a.prototype=Object.create(wr.prototype),_a.prototype.constructor=_a,_a.prototype.isShaderMaterial=!0,_a.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=va(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},_a.prototype.toJSON=function(e){var t=wr.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},wa.prototype=Object.assign(Object.create(Ti.prototype),{constructor:wa,isCamera:!0,copy:function(e,t){return Ti.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new $n),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Ti.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Ti.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ma.prototype=Object.assign(Object.create(wa.prototype),{constructor:Ma,isPerspectiveCamera:!0,copy:function(e,t){return wa.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Gn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Gn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Gn.RAD2DEG*Math.atan(Math.tan(.5*Gn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Gn.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Ti.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function Sa(e,t,n,i){Ti.call(this),this.type="CubeCamera";var r=new Ma(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new $n(1,0,0)),this.add(r);var a=new Ma(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new $n(-1,0,0)),this.add(a);var o=new Ma(90,1,e,t);o.up.set(0,0,1),o.lookAt(new $n(0,1,0)),this.add(o);var s=new Ma(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new $n(0,-1,0)),this.add(s);var l=new Ma(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new $n(0,0,1)),this.add(l);var c=new Ma(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new $n(0,0,-1)),this.add(c),i=i||{format:Ue,magFilter:we,minFilter:we},this.renderTarget=new Ta(n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),i=this.renderTarget,h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,a),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,s),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(n)},this.clear=function(e,t,n,i){for(var r=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,n,i);e.setRenderTarget(r)}}function Ta(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),qn.call(this,e,e,t)}function Ea(e,t,n,i,r,a,o,s,l,c,h,u){Xn.call(this,null,a,o,s,l,c,i,r,h,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:be,this.minFilter=void 0!==c?c:be,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Sa.prototype=Object.create(Ti.prototype),Sa.prototype.constructor=Sa,Ta.prototype=Object.create(qn.prototype),Ta.prototype.constructor=Ta,Ta.prototype.isWebGLCubeRenderTarget=!0,Ta.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new Ei,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new _a({type:"CubemapFromEquirect",uniforms:va(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:b,blending:_});r.uniforms.tEquirect.value=t;var a=new la(new ba(5,5,5),r);n.add(a);var o=new Sa(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(e,n),a.geometry.dispose(),a.material.dispose(),this},Ea.prototype=Object.create(Xn.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isDataTexture=!0;var Aa=new ji,La=new $n;function Pa(e,t,n,i,r,a){this.planes=[void 0!==e?e:new tr,void 0!==t?t:new tr,void 0!==n?n:new tr,void 0!==i?i:new tr,void 0!==r?r:new tr,void 0!==a?a:new tr]}Object.assign(Pa.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],h=n[7],u=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],b=n[14],v=n[15];return t[0].setComponents(o-i,h-s,m-u,v-f).normalize(),t[1].setComponents(o+i,h+s,m+u,v+f).normalize(),t[2].setComponents(o+r,h+l,m+d,v+g).normalize(),t[3].setComponents(o-r,h-l,m-d,v-g).normalize(),t[4].setComponents(o-a,h-c,m-p,v-b).normalize(),t[5].setComponents(o+a,h+c,m+p,v+b).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Aa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Aa)},intersectsSprite:function(e){return Aa.center.set(0,0,0),Aa.radius=.7071067811865476,Aa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Aa)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(La.x=i.normal.x>0?e.max.x:e.min.x,La.y=i.normal.y>0?e.max.y:e.min.y,La.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(La)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Ca={common:{diffuse:{value:new gr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new jn},uv2Transform:{value:new jn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new gr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new jn}},sprite:{diffuse:{value:new gr(15658734)},opacity:{value:1},center:{value:new Hn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new jn}}};function Ra(){var e=null,t=!1,n=null;function i(r,a){!1!==t&&(n(r,a),e.requestAnimationFrame(i))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(i),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function za(e,t){var n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var a=i.get(t);void 0===a?i.set(t,function(t,n){var i=t.array,r=t.usage,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,i,r),t.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,r)):a.version<t.version&&(!function(t,i,r){var a=i.array,o=i.updateRange;e.bindBuffer(r,t),-1===o.count?e.bufferSubData(r,0,a):(n?e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(a.buffer,t,r),a.version=t.version)}}}function Oa(e,t,n,i){fa.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Da(e,t,n,i)),this.mergeVertices()}function Da(e,t,n,i){Vr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,a,o=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,h=l+1,u=c+1,d=e/l,p=t/c,m=[],f=[],g=[],b=[];for(a=0;a<u;a++){var v=a*p-s;for(r=0;r<h;r++){var y=r*d-o;f.push(y,-v,0),g.push(0,0,1),b.push(r/l),b.push(1-a/c)}}for(a=0;a<c;a++)for(r=0;r<l;r++){var x=r+h*a,_=r+h*(a+1),w=r+1+h*(a+1),M=r+1+h*a;m.push(x,_,M),m.push(_,w,M)}this.setIndex(m),this.setAttribute("position",new Or(f,3)),this.setAttribute("normal",new Or(g,3)),this.setAttribute("uv",new Or(b,2))}Oa.prototype=Object.create(fa.prototype),Oa.prototype.constructor=Oa,Da.prototype=Object.create(Vr.prototype),Da.prototype.constructor=Da;var Ia={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ka={basic:{uniforms:ya([Ca.common,Ca.specularmap,Ca.envmap,Ca.aomap,Ca.lightmap,Ca.fog]),vertexShader:Ia.meshbasic_vert,fragmentShader:Ia.meshbasic_frag},lambert:{uniforms:ya([Ca.common,Ca.specularmap,Ca.envmap,Ca.aomap,Ca.lightmap,Ca.emissivemap,Ca.fog,Ca.lights,{emissive:{value:new gr(0)}}]),vertexShader:Ia.meshlambert_vert,fragmentShader:Ia.meshlambert_frag},phong:{uniforms:ya([Ca.common,Ca.specularmap,Ca.envmap,Ca.aomap,Ca.lightmap,Ca.emissivemap,Ca.bumpmap,Ca.normalmap,Ca.displacementmap,Ca.fog,Ca.lights,{emissive:{value:new gr(0)},specular:{value:new gr(1118481)},shininess:{value:30}}]),vertexShader:Ia.meshphong_vert,fragmentShader:Ia.meshphong_frag},standard:{uniforms:ya([Ca.common,Ca.envmap,Ca.aomap,Ca.lightmap,Ca.emissivemap,Ca.bumpmap,Ca.normalmap,Ca.displacementmap,Ca.roughnessmap,Ca.metalnessmap,Ca.fog,Ca.lights,{emissive:{value:new gr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ia.meshphysical_vert,fragmentShader:Ia.meshphysical_frag},toon:{uniforms:ya([Ca.common,Ca.specularmap,Ca.aomap,Ca.lightmap,Ca.emissivemap,Ca.bumpmap,Ca.normalmap,Ca.displacementmap,Ca.gradientmap,Ca.fog,Ca.lights,{emissive:{value:new gr(0)},specular:{value:new gr(1118481)},shininess:{value:30}}]),vertexShader:Ia.meshtoon_vert,fragmentShader:Ia.meshtoon_frag},matcap:{uniforms:ya([Ca.common,Ca.bumpmap,Ca.normalmap,Ca.displacementmap,Ca.fog,{matcap:{value:null}}]),vertexShader:Ia.meshmatcap_vert,fragmentShader:Ia.meshmatcap_frag},points:{uniforms:ya([Ca.points,Ca.fog]),vertexShader:Ia.points_vert,fragmentShader:Ia.points_frag},dashed:{uniforms:ya([Ca.common,Ca.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ia.linedashed_vert,fragmentShader:Ia.linedashed_frag},depth:{uniforms:ya([Ca.common,Ca.displacementmap]),vertexShader:Ia.depth_vert,fragmentShader:Ia.depth_frag},normal:{uniforms:ya([Ca.common,Ca.bumpmap,Ca.normalmap,Ca.displacementmap,{opacity:{value:1}}]),vertexShader:Ia.normal_vert,fragmentShader:Ia.normal_frag},sprite:{uniforms:ya([Ca.sprite,Ca.fog]),vertexShader:Ia.sprite_vert,fragmentShader:Ia.sprite_frag},background:{uniforms:{uvTransform:{value:new jn},t2D:{value:null}},vertexShader:Ia.background_vert,fragmentShader:Ia.background_frag},cube:{uniforms:ya([Ca.envmap,{opacity:{value:1}}]),vertexShader:Ia.cube_vert,fragmentShader:Ia.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ia.equirect_vert,fragmentShader:Ia.equirect_frag},distanceRGBA:{uniforms:ya([Ca.common,Ca.displacementmap,{referencePosition:{value:new $n},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ia.distanceRGBA_vert,fragmentShader:Ia.distanceRGBA_frag},shadow:{uniforms:ya([Ca.lights,Ca.fog,{color:{value:new gr(0)},opacity:{value:1}}]),vertexShader:Ia.shadow_vert,fragmentShader:Ia.shadow_frag}};function Na(e,t,n,i){var r,a,o=new gr(0),s=0,l=null,c=0,h=null;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),u(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(o,s=e)},render:function(t,i,d,p){var m=i.background,f=e.xr,v=f.getSession&&f.getSession();if(v&&"additive"===v.environmentBlendMode&&(m=null),null===m?u(o,s):m&&m.isColor&&(u(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===de)){void 0===a&&((a=new la(new ba(1,1,1),new _a({type:"BackgroundCubeMaterial",uniforms:va(ka.cube.uniforms),vertexShader:ka.cube.vertexShader,fragmentShader:ka.cube.fragmentShader,side:b,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a));var y=m.isWebGLCubeRenderTarget?m.texture:m;a.material.uniforms.envMap.value=y,a.material.uniforms.flipEnvMap.value=y.isCubeTexture?-1:1,l===m&&c===y.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=m,c=y.version,h=e.toneMapping),t.unshift(a,a.geometry,a.material,0,0,null)}else m&&m.isTexture&&(void 0===r&&((r=new la(new Da(2,2),new _a({type:"BackgroundMaterial",uniforms:va(ka.background.uniforms),vertexShader:ka.background.vertexShader,fragmentShader:ka.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),r.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&c===m.version&&h===e.toneMapping||(r.material.needsUpdate=!0,l=m,c=m.version,h=e.toneMapping),t.unshift(r,r.geometry,r.material,0,0,null))}}}function Ba(e,t,n,i){var r,a=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r)},this.renderInstances=function(i,o,s,l){if(0!==l){var c,h;if(a)c=e,h="drawArraysInstanced";else if(h="drawArraysInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,o,s,l),n.update(s,r,l)}}}function Fa(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),u=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),f=e.getParameter(36348),g=e.getParameter(36349),b=h>0,v=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:u,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:m,maxVaryings:f,maxFragmentUniforms:g,vertexTextures:b,floatFragmentTextures:v,floatVertexTextures:b&&v,maxSamples:a?e.getParameter(36183):0}}function Ua(){var e=this,t=null,n=0,i=!1,r=!1,a=new tr,o=new jn,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,i,r){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==r||null===c){var h=i+4*l,u=n.matrixWorldInverse;o.getNormalMatrix(u),(null===c||c.length<h)&&(c=new Float32Array(h));for(var d=0,p=i;d!==l;++d,p+=4)a.copy(t[d]).applyMatrix4(u,o),a.normal.toArray(c,p),c[p+3]=a.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,e.numIntersection=0,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,a){var o=0!==e.length||r||0!==n||i;return i=r,t=c(e,a,0),n=e.length,o},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(e,a,o,h,u,d){if(!i||null===e||0===e.length||r&&!o)r?c(null):l();else{var p=r?0:n,m=4*p,f=u.clippingState||null;s.value=f,f=c(e,h,m,d);for(var g=0;g!==m;++g)f[g]=t[g];u.clippingState=f,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Ga(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function Ha(e,t,n){var i=new WeakMap,r=new WeakMap;function a(e){var o=e.target,s=i.get(o);for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);o.removeEventListener("dispose",a),i.delete(o);var c=r.get(s);c&&(t.remove(c),r.delete(s)),n.memory.geometries--}function o(e){var n=[],i=e.index,a=e.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,c=s.length;l<c;l+=3){var h=s[l+0],u=s[l+1],d=s[l+2];n.push(h,u,u,d,d,h)}}else{s=a.array;o=a.version;for(l=0,c=s.length/3-1;l<c;l+=3){h=l+0,u=l+1,d=l+2;n.push(h,u,u,d,d,h)}}var p=new(kr(n)>65535?zr:Cr)(n,1);p.version=o,t.update(p,34963);var m=r.get(e);m&&t.remove(m),r.set(e,p)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",a),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Vr).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.index,i=e.attributes;for(var r in null!==n&&t.update(n,34963),i)t.update(i[r],34962);var a=e.morphAttributes;for(var r in a)for(var o=a[r],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=r.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return r.get(e)}}}function ja(e,t,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,a,t*o),n.update(i,r)},this.renderInstances=function(i,l,c,h){if(0!==h){var u,d;if(s)u=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](r,c,a,l*o,h),n.update(c,r,h)}}}function Va(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(i=i||1,t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Wa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Xa(e){var t={},n=new Float32Array(8);return{update:function(i,r,a,o){var s=i.morphTargetInfluences,l=void 0===s?0:s.length,c=t[r.id];if(void 0===c){c=[];for(var h=0;h<l;h++)c[h]=[h,0];t[r.id]=c}var u=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal;for(h=0;h<l;h++){0!==(m=c[h])[1]&&(u&&r.deleteAttribute("morphTarget"+h),d&&r.deleteAttribute("morphNormal"+h))}for(h=0;h<l;h++){(m=c[h])[0]=h,m[1]=s[h]}c.sort(Wa);var p=0;for(h=0;h<8;h++){var m;if(m=c[h]){var f=m[0],g=m[1];if(g){u&&r.setAttribute("morphTarget"+h,u[f]),d&&r.setAttribute("morphNormal"+h,d[f]),n[h]=g,p+=g;continue}}n[h]=0}var b=r.morphTargetsRelative?1:1-p;o.getUniforms().setValue(e,"morphTargetBaseInfluence",b),o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Ya(e,t,n,i){var r=new WeakMap;return{update:function(e){var a=i.render.frame,o=e.geometry,s=t.get(e,o);return r.get(s)!==a&&(o.isGeometry&&s.updateFromObject(e),t.update(s),r.set(s,a)),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){r=new WeakMap}}}function qa(e,t,n,i,r,a,o,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:se,o=void 0!==o?o:Ue,Xn.call(this,e,t,n,i,r,a,o,s,l,c),this.flipY=!1}function Za(e,t,n,i){Xn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=be,this.minFilter=be,this.wrapR=fe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Ja(e,t,n,i){Xn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=be,this.minFilter=be,this.wrapR=fe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ka.physical={uniforms:ya([ka.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Hn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new gr(0)},transparency:{value:0}}]),vertexShader:Ia.meshphysical_vert,fragmentShader:Ia.meshphysical_frag},qa.prototype=Object.create(Xn.prototype),qa.prototype.constructor=qa,qa.prototype.isCubeTexture=!0,Object.defineProperty(qa.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Za.prototype=Object.create(Xn.prototype),Za.prototype.constructor=Za,Za.prototype.isDataTexture2DArray=!0,Ja.prototype=Object.create(Xn.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isDataTexture3D=!0;var Ka=new Xn,Qa=new Za,$a=new Ja,eo=new qa,to=[],no=[],io=new Float32Array(16),ro=new Float32Array(9),ao=new Float32Array(4);function oo(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,a=to[r];if(void 0===a&&(a=new Float32Array(r),to[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function so(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function lo(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function co(e,t){var n=no[t];void 0===n&&(n=new Int32Array(t),no[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ho(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function uo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(so(n,t))return;e.uniform2fv(this.addr,t),lo(n,t)}}function po(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(so(n,t))return;e.uniform3fv(this.addr,t),lo(n,t)}}function mo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(so(n,t))return;e.uniform4fv(this.addr,t),lo(n,t)}}function fo(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(so(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),lo(n,t)}else{if(so(n,i))return;ao.set(i),e.uniformMatrix2fv(this.addr,!1,ao),lo(n,i)}}function go(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(so(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),lo(n,t)}else{if(so(n,i))return;ro.set(i),e.uniformMatrix3fv(this.addr,!1,ro),lo(n,i)}}function bo(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(so(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),lo(n,t)}else{if(so(n,i))return;io.set(i),e.uniformMatrix4fv(this.addr,!1,io),lo(n,i)}}function vo(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||Ka,r)}function yo(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Qa,r)}function xo(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||$a,r)}function _o(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||eo,r)}function wo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Mo(e,t){var n=this.cache;so(n,t)||(e.uniform2iv(this.addr,t),lo(n,t))}function So(e,t){var n=this.cache;so(n,t)||(e.uniform3iv(this.addr,t),lo(n,t))}function To(e,t){var n=this.cache;so(n,t)||(e.uniform4iv(this.addr,t),lo(n,t))}function Eo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ao(e,t){e.uniform1fv(this.addr,t)}function Lo(e,t){e.uniform1iv(this.addr,t)}function Po(e,t){e.uniform2iv(this.addr,t)}function Co(e,t){e.uniform3iv(this.addr,t)}function Ro(e,t){e.uniform4iv(this.addr,t)}function zo(e,t){var n=oo(t,this.size,2);e.uniform2fv(this.addr,n)}function Oo(e,t){var n=oo(t,this.size,3);e.uniform3fv(this.addr,n)}function Do(e,t){var n=oo(t,this.size,4);e.uniform4fv(this.addr,n)}function Io(e,t){var n=oo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ko(e,t){var n=oo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function No(e,t){var n=oo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Bo(e,t,n){var i=t.length,r=co(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(t[a]||Ka,r[a])}function Fo(e,t,n){var i=t.length,r=co(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(t[a]||eo,r[a])}function Uo(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ho;case 35664:return uo;case 35665:return po;case 35666:return mo;case 35674:return fo;case 35675:return go;case 35676:return bo;case 5124:case 35670:return wo;case 35667:case 35671:return Mo;case 35668:case 35672:return So;case 35669:case 35673:return To;case 5125:return Eo;case 35678:case 36198:case 36298:case 36306:case 35682:return vo;case 35679:case 36299:case 36307:return xo;case 35680:case 36300:case 36308:case 36293:return _o;case 36289:case 36303:case 36311:case 36292:return yo}}(t.type)}function Go(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ao;case 35664:return zo;case 35665:return Oo;case 35666:return Do;case 35674:return Io;case 35675:return ko;case 35676:return No;case 5124:case 35670:return Lo;case 35667:case 35671:return Po;case 35668:case 35672:return Co;case 35669:case 35673:return Ro;case 35678:case 36198:case 36298:case 36306:case 35682:return Bo;case 35680:case 36300:case 36308:case 36293:return Fo}}(t.type)}function Ho(e){this.id=e,this.seq=[],this.map={}}Go.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),lo(t,e)},Ho.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(e,t[o.id],n)}};var jo=/([\w\d_]+)(\])?(\[|\.)?/g;function Vo(e,t){e.seq.push(t),e.map[t.id]=t}function Wo(e,t,n){var i=e.name,r=i.length;for(jo.lastIndex=0;;){var a=jo.exec(i),o=jo.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){Vo(n,void 0===c?new Uo(s,e,t):new Go(s,e,t));break}var h=n.map[s];void 0===h&&Vo(n,h=new Ho(s)),n=h}}function Xo(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),i=0;i<n;++i){var r=e.getActiveUniform(t,i);Wo(r,e.getUniformLocation(t,r.name),this)}}function Yo(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}Xo.prototype.setValue=function(e,t,n,i){var r=this.map[t];void 0!==r&&r.setValue(e,n,i)},Xo.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},Xo.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Xo.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var qo=0;function Zo(e){switch(e){case $t:return["Linear","( value )"];case en:return["sRGB","( value )"];case nn:return["RGBE","( value )"];case an:return["RGBM","( value, 7.0 )"];case on:return["RGBM","( value, 16.0 )"];case sn:return["RGBD","( value, 256.0 )"];case tn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case rn:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function Jo(e,t,n){var i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Ko(e,t){var n=Zo(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Qo(e,t){var n;switch(t){case te:n="Linear";break;case ne:n="Reinhard";break;case ie:n="Uncharted2";break;case re:n="OptimizedCineon";break;case ae:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function $o(e){return""!==e}function es(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ts(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var ns=/^[ \t]*#include +<([\w\d./]+)>/gm;function is(e){return e.replace(ns,rs)}function rs(e,t){var n=Ia[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return is(n)}var as=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,os=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function ss(e){return e.replace(os,cs).replace(as,ls)}function ls(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),cs(e,t,n,i)}function cs(e,t,n,i){for(var r="",a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function hs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function us(e,t,n){var i,r,a,o,s,l=e.getContext(),c=n.defines,h=n.vertexShader,u=n.fragmentShader,d=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===m?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===f&&(t="SHADOWMAP_TYPE_VSM"),t}(n),g=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case se:case le:t="ENVMAP_TYPE_CUBE";break;case de:case pe:t="ENVMAP_TYPE_CUBE_UV";break;case ce:case he:t="ENVMAP_TYPE_EQUIREC";break;case ue:t="ENVMAP_TYPE_SPHERE"}return t}(n),b=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case le:case he:t="ENVMAP_MODE_REFRACTION"}return t}(n),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case K:t="ENVMAP_BLENDING_MULTIPLY";break;case Q:t="ENVMAP_BLENDING_MIX";break;case $:t="ENVMAP_BLENDING_ADD"}return t}(n),y=e.gammaFactor>0?e.gammaFactor:1,x=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($o).join("\n")}(n),_=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(c),w=l.createProgram();if(n.isRawShaderMaterial?((i=[_].filter($o).join("\n")).length>0&&(i+="\n"),(r=[x,_].filter($o).join("\n")).length>0&&(r+="\n")):(i=[hs(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+b:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($o).join("\n"),r=[x,hs(n),"#define SHADER_NAME "+n.shaderName,_,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.envMap?"#define "+b:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ee?"#define TONE_MAPPING":"",n.toneMapping!==ee?Ia.tonemapping_pars_fragment:"",n.toneMapping!==ee?Qo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.outputEncoding||n.mapEncoding||n.matcapEncoding||n.envMapEncoding||n.emissiveMapEncoding||n.lightMapEncoding?Ia.encodings_pars_fragment:"",n.mapEncoding?Ko("mapTexelToLinear",n.mapEncoding):"",n.matcapEncoding?Ko("matcapTexelToLinear",n.matcapEncoding):"",n.envMapEncoding?Ko("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?Ko("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMapEncoding?Ko("lightMapTexelToLinear",n.lightMapEncoding):"",n.outputEncoding?(a="linearToOutputTexel",o=n.outputEncoding,s=Zo(o),"vec4 "+a+"( vec4 value ) { return LinearTo"+s[0]+s[1]+"; }"):"",n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter($o).join("\n")),h=ts(h=es(h=is(h),n),n),u=ts(u=es(u=is(u),n),n),h=ss(h),u=ss(u),n.isWebGL2&&!n.isRawShaderMaterial){var M=!1,S=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==h.match(S)&&null!==u.match(S)&&(M=!0,h=h.replace(S,""),u=u.replace(S,"")),i=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,r=["#version 300 es\n","#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+r}var T,E,A=r+u,L=Yo(l,35633,i+h),P=Yo(l,35632,A);if(l.attachShader(w,L),l.attachShader(w,P),void 0!==n.index0AttributeName?l.bindAttribLocation(w,0,n.index0AttributeName):!0===n.morphTargets&&l.bindAttribLocation(w,0,"position"),l.linkProgram(w),e.debug.checkShaderErrors){var C=l.getProgramInfoLog(w).trim(),R=l.getShaderInfoLog(L).trim(),z=l.getShaderInfoLog(P).trim(),O=!0,D=!0;if(!1===l.getProgramParameter(w,35714)){O=!1;var I=Jo(l,L,"vertex"),k=Jo(l,P,"fragment");console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(w,35715),"gl.getProgramInfoLog",C,I,k)}else""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==R&&""!==z||(D=!1);D&&(this.diagnostics={runnable:O,programLog:C,vertexShader:{log:R,prefix:i},fragmentShader:{log:z,prefix:r}})}return l.deleteShader(L),l.deleteShader(P),this.getUniforms=function(){return void 0===T&&(T=new Xo(l,w)),T},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}(l,w)),E},this.destroy=function(){l.deleteProgram(w),this.program=void 0},this.name=n.shaderName,this.id=qo++,this.cacheKey=t,this.usedTimes=1,this.program=w,this.vertexShader=L,this.fragmentShader=P,this}function ds(e,t,n){var i=[],r=n.isWebGL2,a=n.logarithmicDepthBuffer,o=n.floatVertexTextures,s=n.precision,l=n.maxVertexUniforms,c=n.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=$t,t}this.getParameters=function(i,u,p,m,f,g,y){var x=m.fog,_=i.isMeshStandardMaterial?m.environment:null,w=i.envMap||_,M=h[i.type],S=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(o)return 1024;var n=l,i=Math.floor((n-20)/4),r=Math.min(i,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(y):0;null!==i.precision&&(s=n.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",s,"instead.");var T=function(e,t){var n;if(t){var i=ka[t];n={name:e.type,uniforms:xa.clone(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader}}else n={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return n}(i,M);i.onBeforeCompile(T,e);var E=e.getRenderTarget();return{isWebGL2:r,shaderID:M,shaderName:T.name,uniforms:T.uniforms,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader,defines:i.defines,isRawShaderMaterial:i.isRawShaderMaterial,isShaderMaterial:i.isShaderMaterial,precision:s,instancing:!0===y.isInstancedMesh,supportsVertexTextures:c,outputEncoding:null!==E?d(E.texture):e.outputEncoding,map:!!i.map,mapEncoding:d(i.map),matcap:!!i.matcap,matcapEncoding:d(i.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:d(w),envMapCubeUV:!!w&&(w.mapping===de||w.mapping===pe),lightMap:!!i.lightMap,lightMapEncoding:d(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:d(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===un,tangentSpaceNormalMap:i.normalMapType===hn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||!i.displacementMap),fog:!!x,useFog:i.fog,fogExp2:x&&x.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:a,skinning:i.skinning&&S>0,maxBones:S,useVertexTexture:o,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numRectAreaLights:u.rectArea.length,numHemiLights:u.hemi.length,numDirLightShadows:u.directionalShadowMap.length,numPointLightShadows:u.pointShadowMap.length,numSpotLightShadows:u.spotShadowMap.length,numClippingPlanes:f,numClipIntersection:g,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:ee,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===v,flipSided:i.side===b,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:r||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:r||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:r||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:i.onBeforeCompile}},this.getProgramCacheKey=function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);if(void 0===t.isRawShaderMaterial){for(var r=0;r<u.length;r++)n.push(t[u[r]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.onBeforeCompile.toString()),n.join()},this.acquireProgram=function(t,n){for(var r,a=0,o=i.length;a<o;a++){var s=i[a];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new us(e,n,t),i.push(r)),r},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function ps(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function ms(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function fs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gs(){var e=[],t=0,n=[],i=[],r={id:-1};function a(n,i,a,o,s,l){var c=e[t];return void 0===c?(c={id:n.id,object:n,geometry:i,material:a,program:a.program||r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:l},e[t]=c):(c.id=n.id,c.object=n,c.geometry=i,c.material=a,c.program=a.program||r,c.groupOrder=o,c.renderOrder=n.renderOrder,c.z=s,c.group=l),t++,c}return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(e,t,r,o,s,l){var c=a(e,t,r,o,s,l);(!0===r.transparent?i:n).push(c)},unshift:function(e,t,r,o,s,l){var c=a(e,t,r,o,s,l);(!0===r.transparent?i:n).unshift(c)},finish:function(){for(var n=t,i=e.length;n<i;n++){var r=e[n];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(e,t){n.length>1&&n.sort(e||ms),i.length>1&&i.sort(t||fs)}}}function bs(){var e=new WeakMap;function t(n){var i=n.target;i.removeEventListener("dispose",t),e.delete(i)}return{get:function(n,i){var r,a=e.get(n);return void 0===a?(r=new gs,e.set(n,new WeakMap),e.get(n).set(i,r),n.addEventListener("dispose",t)):void 0===(r=a.get(i))&&(r=new gs,a.set(i,r)),r},dispose:function(){e=new WeakMap}}}function vs(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new $n,color:new gr};break;case"SpotLight":n={position:new $n,direction:new $n,color:new gr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $n,color:new gr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $n,skyColor:new gr,groundColor:new gr};break;case"RectAreaLight":n={color:new gr,position:new $n,halfWidth:new $n,halfHeight:new $n}}return e[t.id]=n,n}}}var ys=0;function xs(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function _s(){for(var e,t=new vs,n=(e={},{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowRadius:1,shadowMapSize:new Hn};break;case"PointLight":n={shadowBias:0,shadowRadius:1,shadowMapSize:new Hn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=0;r<9;r++)i.probe.push(new $n);var a=new $n,o=new si,s=new si;return{setup:function(e,r,l){for(var c=0,h=0,u=0,d=0;d<9;d++)i.probe[d].set(0,0,0);var p=0,m=0,f=0,g=0,b=0,v=0,y=0,x=0,_=l.matrixWorldInverse;e.sort(xs),d=0;for(var w=e.length;d<w;d++){var M=e[d],S=M.color,T=M.intensity,E=M.distance,A=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)c+=S.r*T,h+=S.g*T,u+=S.b*T;else if(M.isLightProbe)for(var L=0;L<9;L++)i.probe[L].addScaledVector(M.sh.coefficients[L],T);else if(M.isDirectionalLight){if((R=t.get(M)).color.copy(M.color).multiplyScalar(M.intensity),R.direction.setFromMatrixPosition(M.matrixWorld),a.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(_),M.castShadow){var P=M.shadow;(C=n.get(M)).shadowBias=P.bias,C.shadowRadius=P.radius,C.shadowMapSize=P.mapSize,i.directionalShadow[p]=C,i.directionalShadowMap[p]=A,i.directionalShadowMatrix[p]=M.shadow.matrix,v++}i.directional[p]=R,p++}else if(M.isSpotLight){if((R=t.get(M)).position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),R.color.copy(S).multiplyScalar(T),R.distance=E,R.direction.setFromMatrixPosition(M.matrixWorld),a.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(_),R.coneCos=Math.cos(M.angle),R.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),R.decay=M.decay,M.castShadow){P=M.shadow;(C=n.get(M)).shadowBias=P.bias,C.shadowRadius=P.radius,C.shadowMapSize=P.mapSize,i.spotShadow[f]=C,i.spotShadowMap[f]=A,i.spotShadowMatrix[f]=M.shadow.matrix,x++}i.spot[f]=R,f++}else if(M.isRectAreaLight){(R=t.get(M)).color.copy(S).multiplyScalar(T),R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),s.identity(),o.copy(M.matrixWorld),o.premultiply(_),s.extractRotation(o),R.halfWidth.set(.5*M.width,0,0),R.halfHeight.set(0,.5*M.height,0),R.halfWidth.applyMatrix4(s),R.halfHeight.applyMatrix4(s),i.rectArea[g]=R,g++}else if(M.isPointLight){if((R=t.get(M)).position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),R.color.copy(M.color).multiplyScalar(M.intensity),R.distance=M.distance,R.decay=M.decay,M.castShadow){var C;P=M.shadow;(C=n.get(M)).shadowBias=P.bias,C.shadowRadius=P.radius,C.shadowMapSize=P.mapSize,C.shadowCameraNear=P.camera.near,C.shadowCameraFar=P.camera.far,i.pointShadow[m]=C,i.pointShadowMap[m]=A,i.pointShadowMatrix[m]=M.shadow.matrix,y++}i.point[m]=R,m++}else if(M.isHemisphereLight){var R;(R=t.get(M)).direction.setFromMatrixPosition(M.matrixWorld),R.direction.transformDirection(_),R.direction.normalize(),R.skyColor.copy(M.color).multiplyScalar(T),R.groundColor.copy(M.groundColor).multiplyScalar(T),i.hemi[b]=R,b++}}i.ambient[0]=c,i.ambient[1]=h,i.ambient[2]=u;var z=i.hash;z.directionalLength===p&&z.pointLength===m&&z.spotLength===f&&z.rectAreaLength===g&&z.hemiLength===b&&z.numDirectionalShadows===v&&z.numPointShadows===y&&z.numSpotShadows===x||(i.directional.length=p,i.spot.length=f,i.rectArea.length=g,i.point.length=m,i.hemi.length=b,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=y,i.pointShadowMap.length=y,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=y,i.spotShadowMatrix.length=x,z.directionalLength=p,z.pointLength=m,z.spotLength=f,z.rectAreaLength=g,z.hemiLength=b,z.numDirectionalShadows=v,z.numPointShadows=y,z.numSpotShadows=x,i.version=ys++)},state:i}}function ws(){var e=new _s,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(i){e.setup(t,n,i)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ms(){var e=new WeakMap;function t(n){var i=n.target;i.removeEventListener("dispose",t),e.delete(i)}return{get:function(n,i){var r;return!1===e.has(n)?(r=new ws,e.set(n,new WeakMap),e.get(n).set(i,r),n.addEventListener("dispose",t)):!1===e.get(n).has(i)?(r=new ws,e.get(n).set(i,r)):r=e.get(n).get(i),r},dispose:function(){e=new WeakMap}}}function Ss(e){wr.call(this),this.type="MeshDepthMaterial",this.depthPacking=ln,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Ts(e){wr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new $n,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ss.prototype=Object.create(wr.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isMeshDepthMaterial=!0,Ss.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ts.prototype=Object.create(wr.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isMeshDistanceMaterial=!0,Ts.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Es(e,t,n){var i=new Pa,r=new Hn,a=new Hn,o=new Yn,s=[],l=[],c={},h={0:b,1:g,2:v},u=new _a({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Hn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=u.clone();d.defines.HORIZONAL_PASS=1;var m=new Vr;m.setAttribute("position",new Tr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var y=new la(m,u),x=this;function w(n,i){var r=t.update(y);u.uniforms.shadow_pass.value=n.map.texture,u.uniforms.resolution.value=n.mapSize,u.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,u,y,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,d,y,null)}function M(e,t,n){var i=e<<0|t<<1|n<<2,r=s[i];return void 0===r&&(r=new Ss({depthPacking:cn,morphTargets:e,skinning:t}),s[i]=r),r}function S(e,t,n){var i=e<<0|t<<1|n<<2,r=l[i];return void 0===r&&(r=new Ts({morphTargets:e,skinning:t}),l[i]=r),r}function T(t,n,i,r,a,o,s){var l=null,u=M,d=t.customDepthMaterial;if(!0===r.isPointLight&&(u=S,d=t.customDistanceMaterial),void 0===d){var p=!1;!0===i.morphTargets&&(p=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var m=!1;!0===t.isSkinnedMesh&&(!0===i.skinning?m=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=u(p,m,!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var g=l.uuid,b=i.uuid,v=c[g];void 0===v&&(v={},c[g]=v);var y=v[b];void 0===y&&(y=l.clone(),v[b]=y),l=y}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=s===f?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:h[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function E(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===f)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),c=n.material;if(Array.isArray(c))for(var h=l.groups,u=0,d=h.length;u<d;u++){var p=h[u],m=c[p.materialIndex];if(m&&m.visible){var g=T(n,l,m,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,g,n,p)}}else if(c.visible){g=T(n,l,c,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,g,n,null)}}for(var b=n.children,v=0,y=b.length;v<y;v++)E(b[v],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.render=function(t,s,l){if(!1!==x.enabled&&(!1!==x.autoUpdate||!1!==x.needsUpdate)&&0!==t.length){var c=e.getRenderTarget(),h=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),d=e.state;d.setBlending(_),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,m=t.length;p<m;p++){var g=t[p],b=g.shadow;if(void 0!==b){r.copy(b.mapSize);var v=b.getFrameExtents();if(r.multiply(v),a.copy(b.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/v.x),r.x=a.x*v.x,b.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/v.y),r.y=a.y*v.y,b.mapSize.y=a.y)),null===b.map&&!b.isPointLightShadow&&this.type===f){var y={minFilter:we,magFilter:we,format:Ge};b.map=new qn(r.x,r.y,y),b.map.texture.name=g.name+".shadowMap",b.mapPass=new qn(r.x,r.y,y),b.camera.updateProjectionMatrix()}if(null===b.map){y={minFilter:be,magFilter:be,format:Ge};b.map=new qn(r.x,r.y,y),b.map.texture.name=g.name+".shadowMap",b.camera.updateProjectionMatrix()}e.setRenderTarget(b.map),e.clear();for(var M=b.getViewportCount(),S=0;S<M;S++){var T=b.getViewport(S);o.set(a.x*T.x,a.y*T.y,a.x*T.z,a.y*T.w),d.viewport(o),b.updateMatrices(g,S),i=b.getFrustum(),E(s,l,b.camera,g,this.type)}b.isPointLightShadow||this.type!==f||w(b,l)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}x.needsUpdate=!1,e.setRenderTarget(c,h,u)}}}function As(e,t,n){var i=n.isWebGL2;var r=new function(){var t=!1,n=new Yn,i=null,r=new Yn(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?ye(2929):xe(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case j:e.depthFunc(512);break;case V:e.depthFunc(519);break;case W:e.depthFunc(513);break;case X:e.depthFunc(515);break;case Y:e.depthFunc(514);break;case q:e.depthFunc(518);break;case Z:e.depthFunc(516);break;case J:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},c=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?ye(2960):xe(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}},h=e.getParameter(34921),u=new Uint8Array(h),d=new Uint8Array(h),p=new Uint8Array(h),m={},f=null,g=null,y=null,x=null,K=null,Q=null,$=null,ee=null,te=null,ne=!1,ie=null,re=null,ae=null,oe=null,se=null,le=e.getParameter(35661),ce=!1,he=0,ue=e.getParameter(7938);-1!==ue.indexOf("WebGL")?(he=parseFloat(/^WebGL\ ([0-9])/.exec(ue)[1]),ce=he>=1):-1!==ue.indexOf("OpenGL ES")&&(he=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ue)[1]),ce=he>=2);var de=null,pe={},me=new Yn,fe=new Yn;function ge(t,n,i){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var be={};function ve(n,r){(u[n]=1,0===d[n]&&(e.enableVertexAttribArray(n),d[n]=1),p[n]!==r)&&((i?e:t.get("ANGLE_instanced_arrays"))[i?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),p[n]=r)}function ye(t){!0!==m[t]&&(e.enable(t),m[t]=!0)}function xe(t){!1!==m[t]&&(e.disable(t),m[t]=!1)}be[3553]=ge(3553,3553,1),be[34067]=ge(34067,34069,6),r.setClear(0,0,0,1),a.setClear(1),c.setClear(0),ye(2929),a.setFunc(X),Te(!1),Ee(s),ye(2884),Se(_);var _e={[A]:32774,[L]:32778,[P]:32779};if(i)_e[C]=32775,_e[R]=32776;else{var we=t.get("EXT_blend_minmax");null!==we&&(_e[C]=we.MIN_EXT,_e[R]=we.MAX_EXT)}var Me={[z]:0,[O]:1,[D]:768,[k]:770,[H]:776,[U]:774,[B]:772,[I]:769,[N]:771,[G]:775,[F]:773};function Se(t,n,i,r,a,o,s,l){if(t!==_){if(g||(ye(3042),g=!0),t===E)a=a||n,o=o||i,s=s||r,n===x&&a===$||(e.blendEquationSeparate(_e[n],_e[a]),x=n,$=a),i===K&&r===Q&&o===ee&&s===te||(e.blendFuncSeparate(Me[i],Me[r],Me[o],Me[s]),K=i,Q=r,ee=o,te=s),y=t,ne=null;else if(t!==y||l!==ne){if(x===A&&$===A||(e.blendEquation(32774),x=A,$=A),l)switch(t){case w:e.blendFuncSeparate(1,771,1,771);break;case M:e.blendFunc(1,1);break;case S:e.blendFuncSeparate(0,0,769,771);break;case T:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case w:e.blendFuncSeparate(770,771,1,771);break;case M:e.blendFunc(770,1);break;case S:e.blendFunc(0,769);break;case T:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}K=null,Q=null,ee=null,te=null,y=t,ne=l}}else g&&(xe(3042),g=!1)}function Te(t){ie!==t&&(t?e.frontFace(2304):e.frontFace(2305),ie=t)}function Ee(t){t!==o?(ye(2884),t!==re&&(t===s?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):xe(2884),re=t}function Ae(t,n,i){t?(ye(32823),oe===n&&se===i||(e.polygonOffset(n,i),oe=n,se=i)):xe(32823)}function Le(t){void 0===t&&(t=33984+le-1),de!==t&&(e.activeTexture(t),de=t)}return{buffers:{color:r,depth:a,stencil:c},initAttributes:function(){for(var e=0,t=u.length;e<t;e++)u[e]=0},enableAttribute:function(e){ve(e,0)},enableAttributeAndDivisor:ve,disableUnusedAttributes:function(){for(var t=0,n=d.length;t!==n;++t)d[t]!==u[t]&&(e.disableVertexAttribArray(t),d[t]=0)},vertexAttribPointer:function(t,n,r,a,o,s){!0!==i||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,a,o,s):e.vertexAttribIPointer(t,n,r,a,o,s)},enable:ye,disable:xe,useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:Se,setMaterial:function(e,t){e.side===v?xe(2884):ye(2884);var n=e.side===b;t&&(n=!n),Te(n),e.blending===w&&!1===e.transparent?Se(_):Se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),r.setMask(e.colorWrite);var i=e.stencilWrite;c.setTest(i),i&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ae(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Te,setCullFace:Ee,setLineWidth:function(t){t!==ae&&(ce&&e.lineWidth(t),ae=t)},setPolygonOffset:Ae,setScissorTest:function(e){e?ye(3089):xe(3089)},activeTexture:Le,bindTexture:function(t,n){null===de&&Le();var i=pe[de];void 0===i&&(i={type:void 0,texture:void 0},pe[de]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||be[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=pe[de];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===me.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),me.copy(t))},viewport:function(t){!1===fe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),fe.copy(t))},reset:function(){for(var t=0;t<d.length;t++)1===d[t]&&(e.disableVertexAttribArray(t),d[t]=0);m={},de=null,pe={},f=null,y=null,ie=null,re=null,r.reset(),a.reset(),c.reset()}}}function Ls(e,t,n,i,r,a,o){var s,l=r.isWebGL2,c=r.maxTextures,h=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=new WeakMap,m=!1;try{m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function f(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,i){var r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Gn.floorPowerOfTwo:Math.floor,o=a(r*e.width),l=a(r*e.height);void 0===s&&(s=f(o,l));var c=n?f(o,l):s;return c.width=o,c.height=l,c.getContext("2d").drawImage(e,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+l+")."),c}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Gn.isPowerOfTwo(e.width)&&Gn.isPowerOfTwo(e.height)}function v(e,t){return e.generateMipmaps&&t&&e.minFilter!==be&&e.minFilter!==we}function y(t,n,r,a){e.generateMipmap(t),i.get(n).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function x(n,i,r){if(!1===l)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function _(e){return e===be||e===ve||e===xe?9728:9729}function w(t){var n=t.target;n.removeEventListener("dispose",w),function(t){var n=i.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),i.remove(t)}(n),n.isVideoTexture&&p.delete(n),o.memory.textures--}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(t.texture),i.remove(t)}(n),o.memory.textures--}var S=0;function T(e,t){var r=i.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),e.version>0&&r.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void z(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function E(t,r){if(6===t.image.length){var o=i.get(t);if(t.version>0&&o.__version!==t.version){R(o,t),n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),c=t.image[0]&&t.image[0].isDataTexture,u=[],d=0;d<6;d++)u[d]=s||c?c?t.image[d].image:t.image[d]:g(t.image[d],!1,!0,h);var p,m=u[0],f=b(m)||l,_=a.convert(t.format),w=a.convert(t.type),M=x(t.internalFormat,_,w);if(C(34067,t,f),s){for(d=0;d<6;d++){p=u[d].mipmaps;for(var S=0;S<p.length;S++){var T=p[S];t.format!==Ge&&t.format!==Ue?null!==_?n.compressedTexImage2D(34069+d,S,M,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+d,S,M,T.width,T.height,0,_,w,T.data)}}o.__maxMipLevel=p.length-1}else{p=t.mipmaps;for(d=0;d<6;d++)if(c){n.texImage2D(34069+d,0,M,u[d].width,u[d].height,0,_,w,u[d].data);for(S=0;S<p.length;S++){var E=(T=p[S]).image[d].image;n.texImage2D(34069+d,S+1,M,E.width,E.height,0,_,w,E.data)}}else{n.texImage2D(34069+d,0,M,_,w,u[d]);for(S=0;S<p.length;S++){T=p[S];n.texImage2D(34069+d,S+1,M,_,w,T.image[d])}}o.__maxMipLevel=p.length}v(t,f)&&y(34067,t,m.width,m.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture)}}function A(e,t){n.activeTexture(33984+t),n.bindTexture(34067,i.get(e).__webglTexture)}var L={[me]:10497,[fe]:33071,[ge]:33648},P={[be]:9728,[ve]:9984,[xe]:9986,[we]:9729,[Me]:9985,[Te]:9987};function C(n,a,o){o?(e.texParameteri(n,10242,L[a.wrapS]),e.texParameteri(n,10243,L[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,L[a.wrapR]),e.texParameteri(n,10240,P[a.magFilter]),e.texParameteri(n,10241,P[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===fe&&a.wrapT===fe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,_(a.magFilter)),e.texParameteri(n,10241,_(a.minFilter)),a.minFilter!==be&&a.minFilter!==we&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===Oe&&null===t.get("OES_texture_float_linear"))return;if(a.type===De&&null===(l||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function R(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w),t.__webglTexture=e.createTexture(),o.memory.textures++)}function z(t,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),R(t,i),n.activeTexture(33984+r),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);var s=function(e){return!l&&(e.wrapS!==fe||e.wrapT!==fe||e.minFilter!==be&&e.minFilter!==we)}(i)&&!1===b(i.image),c=g(i.image,s,!1,u),h=b(c)||l,d=a.convert(i.format),p=a.convert(i.type),m=x(i.internalFormat,d,p);C(o,i,h);var f,_=i.mipmaps;if(i.isDepthTexture)m=6402,l?m=i.type===Oe?36012:i.type===ze?33190:i.type===Be?35056:33189:i.type===Oe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===We&&6402===m&&i.type!==Ce&&i.type!==ze&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ce,p=a.convert(i.type)),i.format===Xe&&6402===m&&(m=34041,i.type!==Be&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Be,p=a.convert(i.type))),n.texImage2D(3553,0,m,c.width,c.height,0,d,p,null);else if(i.isDataTexture)if(_.length>0&&h){for(var w=0,M=_.length;w<M;w++)f=_[w],n.texImage2D(3553,w,m,f.width,f.height,0,d,p,f.data);i.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,d,p,c.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(w=0,M=_.length;w<M;w++)f=_[w],i.format!==Ge&&i.format!==Ue?null!==d?n.compressedTexImage2D(3553,w,m,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,m,f.width,f.height,0,d,p,f.data);t.__maxMipLevel=_.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,p,c.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,p,c.data),t.__maxMipLevel=0;else if(_.length>0&&h){for(w=0,M=_.length;w<M;w++)f=_[w],n.texImage2D(3553,w,m,d,p,f);i.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,d,p,c),t.__maxMipLevel=0;v(i,h)&&y(o,i,c.width,c.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function O(t,r,o,s){var l=a.convert(r.texture.format),c=a.convert(r.texture.type),h=x(r.texture.internalFormat,l,c);n.texImage2D(s,0,h,r.width,r.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function D(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Oe?r=36012:o.type===ze&&(r=33190));var s=k(n);e.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){s=k(n);e.renderbufferStorageMultisample(36161,s,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=a.convert(n.texture.format),c=a.convert(n.texture.type);r=x(n.texture.internalFormat,l,c);if(i){s=k(n);e.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height)}e.bindRenderbuffer(36161,null)}function I(t){var n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),T(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===We)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Xe)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),D(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),D(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function k(e){return l&&e.isWebGLMultisampleRenderTarget?Math.min(d,e.samples):0}var N=!1,B=!1;this.allocateTextureUnit=function(){var e=S;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?z(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?z(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=E,this.setTextureCubeDynamic=A,this.setupRenderTarget=function(t){var r=i.get(t),s=i.get(t.texture);t.addEventListener("dispose",M),s.__webglTexture=e.createTexture(),o.memory.textures++;var c=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultisampleRenderTarget,u=b(t)||l;if(!l||t.texture.format!==Ue||t.texture.type!==Oe&&t.texture.type!==De||(t.texture.format=Ge,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){r.__webglFramebuffer=[];for(var d=0;d<6;d++)r.__webglFramebuffer[d]=e.createFramebuffer()}else if(r.__webglFramebuffer=e.createFramebuffer(),h)if(l){r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var p=a.convert(t.texture.format),m=a.convert(t.texture.type),f=x(t.texture.internalFormat,p,m),g=k(t);e.renderbufferStorageMultisample(36161,g,f,t.width,t.height),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),D(r.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,s.__webglTexture),C(34067,t.texture,u);for(d=0;d<6;d++)O(r.__webglFramebuffer[d],t,36064,34069+d);v(t.texture,u)&&y(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),C(3553,t.texture,u),O(r.__webglFramebuffer,t,36064,3553),v(t.texture,u)&&y(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&I(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(v(t,b(e)||l)){var r=e.isWebGLCubeRenderTarget?34067:3553,a=i.get(t).__webglTexture;n.bindTexture(r,a),y(r,t,e.width,e.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(l){var n=i.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var r=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?E(e,t):A(e,t)}}function Ps(e,t,n){var i=n.isWebGL2;return{convert:function(e){var n;if(e===Ae)return 5121;if(e===Ie)return 32819;if(e===ke)return 32820;if(e===Ne)return 33635;if(e===Le)return 5120;if(e===Pe)return 5122;if(e===Ce)return 5123;if(e===Re)return 5124;if(e===ze)return 5125;if(e===Oe)return 5126;if(e===De)return i?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Fe)return 6406;if(e===Ue)return 6407;if(e===Ge)return 6408;if(e===He)return 6409;if(e===je)return 6410;if(e===We)return 6402;if(e===Xe)return 34041;if(e===Ye)return 6403;if(e===qe)return 36244;if(e===Ze)return 33319;if(e===Je)return 33320;if(e===Ke)return 36248;if(e===Qe)return 36249;if(e===$e||e===et||e===tt||e===nt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===$e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===et)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===tt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===nt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===it||e===rt||e===at||e===ot){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===it)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===rt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===at)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ot)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===st)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===lt||e===ct)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===lt)return n.COMPRESSED_RGB8_ETC2;if(e===ct)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===ht||e===ut||e===dt||e===pt||e===mt||e===ft||e===gt||e===bt||e===vt||e===yt||e===xt||e===_t||e===wt||e===Mt||e===Tt||e===Et||e===At||e===Lt||e===Pt||e===Ct||e===Rt||e===zt||e===Ot||e===Dt||e===It||e===kt||e===Nt||e===Bt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===St?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Be?i?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Cs(e){Ma.call(this),this.cameras=e||[]}function Rs(){Ti.call(this),this.type="Group"}function zs(){this._targetRay=null,this._grip=null}function Os(e,t){var n=this,i=null,r=1,a=null,o="local-floor",s=null,l=[],c=new Map,h=new Ma;h.layers.enable(1),h.viewport=new Yn;var u=new Ma;u.layers.enable(2),u.viewport=new Yn;var d=[h,u],p=new Cs;p.layers.enable(1),p.layers.enable(2);var m=null,f=null;function g(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function b(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function v(e){a=e,S.setContext(i),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function y(e){for(var t=i.inputSources,n=0;n<l.length;n++)c.set(t[n],l[n]);for(n=0;n<e.removed.length;n++){var r=e.removed[n];(a=c.get(r))&&(a.dispatchEvent({type:"disconnected",data:r}),c.delete(r))}for(n=0;n<e.added.length;n++){var a;r=e.added[n];(a=c.get(r))&&a.dispatchEvent({type:"connected",data:r})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=l[e];return void 0===t&&(t=new zs,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=l[e];return void 0===t&&(t=new zs,l[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=function(e){if(null!==(i=e)){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",b);var n=t.getContextAttributes(),a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:r},s=new XRWebGLLayer(i,t,a);i.updateRenderState({baseLayer:s}),i.requestReferenceSpace(o).then(v),i.addEventListener("inputsourceschange",y)}};var x=new $n,_=new $n;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){p.near=u.near=h.near=e.near,p.far=u.far=h.far=e.far,m===p.near&&f===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),m=p.near,f=p.far);var t=e.parent,n=p.cameras;w(p,t);for(var r=0;r<n.length;r++)w(n[r],t);e.matrixWorld.copy(p.matrixWorld);for(var a=e.children,o=(r=0,a.length);r<o;r++)a[r].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){x.setFromMatrixPosition(t.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);var i=x.distanceTo(_),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],h=(r[8]-1)/r[0],u=(a[8]+1)/a[0],d=o*h,p=o*u,m=i/(-h+u),f=m*-h;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=o+m,b=s+m,v=d-f,y=p+(i-f),w=l*s/b*g,M=c*s/b*g;e.projectionMatrix.makePerspective(v,y,w,M,g,b)}(p,h,u):p.projectionMatrix.copy(h.projectionMatrix),p};var M=null;var S=new Ra;S.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var r=s.views,o=i.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var c=!1;r.length!==p.cameras.length&&(p.cameras.length=0,c=!0);for(var h=0;h<r.length;h++){var u=r[h],m=o.getViewport(u),f=d[h];f.matrix.fromArray(u.transform.matrix),f.projectionMatrix.fromArray(u.projectionMatrix),f.viewport.set(m.x,m.y,m.width,m.height),0===h&&p.matrix.copy(f.matrix),!0===c&&p.cameras.push(f)}}var g=i.inputSources;for(h=0;h<l.length;h++){var b=l[h],v=g[h];b.update(v,n,a)}M&&M(t,n)})),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}function Ds(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",h=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,u=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=$t,this.physicallyCorrectLights=!1,this.toneMapping=ee,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p,m,f,g,v,y,x,_,w,M,S,T,E,A,L,P,C,R,z=this,O=!1,D=null,I=0,k=0,N=null,B=null,F=-1,U={geometry:null,program:null,wireframe:!1},G=null,H=null,j=new Yn,V=new Yn,W=null,X=t.width,Y=t.height,q=1,Z=null,J=null,K=new Yn(0,0,X,Y),Q=new Yn(0,0,X,Y),$=!1,te=new Pa,ne=new Ua,ie=!1,re=!1,ae=new si,oe=new $n;function se(){return null===N?q:1}try{var le={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",pe,!1),null===(p=n||t.getContext("webgl",le)||t.getContext("experimental-webgl",le)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===p.getShaderPrecisionFormat&&(p.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function ce(){m=new Ga(p),!1===(f=new Fa(p,m,e)).isWebGL2&&(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),R=new Ps(p,m,f),(g=new As(p,m,f)).scissor(V.copy(Q).multiplyScalar(q).floor()),g.viewport(j.copy(K).multiplyScalar(q).floor()),v=new Va(p),y=new ps,x=new Ls(p,m,g,y,f,R,v),_=new za(p,f),w=new Ha(p,_,v),M=new Ya(p,w,_,v),L=new Xa(p),S=new ds(z,m,f),T=new bs,E=new Ms,A=new Na(z,g,M,s),P=new Ba(p,m,v,f),C=new ja(p,m,v,f),v.programs=S.programs,z.capabilities=f,z.extensions=m,z.properties=y,z.renderLists=T,z.state=g,z.info=v}ce();var he=new Os(z,p);this.xr=he;var ue=new Es(z,M,f.maxTextureSize);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,ce()}function me(e){var t=e.target;t.removeEventListener("dispose",me),function(e){fe(e),y.remove(e)}(t)}function fe(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&S.releaseProgram(t)}this.shadowMap=ue,this.getContext=function(){return p},this.getContextAttributes=function(){return p.getContextAttributes()},this.forceContextLoss=function(){var e=m.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=m.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(e){void 0!==e&&(q=e,this.setSize(X,Y,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Hn),e.set(X,Y)},this.setSize=function(e,n,i){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(X=e,Y=n,t.width=Math.floor(e*q),t.height=Math.floor(n*q),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Hn),e.set(X*q,Y*q).floor()},this.setDrawingBufferSize=function(e,n,i){X=e,Y=n,q=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Yn),e.copy(j)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,n,i){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,n,i),g.viewport(j.copy(K).multiplyScalar(q).floor())},this.getScissor=function(e){return e.copy(Q)},this.setScissor=function(e,t,n,i){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,n,i),g.scissor(V.copy(Q).multiplyScalar(q).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(e){g.setScissorTest($=e)},this.setOpaqueSort=function(e){Z=e},this.setTransparentSort=function(e){J=e},this.getClearColor=function(){return A.getClearColor()},this.setClearColor=function(){A.setClearColor.apply(A,arguments)},this.getClearAlpha=function(){return A.getClearAlpha()},this.setClearAlpha=function(){A.setClearAlpha.apply(A,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),p.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",pe,!1),T.dispose(),E.dispose(),y.dispose(),M.dispose(),he.dispose(),ve.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=y.get(e);e.hasPositions&&!n.position&&(n.position=p.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=p.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=p.createBuffer()),e.hasColors&&!n.color&&(n.color=p.createBuffer());var i=t.getAttributes();e.hasPositions&&(p.bindBuffer(34962,n.position),p.bufferData(34962,e.positionArray,35048),g.enableAttribute(i.position),p.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(p.bindBuffer(34962,n.normal),p.bufferData(34962,e.normalArray,35048),g.enableAttribute(i.normal),p.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(p.bindBuffer(34962,n.uv),p.bufferData(34962,e.uvArray,35048),g.enableAttribute(i.uv),p.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(p.bindBuffer(34962,n.color),p.bufferData(34962,e.colorArray,35048),g.enableAttribute(i.color),p.vertexAttribPointer(i.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),p.drawArrays(4,0,e.count),e.count=0};var ge=new Ei;this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=ge);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=Me(e,t,i,r);g.setMaterial(i,o);var l=!1;U.geometry===n.id&&U.program===s.id&&U.wireframe===(!0===i.wireframe)||(U.geometry=n.id,U.program=s.id,U.wireframe=!0===i.wireframe,l=!0),(i.morphTargets||i.morphNormals)&&(L.update(r,n,i,s),l=!0),!0===r.isInstancedMesh&&(l=!0);var c=n.index,h=n.attributes.position;if(null===c){if(void 0===h||0===h.count)return}else if(0===c.count)return;var u,d=1;!0===i.wireframe&&(c=w.getWireframeAttribute(n),d=2);var b=P;null!==c&&(u=_.get(c),(b=C).setIndex(u)),l&&(!function(e,t,n,i){if(!1===f.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===m.get("ANGLE_instanced_arrays"))return;g.initAttributes();var r=t.attributes,a=i.getAttributes(),o=n.defaultAttributeValues;for(var s in a){var l=a[s];if(l>=0){var c=r[s];if(void 0!==c){var h=c.normalized,u=c.itemSize;if(void 0===(M=_.get(c)))continue;var d=M.buffer,b=M.type,v=M.bytesPerElement;if(c.isInterleavedBufferAttribute){var y=c.data,x=y.stride,w=c.offset;y&&y.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(l,y.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=y.meshPerAttribute*y.count)):g.enableAttribute(l),p.bindBuffer(34962,d),g.vertexAttribPointer(l,u,b,h,x*v,w*v)}else c.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=c.meshPerAttribute*c.count)):g.enableAttribute(l),p.bindBuffer(34962,d),g.vertexAttribPointer(l,u,b,h,0,0)}else if("instanceMatrix"===s){var M;if(void 0===(M=_.get(e.instanceMatrix)))continue;d=M.buffer,b=M.type;g.enableAttributeAndDivisor(l+0,1),g.enableAttributeAndDivisor(l+1,1),g.enableAttributeAndDivisor(l+2,1),g.enableAttributeAndDivisor(l+3,1),p.bindBuffer(34962,d),p.vertexAttribPointer(l+0,4,b,!1,64,0),p.vertexAttribPointer(l+1,4,b,!1,64,16),p.vertexAttribPointer(l+2,4,b,!1,64,32),p.vertexAttribPointer(l+3,4,b,!1,64,48)}else if(void 0!==o){var S=o[s];if(void 0!==S)switch(S.length){case 2:p.vertexAttrib2fv(l,S);break;case 3:p.vertexAttrib3fv(l,S);break;case 4:p.vertexAttrib4fv(l,S);break;default:p.vertexAttrib1fv(l,S)}}}}g.disableUnusedAttributes()}(r,n,i,s),null!==c&&p.bindBuffer(34963,u.buffer));var v=null!==c?c.count:h.count,y=n.drawRange.start*d,x=n.drawRange.count*d,M=null!==a?a.start*d:0,S=null!==a?a.count*d:1/0,T=Math.max(y,M),E=Math.min(v,y+x,M+S)-1,A=Math.max(0,E-T+1);if(0!==A){if(r.isMesh)!0===i.wireframe?(g.setLineWidth(i.wireframeLinewidth*se()),b.setMode(1)):b.setMode(4);else if(r.isLine){var R=i.linewidth;void 0===R&&(R=1),g.setLineWidth(R*se()),r.isLineSegments?b.setMode(1):r.isLineLoop?b.setMode(2):b.setMode(3)}else r.isPoints?b.setMode(0):r.isSprite&&b.setMode(4);r.isInstancedMesh?b.renderInstances(n,T,A,r.count):n.isInstancedBufferGeometry?b.renderInstances(n,T,A,n.maxInstancedCount):b.render(T,A)}},this.compile=function(e,t){(d=E.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t);var n={};e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var i=0;i<t.material.length;i++)t.material[i].uuid in n==!1&&(we(t.material[i],e,t),n[t.material[i].uuid]=!0);else t.material.uuid in n==!1&&(we(t.material,e,t),n[t.material.uuid]=!0)}))};var be=null;var ve=new Ra;function ye(e,t,n,i){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||te.intersectsSprite(e)){i&&oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae);var r=M.update(e);(a=e.material).visible&&u.push(e,r,a,n,oe.z,null)}}else if(e.isImmediateRenderObject)i&&oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae),u.push(e,null,e.material,n,oe.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==v.render.frame&&(e.skeleton.update(),e.skeleton.frame=v.render.frame),!e.frustumCulled||te.intersectsObject(e))){i&&oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae);r=M.update(e);var a=e.material;if(Array.isArray(a))for(var o=r.groups,s=0,l=o.length;s<l;s++){var c=o[s],h=a[c.materialIndex];h&&h.visible&&u.push(e,r,h,n,oe.z,c)}else a.visible&&u.push(e,r,a,n,oe.z,null)}var p=e.children;for(s=0,l=p.length;s<l;s++)ye(p[s],t,n,i)}}function xe(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,c=void 0===i?o.material:i,h=o.group;if(n.isArrayCamera){H=n;for(var u=n.cameras,p=0,m=u.length;p<m;p++){var f=u[p];s.layers.test(f.layers)&&(g.viewport(j.copy(f.viewport)),d.setupLights(f),_e(s,t,f,l,c,h))}}else H=null,_e(s,t,n,l,c,h)}}function _e(e,t,n,i,r,a){if(e.onBeforeRender(z,t,n,i,r,a),d=E.get(t,H||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Me(n,t,r,e);g.setMaterial(r),U.geometry=null,U.program=null,U.wireframe=!1,function(e,t){e.render((function(e){z.renderBufferImmediate(e,t)}))}(e,o)}else z.renderBufferDirect(n,t,i,r,e,a);e.onAfterRender(z,t,n,i,r,a),d=E.get(t,H||n)}function we(e,t,n){var i=y.get(e),r=d.state.lights,a=d.state.shadowsArray,o=r.state.version,s=S.getParameters(e,r.state,a,t,ne.numPlanes,ne.numIntersection,n),l=S.getProgramCacheKey(s),c=i.program,h=!0;if(void 0===c)e.addEventListener("dispose",me);else if(c.cacheKey!==l)fe(e);else if(i.lightsStateVersion!==o)i.lightsStateVersion=o,h=!1;else{if(void 0!==s.shaderID)return;h=!1}h&&(c=S.acquireProgram(s,l),i.program=c,i.uniforms=s.uniforms,i.outputEncoding=s.outputEncoding,e.program=c);var u=c.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<z.maxMorphTargets;p++)u["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<z.maxMorphNormals;p++)u["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var m=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=ne.numPlanes,i.numIntersection=ne.numIntersection,m.clippingPlanes=ne.uniform),i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(m.ambientLightColor.value=r.state.ambient,m.lightProbe.value=r.state.probe,m.directionalLights.value=r.state.directional,m.directionalLightShadows.value=r.state.directionalShadow,m.spotLights.value=r.state.spot,m.spotLightShadows.value=r.state.spotShadow,m.rectAreaLights.value=r.state.rectArea,m.pointLights.value=r.state.point,m.pointLightShadows.value=r.state.pointShadow,m.hemisphereLights.value=r.state.hemi,m.directionalShadowMap.value=r.state.directionalShadowMap,m.directionalShadowMatrix.value=r.state.directionalShadowMatrix,m.spotShadowMap.value=r.state.spotShadowMap,m.spotShadowMatrix.value=r.state.spotShadowMatrix,m.pointShadowMap.value=r.state.pointShadowMap,m.pointShadowMatrix.value=r.state.pointShadowMatrix);var f=i.program.getUniforms(),g=Xo.seqWithValue(f.seq,m);i.uniformsList=g}function Me(e,t,n,i){x.resetTextureUnits();var r=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===N?z.outputEncoding:N.texture.encoding,s=y.get(n),l=d.state.lights;if(ie&&(re||e!==G)){var c=e===G&&n.id===F;ne.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,s,c)}n.version===s.__version?void 0===s.program||n.fog&&s.fog!==r||s.environment!==a||s.needsLights&&s.lightsStateVersion!==l.state.version?we(n,t,i):void 0===s.numClippingPlanes||s.numClippingPlanes===ne.numPlanes&&s.numIntersection===ne.numIntersection?s.outputEncoding!==o&&we(n,t,i):we(n,t,i):(we(n,t,i),s.__version=n.version);var h,u,m=!1,v=!1,_=!1,w=s.program,M=w.getUniforms(),S=s.uniforms;if(g.useProgram(w.program)&&(m=!0,v=!0,_=!0),n.id!==F&&(F=n.id,v=!0),m||G!==e){if(M.setValue(p,"projectionMatrix",e.projectionMatrix),f.logarithmicDepthBuffer&&M.setValue(p,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),G!==e&&(G=e,v=!0,_=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var T=M.map.cameraPosition;void 0!==T&&T.setValue(p,oe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&M.setValue(p,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&M.setValue(p,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){M.setOptional(p,i,"bindMatrix"),M.setOptional(p,i,"bindMatrixInverse");var E=i.skeleton;if(E){var A=E.bones;if(f.floatVertexTextures){if(void 0===E.boneTexture){var L=Math.sqrt(4*A.length);L=Gn.ceilPowerOfTwo(L),L=Math.max(L,4);var P=new Float32Array(L*L*4);P.set(E.boneMatrices);var C=new Ea(P,L,L,Ge,Oe);E.boneMatrices=P,E.boneTexture=C,E.boneTextureSize=L}M.setValue(p,"boneTexture",E.boneTexture,x),M.setValue(p,"boneTextureSize",E.boneTextureSize)}else M.setOptional(p,E,"boneMatrices")}}return(v||s.receiveShadow!==i.receiveShadow)&&(s.receiveShadow=i.receiveShadow,M.setValue(p,"receiveShadow",i.receiveShadow)),v&&(M.setValue(p,"toneMappingExposure",z.toneMappingExposure),M.setValue(p,"toneMappingWhitePoint",z.toneMappingWhitePoint),s.needsLights&&(u=_,(h=S).ambientLightColor.needsUpdate=u,h.lightProbe.needsUpdate=u,h.directionalLights.needsUpdate=u,h.directionalLightShadows.needsUpdate=u,h.pointLights.needsUpdate=u,h.pointLightShadows.needsUpdate=u,h.spotLights.needsUpdate=u,h.spotLightShadows.needsUpdate=u,h.rectAreaLights.needsUpdate=u,h.hemisphereLights.needsUpdate=u),r&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(S,r),n.isMeshBasicMaterial?Se(S,n):n.isMeshLambertMaterial?(Se(S,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(S,n)):n.isMeshToonMaterial?(Se(S,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(S,n)):n.isMeshPhongMaterial?(Se(S,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(S,n)):n.isMeshStandardMaterial?(Se(S,n,a),n.isMeshPhysicalMaterial?function(e,t,n){Te(e,t,n),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===b&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(S,n,a):Te(S,n,a)):n.isMeshMatcapMaterial?(Se(S,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(S,n)):n.isMeshDepthMaterial?(Se(S,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(S,n)):n.isMeshDistanceMaterial?(Se(S,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(S,n)):n.isMeshNormalMaterial?(Se(S,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(S,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(S,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(S,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*q,e.scale.value=.5*Y,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(S,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(S,n):n.isShadowMaterial&&(S.color.value.copy(n.color),S.opacity.value=n.opacity),void 0!==S.ltc_1&&(S.ltc_1.value=Ca.LTC_1),void 0!==S.ltc_2&&(S.ltc_2.value=Ca.LTC_2),Xo.upload(p,s.uniformsList,S,x),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Xo.upload(p,s.uniformsList,S,x),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(p,"center",i.center),M.setValue(p,"modelViewMatrix",i.modelViewMatrix),M.setValue(p,"normalMatrix",i.normalMatrix),M.setValue(p,"modelMatrix",i.matrixWorld),w}function Se(e,t,n){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap);var i,r,a=t.envMap||n;a&&(e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(a).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),t.aoMap?r=t.aoMap:t.lightMap&&(r=t.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function Te(e,t,n){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===b&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===b&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||n)&&(e.envMapIntensity.value=t.envMapIntensity)}ve.setAnimationLoop((function(e){he.isPresenting||be&&be(e)})),"undefined"!=typeof window&&ve.setContext(window),this.setAnimationLoop=function(e){be=e,he.setAnimationLoop(e),ve.start()},this.render=function(e,t){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),t&&t.isCamera){if(!O){U.geometry=null,U.program=null,U.wireframe=!1,F=-1,G=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),he.enabled&&he.isPresenting&&(t=he.getCamera(t)),e.onBeforeRender(z,e,t,n||N),(d=E.get(e,t)).init(),ae.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),te.setFromProjectionMatrix(ae),re=this.localClippingEnabled,ie=ne.init(this.clippingPlanes,re,t),(u=T.get(e,t)).init(),ye(e,t,0,z.sortObjects),u.finish(),!0===z.sortObjects&&u.sort(Z,J),ie&&ne.beginShadows();var r=d.state.shadowsArray;ue.render(r,e,t),d.setupLights(t),ie&&ne.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),A.render(u,e,t,i);var a=u.opaque,o=u.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&xe(a,e,t,s),o.length&&xe(o,e,t,s)}else a.length&&xe(a,e,t),o.length&&xe(o,e,t);e.onAfterRender(z,e,t),null!==N&&(x.updateRenderTargetMipmap(N),x.updateMultisampleRenderTarget(N)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),u=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){D!==e&&null===N&&p.bindFramebuffer(36160,e),D=e},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,n){N=e,I=t,k=n,e&&void 0===y.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var i=D,r=!1;if(e){var a=y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=a[t||0],r=!0):i=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:a,j.copy(e.viewport),V.copy(e.scissor),W=e.scissorTest}else j.copy(K).multiplyScalar(q).floor(),V.copy(Q).multiplyScalar(q).floor(),W=$;if(B!==i&&(p.bindFramebuffer(36160,i),B=i),g.viewport(j),g.scissor(V),g.setScissorTest(W),r){var o=y.get(e.texture);p.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(e&&e.isWebGLRenderTarget){var s=y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==B&&(p.bindFramebuffer(36160,s),l=!0);try{var c=e.texture,h=c.format,u=c.type;if(h!==Ge&&R.convert(h)!==p.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Ae||R.convert(u)===p.getParameter(35738)||u===Oe&&(f.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||u===De&&(f.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===p.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&p.readPixels(t,n,i,r,R.convert(h),R.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&p.bindFramebuffer(36160,B)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=Math.floor(t.image.height*i),o=R.convert(t.format);x.setTexture2D(t,0),p.copyTexImage2D(3553,n,o,e.x,e.y,r,a,0),g.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i){void 0===i&&(i=0);var r=t.image.width,a=t.image.height,o=R.convert(n.format),s=R.convert(n.type);x.setTexture2D(n,0),t.isDataTexture?p.texSubImage2D(3553,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?p.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):p.texSubImage2D(3553,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&p.generateMipmap(3553),g.unbindTexture()},this.initTexture=function(e){x.setTexture2D(e,0),g.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Is(e,t){this.name="",this.color=new gr(e),this.density=void 0!==t?t:25e-5}function ks(e,t,n){this.name="",this.color=new gr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ns(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Ln,this.updateRange={offset:0,count:-1},this.version=0}Cs.prototype=Object.assign(Object.create(Ma.prototype),{constructor:Cs,isArrayCamera:!0}),Rs.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Rs,isGroup:!0}),Object.assign(zs.prototype,{constructor:zs,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Rs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Rs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,n){var i=null,r=null,a=this._targetRay,o=this._grip;return e&&(null!==a&&null!==(i=t.getPose(e.targetRaySpace,n))&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)),null!==o&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&(a.visible=null!==i),null!==o&&(o.visible=null!==r),this}}),Object.assign(Os.prototype,Nn.prototype),Object.assign(Is.prototype,{isFogExp2:!0,clone:function(){return new Is(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(ks.prototype,{isFog:!0,clone:function(){return new ks(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ns.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ns.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Bs,Fs=new $n;function Us(e,t,n,i){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Gs(e){wr.call(this),this.type="SpriteMaterial",this.color=new gr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(Us.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Us.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Fs.x=this.getX(t),Fs.y=this.getY(t),Fs.z=this.getZ(t),Fs.applyMatrix4(e),this.setXYZ(t,Fs.x,Fs.y,Fs.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Gs.prototype=Object.create(wr.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isSpriteMaterial=!0,Gs.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Hs=new $n,js=new $n,Vs=new $n,Ws=new Hn,Xs=new Hn,Ys=new si,qs=new $n,Zs=new $n,Js=new $n,Ks=new Hn,Qs=new Hn,$s=new Hn;function el(e){if(Ti.call(this),this.type="Sprite",void 0===Bs){Bs=new Vr;var t=new Ns(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Bs.setIndex([0,1,2,0,2,3]),Bs.setAttribute("position",new Us(t,3,0,!1)),Bs.setAttribute("uv",new Us(t,2,3,!1))}this.geometry=Bs,this.material=void 0!==e?e:new Gs,this.center=new Hn(.5,.5)}function tl(e,t,n,i,r,a){Ws.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Xs.x=a*Ws.x-r*Ws.y,Xs.y=r*Ws.x+a*Ws.y):Xs.copy(Ws),e.copy(t),e.x+=Xs.x,e.y+=Xs.y,e.applyMatrix4(Ys)}el.prototype=Object.assign(Object.create(Ti.prototype),{constructor:el,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),js.setFromMatrixScale(this.matrixWorld),Ys.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Vs.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&js.multiplyScalar(-Vs.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;tl(qs.set(-.5,-.5,0),Vs,a,js,n,i),tl(Zs.set(.5,-.5,0),Vs,a,js,n,i),tl(Js.set(.5,.5,0),Vs,a,js,n,i),Ks.set(0,0),Qs.set(1,0),$s.set(1,1);var o=e.ray.intersectTriangle(qs,Zs,Js,!1,Hs);if(null!==o||(tl(Zs.set(-.5,.5,0),Vs,a,js,n,i),Qs.set(0,1),null!==(o=e.ray.intersectTriangle(qs,Js,Zs,!1,Hs)))){var s=e.ray.origin.distanceTo(Hs);s<e.near||s>e.far||t.push({distance:s,point:Hs.clone(),uv:dr.getUV(Hs,qs,Zs,Js,Ks,Qs,$s,new Hn),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Ti.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var nl,il,rl,al,ol,sl=new $n,ll=new $n;function cl(){Ti.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function hl(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),la.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new si,this.bindMatrixInverse=new si}cl.prototype=Object.assign(Object.create(Ti.prototype),{constructor:cl,isLOD:!0,copy:function(e){Ti.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){sl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(sl);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){sl.setFromMatrixPosition(e.matrixWorld),ll.setFromMatrixPosition(this.matrixWorld);var n=sl.distanceTo(ll)/e.zoom;t[0].object.visible=!0;for(var i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){var t=Ti.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),hl.prototype=Object.assign(Object.create(la.prototype),{constructor:hl,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Yn,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){la.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:(nl=new $n,il=new Yn,rl=new Yn,al=new $n,ol=new si,function(e,t){var n=this.skeleton,i=this.geometry;il.fromBufferAttribute(i.attributes.skinIndex,e),rl.fromBufferAttribute(i.attributes.skinWeight,e),nl.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var r=0;r<4;r++){var a=rl.getComponent(r);if(0!==a){var o=il.getComponent(r);ol.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(al.copy(nl).applyMatrix4(ol),a)}}return t.applyMatrix4(this.bindMatrixInverse)})});var ul=new si,dl=new si;function pl(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new si)}}function ml(){Ti.call(this),this.type="Bone"}Object.assign(pl.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new si;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++){var o=e[r]?e[r].matrixWorld:dl;ul.multiplyMatrices(o,t[r]),ul.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)},clone:function(){return new pl(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),ml.prototype=Object.assign(Object.create(Ti.prototype),{constructor:ml,isBone:!0});var fl=new si,gl=new si,bl=[],vl=new la;function yl(e,t,n){la.call(this,e,t),this.instanceMatrix=new Tr(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function xl(e){wr.call(this),this.type="LineBasicMaterial",this.color=new gr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}yl.prototype=Object.assign(Object.create(la.prototype),{constructor:yl,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,i=this.count;if(vl.geometry=this.geometry,vl.material=this.material,void 0!==vl.material)for(var r=0;r<i;r++){this.getMatrixAt(r,fl),gl.multiplyMatrices(n,fl),vl.matrixWorld=gl,vl.raycast(e,bl);for(var a=0,o=bl.length;a<o;a++){var s=bl[a];s.instanceId=r,s.object=this,t.push(s)}bl.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),xl.prototype=Object.create(wr.prototype),xl.prototype.constructor=xl,xl.prototype.isLineBasicMaterial=!0,xl.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var _l=new $n,wl=new $n,Ml=new si,Sl=new Ki,Tl=new ji;function El(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ti.call(this),this.type="Line",this.geometry=void 0!==e?e:new Vr,this.material=void 0!==t?t:new xl}El.prototype=Object.assign(Object.create(Ti.prototype),{constructor:El,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)_l.fromBufferAttribute(t,i-1),wl.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=_l.distanceTo(wl);e.setAttribute("lineDistance",new Or(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;(n=e.lineDistances)[0]=0;for(i=1,r=a.length;i<r;i++)n[i]=n[i-1],n[i]+=a[i-1].distanceTo(a[i])}return this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Tl.copy(n.boundingSphere),Tl.applyMatrix4(i),Tl.radius+=r,!1!==e.ray.intersectsSphere(Tl)){Ml.getInverse(i),Sl.copy(e.ray).applyMatrix4(Ml);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new $n,l=new $n,c=new $n,h=new $n,u=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,p=n.attributes.position.array;if(null!==d)for(var m=d.array,f=0,g=m.length-1;f<g;f+=u){var b=m[f],v=m[f+1];if(s.fromArray(p,3*b),l.fromArray(p,3*v),!(Sl.distanceSqToSegment(s,l,h,c)>o))h.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(h))<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}else for(f=0,g=p.length/3-1;f<g;f+=u){if(s.fromArray(p,3*f),l.fromArray(p,3*f+3),!(Sl.distanceSqToSegment(s,l,h,c)>o))h.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(h))<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){var y=n.vertices,x=y.length;for(f=0;f<x-1;f+=u){var _;if(!(Sl.distanceSqToSegment(y[f],y[f+1],h,c)>o))h.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(h))<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Al=new $n,Ll=new $n;function Pl(e,t){El.call(this,e,t),this.type="LineSegments"}function Cl(e,t){El.call(this,e,t),this.type="LineLoop"}function Rl(e){wr.call(this),this.type="PointsMaterial",this.color=new gr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Pl.prototype=Object.assign(Object.create(El.prototype),{constructor:Pl,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)Al.fromBufferAttribute(t,i),Ll.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Al.distanceTo(Ll);e.setAttribute("lineDistance",new Or(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for(n=e.lineDistances,i=0,r=a.length;i<r;i+=2)Al.copy(a[i]),Ll.copy(a[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Al.distanceTo(Ll)}return this}}),Cl.prototype=Object.assign(Object.create(El.prototype),{constructor:Cl,isLineLoop:!0}),Rl.prototype=Object.create(wr.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isPointsMaterial=!0,Rl.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var zl=new si,Ol=new Ki,Dl=new ji,Il=new $n;function kl(e,t){Ti.call(this),this.type="Points",this.geometry=void 0!==e?e:new Vr,this.material=void 0!==t?t:new Rl,this.updateMorphTargets()}function Nl(e,t,n,i,r,a,o){var s=Ol.distanceSqToPoint(e);if(s<n){var l=new $n;Ol.closestPointToPoint(e,l),l.applyMatrix4(i);var c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}function Bl(e,t,n,i,r,a,o,s,l){Xn.call(this,e,t,n,i,r,a,o,s,l),this.format=void 0!==o?o:Ue,this.minFilter=void 0!==a?a:we,this.magFilter=void 0!==r?r:we,this.generateMipmaps=!1}function Fl(e,t,n,i,r,a,o,s,l,c,h,u){Xn.call(this,null,a,o,s,l,c,i,r,h,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ul(e,t,n,i,r,a,o,s,l){Xn.call(this,e,t,n,i,r,a,o,s,l),this.needsUpdate=!0}function Gl(e,t,n,i,r,a,o,s,l,c){if((c=void 0!==c?c:We)!==We&&c!==Xe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===We&&(n=Ce),void 0===n&&c===Xe&&(n=Be),Xn.call(this,null,i,r,a,o,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:be,this.minFilter=void 0!==s?s:be,this.flipY=!1,this.generateMipmaps=!1}function Hl(e){Vr.call(this),this.type="WireframeGeometry";var t,n,i,r,a,o,s,l,c,h,u=[],d=[0,0],p={},m=["a","b","c"];if(e&&e.isGeometry){var f=e.faces;for(t=0,i=f.length;t<i;t++){var g=f[t];for(n=0;n<3;n++)s=g[m[n]],l=g[m[(n+1)%3]],d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===p[c=d[0]+","+d[1]]&&(p[c]={index1:d[0],index2:d[1]})}for(c in p)o=p[c],h=e.vertices[o.index1],u.push(h.x,h.y,h.z),h=e.vertices[o.index2],u.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var b,v,y,x,_,w,M;if(h=new $n,null!==e.index){for(b=e.attributes.position,v=e.index,0===(y=e.groups).length&&(y=[{start:0,count:v.count,materialIndex:0}]),r=0,a=y.length;r<a;++r)for(t=_=(x=y[r]).start,i=_+x.count;t<i;t+=3)for(n=0;n<3;n++)s=v.getX(t+n),l=v.getX(t+(n+1)%3),d[0]=Math.min(s,l),d[1]=Math.max(s,l),void 0===p[c=d[0]+","+d[1]]&&(p[c]={index1:d[0],index2:d[1]});for(c in p)o=p[c],h.fromBufferAttribute(b,o.index1),u.push(h.x,h.y,h.z),h.fromBufferAttribute(b,o.index2),u.push(h.x,h.y,h.z)}else for(t=0,i=(b=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)w=3*t+n,h.fromBufferAttribute(b,w),u.push(h.x,h.y,h.z),M=3*t+(n+1)%3,h.fromBufferAttribute(b,M),u.push(h.x,h.y,h.z)}this.setAttribute("position",new Or(u,3))}function jl(e,t,n){fa.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Vl(e,t,n)),this.mergeVertices()}function Vl(e,t,n){Vr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,a=[],o=[],s=[],l=[],c=1e-5,h=new $n,u=new $n,d=new $n,p=new $n,m=new $n;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=t;r++){var b=r/t;e(b,g,u),o.push(u.x,u.y,u.z),b-c>=0?(e(b-c,g,d),p.subVectors(u,d)):(e(b+c,g,d),p.subVectors(d,u)),g-c>=0?(e(b,g-c,d),m.subVectors(u,d)):(e(b,g+c,d),m.subVectors(d,u)),h.crossVectors(p,m).normalize(),s.push(h.x,h.y,h.z),l.push(b,g)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var v=i*f+r,y=i*f+r+1,x=(i+1)*f+r+1,_=(i+1)*f+r;a.push(v,y,_),a.push(y,x,_)}this.setIndex(a),this.setAttribute("position",new Or(o,3)),this.setAttribute("normal",new Or(s,3)),this.setAttribute("uv",new Or(l,2))}function Wl(e,t,n,i){fa.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new Xl(e,t,n,i)),this.mergeVertices()}function Xl(e,t,n,i){Vr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var r=[],a=[];function o(e,t,n,i){var r,a,o=Math.pow(2,i),l=[];for(r=0;r<=o;r++){l[r]=[];var c=e.clone().lerp(n,r/o),h=t.clone().lerp(n,r/o),u=o-r;for(a=0;a<=u;a++)l[r][a]=0===a&&r===o?c:c.clone().lerp(h,a/u)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}function s(e){r.push(e.x,e.y,e.z)}function l(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=i/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}function u(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){for(var n=new $n,i=new $n,r=new $n,a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],i),l(t[a+2],r),o(n,i,r,e)}(i=i||0),function(e){for(var t=new $n,n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){for(var e=new $n,t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];var n=h(e)/2/Math.PI+.5,i=u(e)/Math.PI+.5;a.push(n,1-i)}(function(){for(var e=new $n,t=new $n,n=new $n,i=new $n,o=new Hn,s=new Hn,l=new Hn,u=0,d=0;u<r.length;u+=9,d+=6){e.set(r[u+0],r[u+1],r[u+2]),t.set(r[u+3],r[u+4],r[u+5]),n.set(r[u+6],r[u+7],r[u+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),i.copy(e).add(t).add(n).divideScalar(3);var p=h(i);c(o,d+0,e,p),c(s,d+2,t,p),c(l,d+4,n,p)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],i=a[e+4],r=Math.max(t,n,i),o=Math.min(t,n,i);r>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),i<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new Or(r,3)),this.setAttribute("normal",new Or(r.slice(),3)),this.setAttribute("uv",new Or(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Yl(e,t){fa.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ql(e,t)),this.mergeVertices()}function ql(e,t){Xl.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Zl(e,t){fa.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jl(e,t)),this.mergeVertices()}function Jl(e,t){Xl.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Kl(e,t){fa.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ql(e,t)),this.mergeVertices()}function Ql(e,t){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Xl.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $l(e,t){fa.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ec(e,t)),this.mergeVertices()}function ec(e,t){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];Xl.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function tc(e,t,n,i,r,a){fa.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new nc(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function nc(e,t,n,i,r){Vr.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;var a=e.computeFrenetFrames(t,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,l=new $n,c=new $n,h=new Hn,u=new $n,d=[],p=[],m=[],f=[];function g(r){u=e.getPointAt(r/t,u);var o=a.normals[r],h=a.binormals[r];for(s=0;s<=i;s++){var m=s/i*Math.PI*2,f=Math.sin(m),g=-Math.cos(m);c.x=g*o.x+f*h.x,c.y=g*o.y+f*h.y,c.z=g*o.z+f*h.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=u.x+n*c.x,l.y=u.y+n*c.y,l.z=u.z+n*c.z,d.push(l.x,l.y,l.z)}}!function(){for(o=0;o<t;o++)g(o);g(!1===r?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=i;s++)h.x=o/t,h.y=s/i,m.push(h.x,h.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=i;o++){var e=(i+1)*(s-1)+(o-1),n=(i+1)*s+(o-1),r=(i+1)*s+o,a=(i+1)*(s-1)+o;f.push(e,n,a),f.push(n,r,a)}}()}(),this.setIndex(f),this.setAttribute("position",new Or(d,3)),this.setAttribute("normal",new Or(p,3)),this.setAttribute("uv",new Or(m,2))}function ic(e,t,n,i,r,a,o){fa.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new rc(e,t,n,i,r,a)),this.mergeVertices()}function rc(e,t,n,i,r,a){Vr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;var o,s,l=[],c=[],h=[],u=[],d=new $n,p=new $n,m=new $n,f=new $n,g=new $n,b=new $n,v=new $n;for(o=0;o<=n;++o){var y=o/n*r*Math.PI*2;for(A(y,r,a,e,m),A(y+.01,r,a,e,f),b.subVectors(f,m),v.addVectors(f,m),g.crossVectors(b,v),v.crossVectors(g,b),g.normalize(),v.normalize(),s=0;s<=i;++s){var x=s/i*Math.PI*2,_=-t*Math.cos(x),w=t*Math.sin(x);d.x=m.x+(_*v.x+w*g.x),d.y=m.y+(_*v.y+w*g.y),d.z=m.z+(_*v.z+w*g.z),c.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),h.push(p.x,p.y,p.z),u.push(o/n),u.push(s/i)}}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var M=(i+1)*(s-1)+(o-1),S=(i+1)*s+(o-1),T=(i+1)*s+o,E=(i+1)*(s-1)+o;l.push(M,S,E),l.push(S,T,E)}function A(e,t,n,i,r){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(l),this.setAttribute("position",new Or(c,3)),this.setAttribute("normal",new Or(h,3)),this.setAttribute("uv",new Or(u,2))}function ac(e,t,n,i,r){fa.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new oc(e,t,n,i,r)),this.mergeVertices()}function oc(e,t,n,i,r){Vr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var a,o,s=[],l=[],c=[],h=[],u=new $n,d=new $n,p=new $n;for(a=0;a<=n;a++)for(o=0;o<=i;o++){var m=o/i*r,f=a/n*Math.PI*2;d.x=(e+t*Math.cos(f))*Math.cos(m),d.y=(e+t*Math.cos(f))*Math.sin(m),d.z=t*Math.sin(f),l.push(d.x,d.y,d.z),u.x=e*Math.cos(m),u.y=e*Math.sin(m),p.subVectors(d,u).normalize(),c.push(p.x,p.y,p.z),h.push(o/i),h.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var g=(i+1)*a+o-1,b=(i+1)*(a-1)+o-1,v=(i+1)*(a-1)+o,y=(i+1)*a+o;s.push(g,b,y),s.push(b,v,y)}this.setIndex(s),this.setAttribute("position",new Or(l,3)),this.setAttribute("normal",new Or(c,3)),this.setAttribute("uv",new Or(h,2))}kl.prototype=Object.assign(Object.create(Ti.prototype),{constructor:kl,isPoints:!0,raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Dl.copy(n.boundingSphere),Dl.applyMatrix4(i),Dl.radius+=r,!1!==e.ray.intersectsSphere(Dl)){zl.getInverse(i),Ol.copy(e.ray).applyMatrix4(zl);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position.array;if(null!==s)for(var c=s.array,h=0,u=c.length;h<u;h++){var d=c[h];Il.fromArray(l,3*d),Nl(Il,d,o,i,e,t,this)}else{h=0;for(var p=l.length/3;h<p;h++)Il.fromArray(l,3*h),Nl(Il,h,o,i,e,t,this)}}else{var m=n.vertices;for(h=0,p=m.length;h<p;h++)Nl(m[h],h,o,i,e,t,this)}}},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Bl.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Bl,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Fl.prototype=Object.create(Xn.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isCompressedTexture=!0,Ul.prototype=Object.create(Xn.prototype),Ul.prototype.constructor=Ul,Ul.prototype.isCanvasTexture=!0,Gl.prototype=Object.create(Xn.prototype),Gl.prototype.constructor=Gl,Gl.prototype.isDepthTexture=!0,Hl.prototype=Object.create(Vr.prototype),Hl.prototype.constructor=Hl,jl.prototype=Object.create(fa.prototype),jl.prototype.constructor=jl,Vl.prototype=Object.create(Vr.prototype),Vl.prototype.constructor=Vl,Wl.prototype=Object.create(fa.prototype),Wl.prototype.constructor=Wl,Xl.prototype=Object.create(Vr.prototype),Xl.prototype.constructor=Xl,Yl.prototype=Object.create(fa.prototype),Yl.prototype.constructor=Yl,ql.prototype=Object.create(Xl.prototype),ql.prototype.constructor=ql,Zl.prototype=Object.create(fa.prototype),Zl.prototype.constructor=Zl,Jl.prototype=Object.create(Xl.prototype),Jl.prototype.constructor=Jl,Kl.prototype=Object.create(fa.prototype),Kl.prototype.constructor=Kl,Ql.prototype=Object.create(Xl.prototype),Ql.prototype.constructor=Ql,$l.prototype=Object.create(fa.prototype),$l.prototype.constructor=$l,ec.prototype=Object.create(Xl.prototype),ec.prototype.constructor=ec,tc.prototype=Object.create(fa.prototype),tc.prototype.constructor=tc,nc.prototype=Object.create(Vr.prototype),nc.prototype.constructor=nc,nc.prototype.toJSON=function(){var e=Vr.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},ic.prototype=Object.create(fa.prototype),ic.prototype.constructor=ic,rc.prototype=Object.create(Vr.prototype),rc.prototype.constructor=rc,ac.prototype=Object.create(fa.prototype),ac.prototype.constructor=ac,oc.prototype=Object.create(Vr.prototype),oc.prototype.constructor=oc;var sc=function(e,t,n){n=n||2;var i,r,a,o,s,l,c,h=t&&t.length,u=h?t[0]*n:e.length,d=lc(e,0,u,n,!0),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=function(e,t,n,i){var r,a,o,s,l,c=[];for(r=0,a=t.length;r<a;r++)o=t[r]*i,s=r<a-1?t[r+1]*i:e.length,(l=lc(e,o,s,i,!1))===l.next&&(l.steiner=!0),c.push(yc(l));for(c.sort(fc),r=0;r<c.length;r++)gc(c[r],n),n=cc(n,n.next);return n}(e,t,d,n)),e.length>80*n){i=a=e[0],r=o=e[1];for(var m=n;m<u;m+=n)(s=e[m])<i&&(i=s),(l=e[m+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-i,o-r))?1/c:0}return hc(d,p,n,i,r,c),p};function lc(e,t,n,i,r){var a,o;if(r===function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i)>0)for(a=t;a<n;a+=i)o=Pc(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=Pc(a,e[a],e[a+1],o);return o&&Mc(o,o.next)&&(Cc(o),o=o.next),o}function cc(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Mc(i,i.next)&&0!==wc(i.prev,i,i.next))i=i.next;else{if(Cc(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function hc(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=vc(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(o>1)}(r)}(e,i,r,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?dc(e,i,r,a):uc(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Cc(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?hc(e=pc(cc(e),t,n),t,n,i,r,a,2):2===o&&mc(e,t,n,i,r,a):hc(cc(e),t,n,i,r,a,1);break}}}function uc(e){var t=e.prev,n=e,i=e.next;if(wc(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(xc(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&wc(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function dc(e,t,n,i){var r=e.prev,a=e,o=e.next;if(wc(r,a,o)>=0)return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,l=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,c=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,h=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,u=vc(s,l,t,n,i),d=vc(c,h,t,n,i),p=e.prevZ,m=e.nextZ;p&&p.z>=u&&m&&m.z<=d;){if(p!==e.prev&&p!==e.next&&xc(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&wc(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==e.prev&&m!==e.next&&xc(r.x,r.y,a.x,a.y,o.x,o.y,m.x,m.y)&&wc(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&xc(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&wc(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&xc(r.x,r.y,a.x,a.y,o.x,o.y,m.x,m.y)&&wc(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function pc(e,t,n){var i=e;do{var r=i.prev,a=i.next.next;!Mc(r,a)&&Sc(r,i,i.next,a)&&Ac(r,a)&&Ac(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),Cc(i),Cc(i.next),i=e=a),i=i.next}while(i!==e);return cc(i)}function mc(e,t,n,i,r,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&_c(o,s)){var l=Lc(o,s);return o=cc(o,o.next),l=cc(l,l.next),hc(o,t,n,i,r,a),void hc(l,t,n,i,r,a)}s=s.next}o=o.next}while(o!==e)}function fc(e,t){return e.x-t.x}function gc(e,t){if(t=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n;var l,c=n,h=n.x,u=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=h&&r!==i.x&&xc(a<u?r:o,a,h,u,a<u?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),Ac(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&bc(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}(e,t)){var n=Lc(t,e);cc(t,t.next),cc(n,n.next)}}function bc(e,t){return wc(e.prev,e,t.prev)<0&&wc(t.next,e,e.next)<0}function vc(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function yc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function xc(e,t,n,i,r,a,o,s){return(r-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(i-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function _c(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Sc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ac(e,t)&&Ac(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(wc(e.prev,e,t.prev)||wc(e,t.prev,t))||Mc(e,t)&&wc(e.prev,e,e.next)>0&&wc(t.prev,t,t.next)>0)}function wc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Mc(e,t){return e.x===t.x&&e.y===t.y}function Sc(e,t,n,i){var r=Ec(wc(e,t,n)),a=Ec(wc(e,t,i)),o=Ec(wc(n,i,e)),s=Ec(wc(n,i,t));return r!==a&&o!==s||(!(0!==r||!Tc(e,n,t))||(!(0!==a||!Tc(e,i,t))||(!(0!==o||!Tc(n,e,i))||!(0!==s||!Tc(n,t,i)))))}function Tc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ec(e){return e>0?1:e<0?-1:0}function Ac(e,t){return wc(e.prev,e,e.next)<0?wc(e,t,e.next)>=0&&wc(e,e.prev,t)>=0:wc(e,t,e.prev)<0||wc(e,e.next,t)<0}function Lc(e,t){var n=new Rc(e.i,e.x,e.y),i=new Rc(t.i,t.x,t.y),r=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Pc(e,t,n,i){var r=new Rc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Cc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Rc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var zc={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return zc.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];Oc(e),Dc(n,e);var a=e.length;t.forEach(Oc);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,Dc(n,t[o]);var s=sc(n,i);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function Oc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Dc(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Ic(e,t){fa.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new kc(e,t)),this.mergeVertices()}function kc(e,t){Vr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],r=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,h=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:h-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3,m=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:Nc;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var g,b,v,y,x,_,w,M,S=!1;m&&(g=m.getSpacedPoints(s),S=!0,c=!1,b=m.computeFrenetFrames(s,!1),v=new $n,y=new $n,x=new $n),c||(p=0,h=0,u=0,d=0);var T=e.extractPoints(o),E=T.shape,A=T.holes;if(!zc.isClockWise(E))for(E=E.reverse(),w=0,M=A.length;w<M;w++)_=A[w],zc.isClockWise(_)&&(A[w]=_.reverse());var L=zc.triangulateShape(E,A),P=E;for(w=0,M=A.length;w<M;w++)_=A[w],E=E.concat(_);function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var R,z,O,D,I,k,N=E.length,B=L.length;function F(e,t,n){var i,r,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,h=o*o+s*s,u=o*c-s*l;if(Math.abs(u)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(l*l+c*c),m=t.x-s/d,f=t.y+o/d,g=((n.x-c/p-m)*c-(n.y+l/p-f)*l)/(o*c-s*l),b=(i=m+o*g-e.x)*i+(r=f+s*g-e.y)*r;if(b<=2)return new Hn(i,r);a=Math.sqrt(b/2)}else{var v=!1;o>Number.EPSILON?l>Number.EPSILON&&(v=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(c)&&(v=!0),v?(i=-s,r=o,a=Math.sqrt(h)):(i=o,r=s,a=Math.sqrt(h/2))}return new Hn(i/a,r/a)}for(var U=[],G=0,H=P.length,j=H-1,V=G+1;G<H;G++,j++,V++)j===H&&(j=0),V===H&&(V=0),U[G]=F(P[G],P[j],P[V]);var W,X,Y=[],q=U.concat();for(w=0,M=A.length;w<M;w++){for(_=A[w],W=[],G=0,j=(H=_.length)-1,V=G+1;G<H;G++,j++,V++)j===H&&(j=0),V===H&&(V=0),W[G]=F(_[G],_[j],_[V]);Y.push(W),q=q.concat(W)}for(R=0;R<p;R++){for(O=R/p,D=h*Math.cos(O*Math.PI/2),z=u*Math.sin(O*Math.PI/2)+d,G=0,H=P.length;G<H;G++)J((I=C(P[G],U[G],z)).x,I.y,-D);for(w=0,M=A.length;w<M;w++)for(_=A[w],W=Y[w],G=0,H=_.length;G<H;G++)J((I=C(_[G],W[G],z)).x,I.y,-D)}for(z=u+d,G=0;G<N;G++)I=c?C(E[G],q[G],z):E[G],S?(y.copy(b.normals[0]).multiplyScalar(I.x),v.copy(b.binormals[0]).multiplyScalar(I.y),x.copy(g[0]).add(y).add(v),J(x.x,x.y,x.z)):J(I.x,I.y,0);for(X=1;X<=s;X++)for(G=0;G<N;G++)I=c?C(E[G],q[G],z):E[G],S?(y.copy(b.normals[X]).multiplyScalar(I.x),v.copy(b.binormals[X]).multiplyScalar(I.y),x.copy(g[X]).add(y).add(v),J(x.x,x.y,x.z)):J(I.x,I.y,l/s*X);for(R=p-1;R>=0;R--){for(O=R/p,D=h*Math.cos(O*Math.PI/2),z=u*Math.sin(O*Math.PI/2)+d,G=0,H=P.length;G<H;G++)J((I=C(P[G],U[G],z)).x,I.y,l+D);for(w=0,M=A.length;w<M;w++)for(_=A[w],W=Y[w],G=0,H=_.length;G<H;G++)I=C(_[G],W[G],z),S?J(I.x,I.y+g[s-1].y,g[s-1].x+D):J(I.x,I.y,l+D)}function Z(e,t){var n,i;for(G=e.length;--G>=0;){n=G,(i=G-1)<0&&(i=e.length-1);var r=0,a=s+2*p;for(r=0;r<a;r++){var o=N*r,l=N*(r+1);Q(t+n+o,t+i+o,t+i+l,t+n+l)}}}function J(e,t,n){a.push(e),a.push(t),a.push(n)}function K(e,t,r){$(e),$(t),$(r);var a=i.length/3,o=f.generateTopUV(n,i,a-3,a-2,a-1);ee(o[0]),ee(o[1]),ee(o[2])}function Q(e,t,r,a){$(e),$(t),$(a),$(t),$(r),$(a);var o=i.length/3,s=f.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function $(e){i.push(a[3*e+0]),i.push(a[3*e+1]),i.push(a[3*e+2])}function ee(e){r.push(e.x),r.push(e.y)}!function(){var e=i.length/3;if(c){var t=0,r=N*t;for(G=0;G<B;G++)K((k=L[G])[2]+r,k[1]+r,k[0]+r);for(r=N*(t=s+2*p),G=0;G<B;G++)K((k=L[G])[0]+r,k[1]+r,k[2]+r)}else{for(G=0;G<B;G++)K((k=L[G])[2],k[1],k[0]);for(G=0;G<B;G++)K((k=L[G])[0]+N*s,k[1]+N*s,k[2]+N*s)}n.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(Z(P,t),t+=P.length,w=0,M=A.length;w<M;w++)Z(_=A[w],t),t+=_.length;n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new Or(i,3)),this.setAttribute("uv",new Or(r,2)),this.computeVertexNormals()}Ic.prototype=Object.create(fa.prototype),Ic.prototype.constructor=Ic,Ic.prototype.toJSON=function(){var e=fa.prototype.toJSON.call(this);return Bc(this.parameters.shapes,this.parameters.options,e)},kc.prototype=Object.create(Vr.prototype),kc.prototype.constructor=kc,kc.prototype.toJSON=function(){var e=Vr.prototype.toJSON.call(this);return Bc(this.parameters.shapes,this.parameters.options,e)};var Nc={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=t[3*n+1],s=t[3*i],l=t[3*i+1],c=t[3*r],h=t[3*r+1];return[new Hn(a,o),new Hn(s,l),new Hn(c,h)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*i],h=t[3*i+1],u=t[3*i+2],d=t[3*r],p=t[3*r+1],m=t[3*r+2],f=t[3*a],g=t[3*a+1],b=t[3*a+2];return Math.abs(s-h)<.01?[new Hn(o,1-l),new Hn(c,1-u),new Hn(d,1-m),new Hn(f,1-b)]:[new Hn(s,1-l),new Hn(h,1-u),new Hn(p,1-m),new Hn(g,1-b)]}};function Bc(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var a=e[i];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Fc(e,t){fa.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Uc(e,t)),this.mergeVertices()}function Uc(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new fa;var i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),kc.call(this,i,t),this.type="TextBufferGeometry"}function Gc(e,t,n,i,r,a,o){fa.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Hc(e,t,n,i,r,a,o)),this.mergeVertices()}function Hc(e,t,n,i,r,a,o){Vr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,l,c=Math.min(a+o,Math.PI),h=0,u=[],d=new $n,p=new $n,m=[],f=[],g=[],b=[];for(l=0;l<=n;l++){var v=[],y=l/n,x=0;for(0==l&&0==a?x=.5/t:l==n&&c==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var _=s/t;d.x=-e*Math.cos(i+_*r)*Math.sin(a+y*o),d.y=e*Math.cos(a+y*o),d.z=e*Math.sin(i+_*r)*Math.sin(a+y*o),f.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),b.push(_+x,1-y),v.push(h++)}u.push(v)}for(l=0;l<n;l++)for(s=0;s<t;s++){var w=u[l][s+1],M=u[l][s],S=u[l+1][s],T=u[l+1][s+1];(0!==l||a>0)&&m.push(w,M,T),(l!==n-1||c<Math.PI)&&m.push(M,S,T)}this.setIndex(m),this.setAttribute("position",new Or(f,3)),this.setAttribute("normal",new Or(g,3)),this.setAttribute("uv",new Or(b,2))}function jc(e,t,n,i,r,a){fa.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Vc(e,t,n,i,r,a)),this.mergeVertices()}function Vc(e,t,n,i,r,a){Vr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},e=e||.5,t=t||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,l,c=[],h=[],u=[],d=[],p=e,m=(t-e)/(i=void 0!==i?Math.max(1,i):1),f=new $n,g=new Hn;for(s=0;s<=i;s++){for(l=0;l<=n;l++)o=r+l/n*a,f.x=p*Math.cos(o),f.y=p*Math.sin(o),h.push(f.x,f.y,f.z),u.push(0,0,1),g.x=(f.x/t+1)/2,g.y=(f.y/t+1)/2,d.push(g.x,g.y);p+=m}for(s=0;s<i;s++){var b=s*(n+1);for(l=0;l<n;l++){var v=o=l+b,y=o+n+1,x=o+n+2,_=o+1;c.push(v,y,_),c.push(y,x,_)}}this.setIndex(c),this.setAttribute("position",new Or(h,3)),this.setAttribute("normal",new Or(u,3)),this.setAttribute("uv",new Or(d,2))}function Wc(e,t,n,i){fa.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Xc(e,t,n,i)),this.mergeVertices()}function Xc(e,t,n,i){Vr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Gn.clamp(i,0,2*Math.PI);var r,a,o,s=[],l=[],c=[],h=1/t,u=new $n,d=new Hn;for(a=0;a<=t;a++){var p=n+a*h*i,m=Math.sin(p),f=Math.cos(p);for(o=0;o<=e.length-1;o++)u.x=e[o].x*m,u.y=e[o].y,u.z=e[o].x*f,l.push(u.x,u.y,u.z),d.x=a/t,d.y=o/(e.length-1),c.push(d.x,d.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var g=r=o+a*e.length,b=r+e.length,v=r+e.length+1,y=r+1;s.push(g,b,y),s.push(b,v,y)}if(this.setIndex(s),this.setAttribute("position",new Or(l,3)),this.setAttribute("uv",new Or(c,2)),this.computeVertexNormals(),i===2*Math.PI){var x=this.attributes.normal.array,_=new $n,w=new $n,M=new $n;for(r=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)_.x=x[o+0],_.y=x[o+1],_.z=x[o+2],w.x=x[r+o+0],w.y=x[r+o+1],w.z=x[r+o+2],M.addVectors(_,w).normalize(),x[o+0]=x[r+o+0]=M.x,x[o+1]=x[r+o+1]=M.y,x[o+2]=x[r+o+2]=M.z}}function Yc(e,t){fa.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new qc(e,t)),this.mergeVertices()}function qc(e,t){Vr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],r=[],a=[],o=0,s=0;if(!1===Array.isArray(e))c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(o,s,l),o+=s,s=0;function c(e){var o,l,c,h=i.length/3,u=e.extractPoints(t),d=u.shape,p=u.holes;for(!1===zc.isClockWise(d)&&(d=d.reverse()),o=0,l=p.length;o<l;o++)c=p[o],!0===zc.isClockWise(c)&&(p[o]=c.reverse());var m=zc.triangulateShape(d,p);for(o=0,l=p.length;o<l;o++)c=p[o],d=d.concat(c);for(o=0,l=d.length;o<l;o++){var f=d[o];i.push(f.x,f.y,0),r.push(0,0,1),a.push(f.x,f.y)}for(o=0,l=m.length;o<l;o++){var g=m[o],b=g[0]+h,v=g[1]+h,y=g[2]+h;n.push(b,v,y),s+=3}}this.setIndex(n),this.setAttribute("position",new Or(i,3)),this.setAttribute("normal",new Or(r,3)),this.setAttribute("uv",new Or(a,2))}function Zc(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function Jc(e,t){Vr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,a,o=[],s=Math.cos(Gn.DEG2RAD*t),l=[0,0],c={},h=["a","b","c"];e.isBufferGeometry?(a=new fa).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,d=a.faces,p=0,m=d.length;p<m;p++)for(var f=d[p],g=0;g<3;g++)n=f[h[g]],i=f[h[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var b=c[r];if(void 0===b.face2||d[b.face1].normal.dot(d[b.face2].normal)<=s){var v=u[b.index1];o.push(v.x,v.y,v.z),v=u[b.index2],o.push(v.x,v.y,v.z)}}this.setAttribute("position",new Or(o,3))}function Kc(e,t,n,i,r,a,o,s){fa.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Qc(e,t,n,i,r,a,o,s)),this.mergeVertices()}function Qc(e,t,n,i,r,a,o,s){Vr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=[],h=[],u=[],d=[],p=0,m=[],f=n/2,g=0;function b(n){var r,a,m,b=new Hn,v=new $n,y=0,x=!0===n?e:t,_=!0===n?1:-1;for(a=p,r=1;r<=i;r++)h.push(0,f*_,0),u.push(0,_,0),d.push(.5,.5),p++;for(m=p,r=0;r<=i;r++){var w=r/i*s+o,M=Math.cos(w),S=Math.sin(w);v.x=x*S,v.y=f*_,v.z=x*M,h.push(v.x,v.y,v.z),u.push(0,_,0),b.x=.5*M+.5,b.y=.5*S*_+.5,d.push(b.x,b.y),p++}for(r=0;r<i;r++){var T=a+r,E=m+r;!0===n?c.push(E,E+1,T):c.push(E+1,E,T),y+=3}l.addGroup(g,y,!0===n?1:2),g+=y}!function(){var a,b,v=new $n,y=new $n,x=0,_=(t-e)/n;for(b=0;b<=r;b++){var w=[],M=b/r,S=M*(t-e)+e;for(a=0;a<=i;a++){var T=a/i,E=T*s+o,A=Math.sin(E),L=Math.cos(E);y.x=S*A,y.y=-M*n+f,y.z=S*L,h.push(y.x,y.y,y.z),v.set(A,_,L).normalize(),u.push(v.x,v.y,v.z),d.push(T,1-M),w.push(p++)}m.push(w)}for(a=0;a<i;a++)for(b=0;b<r;b++){var P=m[b][a],C=m[b+1][a],R=m[b+1][a+1],z=m[b][a+1];c.push(P,C,z),c.push(C,R,z),x+=6}l.addGroup(g,x,0),g+=x}(),!1===a&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new Or(h,3)),this.setAttribute("normal",new Or(u,3)),this.setAttribute("uv",new Or(d,2))}function $c(e,t,n,i,r,a,o){Kc.call(this,0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function eh(e,t,n,i,r,a,o){Qc.call(this,0,e,t,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function th(e,t,n,i){fa.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new nh(e,t,n,i)),this.mergeVertices()}function nh(e,t,n,i){Vr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,a,o=[],s=[],l=[],c=[],h=new $n,u=new Hn;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),a=0,r=3;a<=t;a++,r+=3){var d=n+a/t*i;h.x=e*Math.cos(d),h.y=e*Math.sin(d),s.push(h.x,h.y,h.z),l.push(0,0,1),u.x=(s[r]/e+1)/2,u.y=(s[r+1]/e+1)/2,c.push(u.x,u.y)}for(r=1;r<=t;r++)o.push(r,r+1,0);this.setIndex(o),this.setAttribute("position",new Or(s,3)),this.setAttribute("normal",new Or(l,3)),this.setAttribute("uv",new Or(c,2))}Fc.prototype=Object.create(fa.prototype),Fc.prototype.constructor=Fc,Uc.prototype=Object.create(kc.prototype),Uc.prototype.constructor=Uc,Gc.prototype=Object.create(fa.prototype),Gc.prototype.constructor=Gc,Hc.prototype=Object.create(Vr.prototype),Hc.prototype.constructor=Hc,jc.prototype=Object.create(fa.prototype),jc.prototype.constructor=jc,Vc.prototype=Object.create(Vr.prototype),Vc.prototype.constructor=Vc,Wc.prototype=Object.create(fa.prototype),Wc.prototype.constructor=Wc,Xc.prototype=Object.create(Vr.prototype),Xc.prototype.constructor=Xc,Yc.prototype=Object.create(fa.prototype),Yc.prototype.constructor=Yc,Yc.prototype.toJSON=function(){var e=fa.prototype.toJSON.call(this);return Zc(this.parameters.shapes,e)},qc.prototype=Object.create(Vr.prototype),qc.prototype.constructor=qc,qc.prototype.toJSON=function(){var e=Vr.prototype.toJSON.call(this);return Zc(this.parameters.shapes,e)},Jc.prototype=Object.create(Vr.prototype),Jc.prototype.constructor=Jc,Kc.prototype=Object.create(fa.prototype),Kc.prototype.constructor=Kc,Qc.prototype=Object.create(Vr.prototype),Qc.prototype.constructor=Qc,$c.prototype=Object.create(Kc.prototype),$c.prototype.constructor=$c,eh.prototype=Object.create(Qc.prototype),eh.prototype.constructor=eh,th.prototype=Object.create(fa.prototype),th.prototype.constructor=th,nh.prototype=Object.create(Vr.prototype),nh.prototype.constructor=nh;var ih=Object.freeze({__proto__:null,WireframeGeometry:Hl,ParametricGeometry:jl,ParametricBufferGeometry:Vl,TetrahedronGeometry:Yl,TetrahedronBufferGeometry:ql,OctahedronGeometry:Zl,OctahedronBufferGeometry:Jl,IcosahedronGeometry:Kl,IcosahedronBufferGeometry:Ql,DodecahedronGeometry:$l,DodecahedronBufferGeometry:ec,PolyhedronGeometry:Wl,PolyhedronBufferGeometry:Xl,TubeGeometry:tc,TubeBufferGeometry:nc,TorusKnotGeometry:ic,TorusKnotBufferGeometry:rc,TorusGeometry:ac,TorusBufferGeometry:oc,TextGeometry:Fc,TextBufferGeometry:Uc,SphereGeometry:Gc,SphereBufferGeometry:Hc,RingGeometry:jc,RingBufferGeometry:Vc,PlaneGeometry:Oa,PlaneBufferGeometry:Da,LatheGeometry:Wc,LatheBufferGeometry:Xc,ShapeGeometry:Yc,ShapeBufferGeometry:qc,ExtrudeGeometry:Ic,ExtrudeBufferGeometry:kc,EdgesGeometry:Jc,ConeGeometry:$c,ConeBufferGeometry:eh,CylinderGeometry:Kc,CylinderBufferGeometry:Qc,CircleGeometry:th,CircleBufferGeometry:nh,BoxGeometry:ga,BoxBufferGeometry:ba});function rh(e){wr.call(this),this.type="ShadowMaterial",this.color=new gr(0),this.transparent=!0,this.setValues(e)}function ah(e){_a.call(this,e),this.type="RawShaderMaterial"}function oh(e){wr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hn,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function sh(e){oh.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Hn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function lh(e){wr.call(this),this.type="MeshPhongMaterial",this.color=new gr(16777215),this.specular=new gr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hn,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ch(e){wr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gr(16777215),this.specular=new gr(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hn,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function hh(e){wr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hn,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function uh(e){wr.call(this),this.type="MeshLambertMaterial",this.color=new gr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function dh(e){wr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hn,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ph(e){xl.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}rh.prototype=Object.create(wr.prototype),rh.prototype.constructor=rh,rh.prototype.isShadowMaterial=!0,rh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this},ah.prototype=Object.create(_a.prototype),ah.prototype.constructor=ah,ah.prototype.isRawShaderMaterial=!0,oh.prototype=Object.create(wr.prototype),oh.prototype.constructor=oh,oh.prototype.isMeshStandardMaterial=!0,oh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},sh.prototype=Object.create(oh.prototype),sh.prototype.constructor=sh,sh.prototype.isMeshPhysicalMaterial=!0,sh.prototype.copy=function(e){return oh.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new gr).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},lh.prototype=Object.create(wr.prototype),lh.prototype.constructor=lh,lh.prototype.isMeshPhongMaterial=!0,lh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ch.prototype=Object.create(wr.prototype),ch.prototype.constructor=ch,ch.prototype.isMeshToonMaterial=!0,ch.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},hh.prototype=Object.create(wr.prototype),hh.prototype.constructor=hh,hh.prototype.isMeshNormalMaterial=!0,hh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},uh.prototype=Object.create(wr.prototype),uh.prototype.constructor=uh,uh.prototype.isMeshLambertMaterial=!0,uh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},dh.prototype=Object.create(wr.prototype),dh.prototype.constructor=dh,dh.prototype.isMeshMatcapMaterial=!0,dh.prototype.copy=function(e){return wr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ph.prototype=Object.create(xl.prototype),ph.prototype.constructor=ph,ph.prototype.isLineDashedMaterial=!0,ph.prototype.copy=function(e){return xl.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var mh=Object.freeze({__proto__:null,ShadowMaterial:rh,SpriteMaterial:Gs,RawShaderMaterial:ah,ShaderMaterial:_a,PointsMaterial:Rl,MeshPhysicalMaterial:sh,MeshStandardMaterial:oh,MeshPhongMaterial:lh,MeshToonMaterial:ch,MeshNormalMaterial:hh,MeshLambertMaterial:uh,MeshDepthMaterial:Ss,MeshDistanceMaterial:Ts,MeshBasicMaterial:Mr,MeshMatcapMaterial:dh,LineDashedMaterial:ph,LineBasicMaterial:xl,Material:wr}),fh={arraySlice:function(e,t,n){return fh.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),a=e[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),a=e[r++]}while(void 0!==a)}},subclip:function(e,t,n,i,r){r=r||30;var a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),h=[],u=[],d=0;d<l.times.length;++d){var p=l.times[d]*r;if(!(p<n||p>=i)){h.push(l.times[d]);for(var m=0;m<c;++m)u.push(l.values[d*c+m])}}0!==h.length&&(l.times=fh.convertArray(h,l.times.constructor),l.values=fh.convertArray(u,l.values.constructor),o.push(l))}a.tracks=o;var f=1/0;for(s=0;s<a.tracks.length;++s)f>a.tracks[s].times[0]&&(f=a.tracks[s].times[0]);for(s=0;s<a.tracks.length;++s)a.tracks[s].shift(-1*f);return a.resetDuration(),a},makeClipAdditive:function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===i||i<=0)&&(i=30);for(var r=e.tracks.length,a=t/i,o=0;o<r;++o){var s=n.tracks[o],l=s.ValueTypeName;if("bool"!==l&&"string"!==l){var c=e.tracks.find((function(e){return e.name===s.name&&e.ValueTypeName===l}));if(void 0!==c){var h,u=s.getValueSize(),d=s.times.length-1;if(a<=s.times[0])h=fh.arraySlice(s.values,0,s.valueSize);else if(a>=s.times[d]){var p=d*u;h=fh.arraySlice(s.values,p)}else{var m=s.createInterpolant();m.evaluate(a),h=m.resultBuffer}if("quaternion"===l)new Jn(h[0],h[1],h[2],h[3]).normalize().conjugate().toArray(h);for(var f=c.times.length,g=0;g<f;++g){var b=g*u;if("quaternion"===l)Jn.multiplyQuaternionsFlat(c.values,b,h,0,c.values,b);else for(var v=0;v<u;++v)c.values[b+v]-=h[v]}}}}return e.blendMode=Zt,e}};function gh(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function bh(e,t,n,i){gh.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function vh(e,t,n,i){gh.call(this,e,t,n,i)}function yh(e,t,n,i){gh.call(this,e,t,n,i)}function xh(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fh.convertArray(t,this.TimeBufferType),this.values=fh.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function _h(e,t,n){xh.call(this,e,t,n)}function wh(e,t,n,i){xh.call(this,e,t,n,i)}function Mh(e,t,n,i){xh.call(this,e,t,n,i)}function Sh(e,t,n,i){gh.call(this,e,t,n,i)}function Th(e,t,n,i){xh.call(this,e,t,n,i)}function Eh(e,t,n,i){xh.call(this,e,t,n,i)}function Ah(e,t,n,i){xh.call(this,e,t,n,i)}function Lh(e,t,n,i){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==i?i:qt,this.uuid=Gn.generateUUID(),this.duration<0&&this.resetDuration()}function Ph(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mh;case"vector":case"vector2":case"vector3":case"vector4":return Ah;case"color":return wh;case"quaternion":return Th;case"bool":case"boolean":return _h;case"string":return Eh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];fh.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(gh.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var a;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,e<(i=t[++n]))break t}a=t.length;break n}if(e>=r)break e;var s=t[1];e<s&&(n=2,r=s);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,e>=(r=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(gh.prototype,{beforeStart_:gh.prototype.copySampleValue_,afterEnd_:gh.prototype.copySampleValue_}),bh.prototype=Object.assign(Object.create(gh.prototype),{constructor:bh,DefaultSettings_:{endingStart:Wt,endingEnd:Wt},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Xt:r=e,o=2*t-n;break;case Yt:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Xt:a=e,s=2*n-t;break;case Yt:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-u*f+2*u*m-u*p,b=(1+u)*f+(-1.5-2*u)*m+(-.5+u)*p+1,v=(-1-d)*f+(1.5+d)*m+.5*p,y=d*f-d*m,x=0;x!==o;++x)r[x]=g*a[c+x]+b*a[l+x]+v*a[s+x]+y*a[h+x];return r}}),vh.prototype=Object.assign(Object.create(gh.prototype),{constructor:vh,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),h=1-c,u=0;u!==o;++u)r[u]=a[l+u]*h+a[s+u]*c;return r}}),yh.prototype=Object.assign(Object.create(gh.prototype),{constructor:yh,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(xh,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:fh.convertArray(e.times,Array),values:fh.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(xh.prototype,{constructor:xh,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:jt,InterpolantFactoryMethodDiscrete:function(e){return new yh(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new vh(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new bh(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Ht:t=this.InterpolantFactoryMethodDiscrete;break;case jt:t=this.InterpolantFactoryMethodLinear;break;case Vt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ht;case this.InterpolantFactoryMethodLinear:return jt;case this.InterpolantFactoryMethodSmooth:return Vt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=fh.arraySlice(n,r,a),this.values=fh.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&fh.isTypedArray(i)){o=0;for(var l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}}return e},optimize:function(){for(var e=fh.arraySlice(this.times),t=fh.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Vt,r=1,a=e.length-1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(i)s=!0;else for(var c=o*n,h=c-n,u=c+n,d=0;d!==n;++d){var p=t[c+d];if(p!==t[h+d]||p!==t[u+d]){s=!0;break}}if(s){if(o!==r){e[r]=e[o];var m=o*n,f=r*n;for(d=0;d!==n;++d)t[f+d]=t[m+d]}++r}}if(a>0){e[r]=e[a];for(m=a*n,f=r*n,d=0;d!==n;++d)t[f+d]=t[m+d];++r}return r!==e.length?(this.times=fh.arraySlice(e,0,r),this.values=fh.arraySlice(t,0,r*n)):(this.times=e,this.values=t),this},clone:function(){var e=fh.arraySlice(this.times,0),t=fh.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),_h.prototype=Object.assign(Object.create(xh.prototype),{constructor:_h,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ht,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),wh.prototype=Object.assign(Object.create(xh.prototype),{constructor:wh,ValueTypeName:"color"}),Mh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Mh,ValueTypeName:"number"}),Sh.prototype=Object.assign(Object.create(gh.prototype),{constructor:Sh,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(n-t)/(i-t),c=s+o;s!==c;s+=4)Jn.slerpFlat(r,0,a,s-o,a,s,l);return r}}),Th.prototype=Object.assign(Object.create(xh.prototype),{constructor:Th,ValueTypeName:"quaternion",DefaultInterpolation:jt,InterpolantFactoryMethodLinear:function(e){return new Sh(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Eh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Eh,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ht,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ah.prototype=Object.assign(Object.create(xh.prototype),{constructor:Ah,ValueTypeName:"vector"}),Object.assign(Lh,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(Ph(n[r]).scale(i));return new Lh(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},r=0,a=n.length;r!==a;++r)t.push(xh.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=fh.getKeyframeOrder(s);s=fh.sortedArray(s,1,c),l=fh.sortedArray(l,1,c),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Mh(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new Lh(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(r);if(l&&l.length>1){var c=i[u=l[1]];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var u in i)h.push(Lh.CreateFromMorphTargetSequence(u,i[u],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var a=[],o=[];fh.flattenJSON(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.blendMode,l=e.hierarchy||[],c=0;c<l.length;c++){var h=l[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var u={},d=0;d<h.length;d++)if(h[d].morphTargets)for(var p=0;p<h[d].morphTargets.length;p++)u[h[d].morphTargets[p]]=-1;for(var m in u){var f=[],g=[];for(p=0;p!==h[d].morphTargets.length;++p){var b=h[d];f.push(b.time),g.push(b.morphTarget===m?1:0)}i.push(new Mh(".morphTargetInfluence["+m+"]",f,g))}a=u.length*(o||1)}else{var v=".bones["+t[c].name+"]";n(Ah,v+".position",h,"pos",i),n(Th,v+".quaternion",h,"rot",i),n(Ah,v+".scale",h,"scl",i)}}return 0===i.length?null:new Lh(r,a,i,s)}}),Object.assign(Lh.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Lh(this.name,this.duration,e,this.blendMode)}});var Ch={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Rh(e,t,n){var i=this,r=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var i=l[t],r=l[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}}var zh=new Rh;function Oh(e){this.manager=void 0!==e?e:zh,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Oh.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var Dh={};function Ih(e){Oh.call(this,e)}function kh(e){Oh.call(this,e)}function Nh(e){Oh.call(this,e)}function Bh(e){Oh.call(this,e)}function Fh(e){Oh.call(this,e)}function Uh(e){Oh.call(this,e)}function Gh(e){Oh.call(this,e)}function Hh(){this.type="Curve",this.arcLengthDivisions=200}function jh(e,t,n,i,r,a,o,s){Hh.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Vh(e,t,n,i,r,a){jh.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}function Wh(){var e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(i-t)/(o+s)+(i-n)/s;r(t,n,l*=o,c*=o)},calc:function(r){var a=r*r;return e+t*r+n*a+i*(a*r)}}}Ih.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Ih,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Ch.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;if(void 0===Dh[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],l=!!o[2],c=o[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var h,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);h="blob"===u?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(c,s);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout((function(){t&&t(h),r.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{Dh[e]=[],Dh[e].push({onLoad:t,onProgress:n,onError:i});var f=new XMLHttpRequest;for(var g in f.open("GET",e,!0),f.addEventListener("load",(function(t){var n=this.response,i=Dh[e];if(delete Dh[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ch.add(e,n);for(var a=0,o=i.length;a<o;a++){(s=i[a]).onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else{for(a=0,o=i.length;a<o;a++){var s;(s=i[a]).onError&&s.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}}),!1),f.addEventListener("progress",(function(t){for(var n=Dh[e],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(t)}}),!1),f.addEventListener("error",(function(t){var n=Dh[e];delete Dh[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),f.addEventListener("abort",(function(t){var n=Dh[e];delete Dh[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return r.manager.itemStart(e),f}Dh[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),kh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:kh,load:function(e,t,n,i){var r=this,a=new Ih(r.manager);a.setPath(r.path),a.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var i=Lh.parse(e[n]);t.push(i)}return t}}),Nh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Nh,load:function(e,t,n,i){var r=this,a=[],o=new Fl;o.image=a;var s=new Ih(this.manager);function l(l){s.load(e[l],(function(e){var n=r.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(o.minFilter=we),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,i)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,h=0,u=e.length;h<u;++h)l(h);else s.load(e,(function(e){var n=r.parse(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=we),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,i);return o}}),Bh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Bh,load:function(e,t,n,i){var r=this,a=new Ea,o=new Ih(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,(function(e){var n=r.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:fe,a.wrapT=void 0!==n.wrapT?n.wrapT:fe,a.magFilter=void 0!==n.magFilter?n.magFilter:we,a.minFilter=void 0!==n.minFilter?n.minFilter:we,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Te),1===n.mipmapCount&&(a.minFilter=we),a.needsUpdate=!0,t&&t(a,n))}),n,i),a}}),Fh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Fh,load:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Ch.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Ch.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}),Uh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Uh,load:function(e,t,n,i){var r=new qa,a=new Fh(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){r.images[n]=e,6===++o&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(var l=0;l<e.length;++l)s(l);return r}}),Gh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Gh,load:function(e,t,n,i){var r=new Xn,a=new Fh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){r.image=n;var i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?Ue:Ge,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}),Object.assign(Hh.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(r),i.push(a),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(a-1)},getTangent:function(e,t){var n=e-1e-4,i=e+1e-4;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n),a=this.getPoint(i),o=t||(r.isVector2?new Hn:new $n);return o.copy(a).sub(r).normalize(),o},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){var n,i,r,a=new $n,o=[],s=[],l=[],c=new $n,h=new si;for(n=0;n<=e;n++)i=n/e,o[n]=this.getTangentAt(i,new $n),o[n].normalize();s[0]=new $n,l[0]=new $n;var u=Number.MAX_VALUE,d=Math.abs(o[0].x),p=Math.abs(o[0].y),m=Math.abs(o[0].z);for(d<=u&&(u=d,a.set(1,0,0)),p<=u&&(u=p,a.set(0,1,0)),m<=u&&a.set(0,0,1),c.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],c),l[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(o[n-1],o[n]),c.length()>Number.EPSILON&&(c.normalize(),r=Math.acos(Gn.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(h.makeRotationAxis(c,r))),l[n].crossVectors(o[n],s[n]);if(!0===t)for(r=Math.acos(Gn.clamp(s[0].dot(s[e]),-1,1)),r/=e,o[0].dot(c.crossVectors(s[0],s[e]))>0&&(r=-r),n=1;n<=e;n++)s[n].applyMatrix4(h.makeRotationAxis(o[n],r*n)),l[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),jh.prototype=Object.create(Hh.prototype),jh.prototype.constructor=jh,jh.prototype.isEllipseCurve=!0,jh.prototype.getPoint=function(e,t){for(var n=t||new Hn,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),u=s-this.aX,d=l-this.aY;s=u*c-d*h+this.aX,l=u*h+d*c+this.aY}return n.set(s,l)},jh.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},jh.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},jh.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Vh.prototype=Object.create(jh.prototype),Vh.prototype.constructor=Vh,Vh.prototype.isArcCurve=!0;var Xh=new $n,Yh=new Wh,qh=new Wh,Zh=new Wh;function Jh(e,t,n,i){Hh.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Kh(e,t,n,i,r){var a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function Qh(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function $h(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function eu(e,t,n,i){Hh.call(this),this.type="CubicBezierCurve",this.v0=e||new Hn,this.v1=t||new Hn,this.v2=n||new Hn,this.v3=i||new Hn}function tu(e,t,n,i){Hh.call(this),this.type="CubicBezierCurve3",this.v0=e||new $n,this.v1=t||new $n,this.v2=n||new $n,this.v3=i||new $n}function nu(e,t){Hh.call(this),this.type="LineCurve",this.v1=e||new Hn,this.v2=t||new Hn}function iu(e,t){Hh.call(this),this.type="LineCurve3",this.v1=e||new $n,this.v2=t||new $n}function ru(e,t,n){Hh.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Hn,this.v1=t||new Hn,this.v2=n||new Hn}function au(e,t,n){Hh.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new $n,this.v1=t||new $n,this.v2=n||new $n}function ou(e){Hh.call(this),this.type="SplineCurve",this.points=e||[]}Jh.prototype=Object.create(Hh.prototype),Jh.prototype.constructor=Jh,Jh.prototype.isCatmullRomCurve3=!0,Jh.prototype.getPoint=function(e,t){var n,i,r,a,o=t||new $n,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e,h=Math.floor(c),u=c-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/l)+1)*l:0===u&&h===l-1&&(h=l-2,u=1),this.closed||h>0?n=s[(h-1)%l]:(Xh.subVectors(s[0],s[1]).add(s[0]),n=Xh),i=s[h%l],r=s[(h+1)%l],this.closed||h+2<l?a=s[(h+2)%l]:(Xh.subVectors(s[l-1],s[l-2]).add(s[l-1]),a=Xh),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(i),d),m=Math.pow(i.distanceToSquared(r),d),f=Math.pow(r.distanceToSquared(a),d);m<1e-4&&(m=1),p<1e-4&&(p=m),f<1e-4&&(f=m),Yh.initNonuniformCatmullRom(n.x,i.x,r.x,a.x,p,m,f),qh.initNonuniformCatmullRom(n.y,i.y,r.y,a.y,p,m,f),Zh.initNonuniformCatmullRom(n.z,i.z,r.z,a.z,p,m,f)}else"catmullrom"===this.curveType&&(Yh.initCatmullRom(n.x,i.x,r.x,a.x,this.tension),qh.initCatmullRom(n.y,i.y,r.y,a.y,this.tension),Zh.initCatmullRom(n.z,i.z,r.z,a.z,this.tension));return o.set(Yh.calc(u),qh.calc(u),Zh.calc(u)),o},Jh.prototype.copy=function(e){Hh.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Jh.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Jh.prototype.fromJSON=function(e){Hh.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new $n).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},eu.prototype=Object.create(Hh.prototype),eu.prototype.constructor=eu,eu.prototype.isCubicBezierCurve=!0,eu.prototype.getPoint=function(e,t){var n=t||new Hn,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set($h(e,i.x,r.x,a.x,o.x),$h(e,i.y,r.y,a.y,o.y)),n},eu.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},eu.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},eu.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},tu.prototype=Object.create(Hh.prototype),tu.prototype.constructor=tu,tu.prototype.isCubicBezierCurve3=!0,tu.prototype.getPoint=function(e,t){var n=t||new $n,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set($h(e,i.x,r.x,a.x,o.x),$h(e,i.y,r.y,a.y,o.y),$h(e,i.z,r.z,a.z,o.z)),n},tu.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},tu.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},tu.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},nu.prototype=Object.create(Hh.prototype),nu.prototype.constructor=nu,nu.prototype.isLineCurve=!0,nu.prototype.getPoint=function(e,t){var n=t||new Hn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},nu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},nu.prototype.getTangent=function(e,t){return(t||new Hn).copy(this.v2).sub(this.v1).normalize()},nu.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},nu.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},nu.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},iu.prototype=Object.create(Hh.prototype),iu.prototype.constructor=iu,iu.prototype.isLineCurve3=!0,iu.prototype.getPoint=function(e,t){var n=t||new $n;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},iu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},iu.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},iu.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},iu.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ru.prototype=Object.create(Hh.prototype),ru.prototype.constructor=ru,ru.prototype.isQuadraticBezierCurve=!0,ru.prototype.getPoint=function(e,t){var n=t||new Hn,i=this.v0,r=this.v1,a=this.v2;return n.set(Qh(e,i.x,r.x,a.x),Qh(e,i.y,r.y,a.y)),n},ru.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ru.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ru.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},au.prototype=Object.create(Hh.prototype),au.prototype.constructor=au,au.prototype.isQuadraticBezierCurve3=!0,au.prototype.getPoint=function(e,t){var n=t||new $n,i=this.v0,r=this.v1,a=this.v2;return n.set(Qh(e,i.x,r.x,a.x),Qh(e,i.y,r.y,a.y),Qh(e,i.z,r.z,a.z)),n},au.prototype.copy=function(e){return Hh.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},au.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},au.prototype.fromJSON=function(e){return Hh.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ou.prototype=Object.create(Hh.prototype),ou.prototype.constructor=ou,ou.prototype.isSplineCurve=!0,ou.prototype.getPoint=function(e,t){var n=t||new Hn,i=this.points,r=(i.length-1)*e,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],l=i[a],c=i[a>i.length-2?i.length-1:a+1],h=i[a>i.length-3?i.length-1:a+2];return n.set(Kh(o,s.x,l.x,c.x,h.x),Kh(o,s.y,l.y,c.y,h.y)),n},ou.prototype.copy=function(e){Hh.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},ou.prototype.toJSON=function(){var e=Hh.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},ou.prototype.fromJSON=function(e){Hh.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Hn).fromArray(i))}return this};var su=Object.freeze({__proto__:null,ArcCurve:Vh,CatmullRomCurve3:Jh,CubicBezierCurve:eu,CubicBezierCurve3:tu,EllipseCurve:jh,LineCurve:nu,LineCurve3:iu,QuadraticBezierCurve:ru,QuadraticBezierCurve3:au,SplineCurve:ou});function lu(){Hh.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function cu(e){lu.call(this),this.type="Path",this.currentPoint=new Hn,e&&this.setFromPoints(e)}function hu(e){cu.call(this,e),this.uuid=Gn.generateUUID(),this.type="Shape",this.holes=[]}function uu(e,t){Ti.call(this),this.type="Light",this.color=new gr(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function du(e,t,n){uu.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ti.DefaultUp),this.updateMatrix(),this.groundColor=new gr(t)}function pu(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Hn(512,512),this.map=null,this.mapPass=null,this.matrix=new si,this._frustum=new Pa,this._frameExtents=new Hn(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}function mu(){pu.call(this,new Ma(50,1,.5,500))}function fu(e,t,n,i,r,a){uu.call(this,e,t),this.type="SpotLight",this.position.copy(Ti.DefaultUp),this.updateMatrix(),this.target=new Ti,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new mu}function gu(){pu.call(this,new Ma(90,1,.5,500)),this._frameExtents=new Hn(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new $n(1,0,0),new $n(-1,0,0),new $n(0,0,1),new $n(0,0,-1),new $n(0,1,0),new $n(0,-1,0)],this._cubeUps=[new $n(0,1,0),new $n(0,1,0),new $n(0,1,0),new $n(0,1,0),new $n(0,0,1),new $n(0,0,-1)]}function bu(e,t,n,i){uu.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new gu}function vu(e,t,n,i,r,a){wa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function yu(){pu.call(this,new vu(-5,5,5,-5,.5,500))}function xu(e,t){uu.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ti.DefaultUp),this.updateMatrix(),this.target=new Ti,this.shadow=new yu}function _u(e,t){uu.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function wu(e,t,n,i){uu.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Mu(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new $n)}function Su(e,t){uu.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Mu}function Tu(e){Oh.call(this,e),this.textures={}}lu.prototype=Object.assign(Object.create(Hh.prototype),{constructor:lu,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new nu(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,a=this.curves[i],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Hh.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Hh.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Hh.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new su[i.type]).fromJSON(i))}return this}}),cu.prototype=Object.assign(Object.create(lu.prototype),{constructor:cu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new nu(this.currentPoint.clone(),new Hn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){var r=new ru(this.currentPoint.clone(),new Hn(e,t),new Hn(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,a){var o=new eu(this.currentPoint.clone(),new Hn(e,t),new Hn(n,i),new Hn(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this},splineThru:function(e){var t=new ou([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this},absarc:function(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this},ellipse:function(e,t,n,i,r,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,a,o,s),this},absellipse:function(e,t,n,i,r,a,o,s){var l=new jh(e,t,n,i,r,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var h=l.getPoint(1);return this.currentPoint.copy(h),this},copy:function(e){return lu.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=lu.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return lu.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),hu.prototype=Object.assign(Object.create(cu.prototype),{constructor:hu,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){cu.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=cu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){cu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new cu).fromJSON(i))}return this}}),uu.prototype=Object.assign(Object.create(Ti.prototype),{constructor:uu,isLight:!0,copy:function(e){return Ti.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Ti.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),du.prototype=Object.assign(Object.create(uu.prototype),{constructor:du,isHemisphereLight:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(pu.prototype,{_projScreenMatrix:new si,_lightPositionWorld:new $n,_lookTarget:new $n,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),mu.prototype=Object.assign(Object.create(pu.prototype),{constructor:mu,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*Gn.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),pu.prototype.updateMatrices.call(this,e)}}),fu.prototype=Object.assign(Object.create(uu.prototype),{constructor:fu,isSpotLight:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),gu.prototype=Object.assign(Object.create(pu.prototype),{constructor:gu,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,i=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),bu.prototype=Object.assign(Object.create(uu.prototype),{constructor:bu,isPointLight:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),vu.prototype=Object.assign(Object.create(wa.prototype),{constructor:vu,isOrthographicCamera:!0,copy:function(e,t){return wa.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Ti.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),yu.prototype=Object.assign(Object.create(pu.prototype),{constructor:yu,isDirectionalLightShadow:!0,updateMatrices:function(e){pu.prototype.updateMatrices.call(this,e)}}),xu.prototype=Object.assign(Object.create(uu.prototype),{constructor:xu,isDirectionalLight:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),_u.prototype=Object.assign(Object.create(uu.prototype),{constructor:_u,isAmbientLight:!0}),wu.prototype=Object.assign(Object.create(uu.prototype),{constructor:wu,isRectAreaLight:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=uu.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Mu.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*r),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*i*1.092548),t.addScaledVector(a[5],i*r*1.092548),t.addScaledVector(a[6],.315392*(3*r*r-1)),t.addScaledVector(a[7],n*r*1.092548),t.addScaledVector(a[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){var n=e.x,i=e.y,r=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*i),t.addScaledVector(a[2],1.023328*r),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*i),t.addScaledVector(a[5],.858086*i*r),t.addScaledVector(a[6],.743125*r*r-.247708),t.addScaledVector(a[7],.858086*n*r),t.addScaledVector(a[8],.429043*(n*n-i*i)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}}),Object.assign(Mu,{getBasisAt:function(e,t){var n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}),Su.prototype=Object.assign(Object.create(uu.prototype),{constructor:Su,isLightProbe:!0,copy:function(e){return uu.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=uu.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Tu.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Tu,load:function(e,t,n,i){var r=this,a=new Ih(r.manager);a.setPath(r.path),a.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new mh[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new gr).setHex(e.sheen)),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.vertexTangents&&(i.vertexTangents=e.vertexTangents),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var r in e.uniforms){var a=e.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new gr).setHex(a.value);break;case"v2":i.uniforms[r].value=(new Hn).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new $n).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new Yn).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new jn).fromArray(a.value);case"m4":i.uniforms[r].value=(new si).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)i.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new Hn).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Hn).fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});var Eu={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Au(){Vr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Lu(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Tr.call(this,e,t,n),this.meshPerAttribute=i||1}function Pu(e){Oh.call(this,e)}Au.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Au,isInstancedBufferGeometry:!0,copy:function(e){return Vr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Vr.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Lu.prototype=Object.assign(Object.create(Tr.prototype),{constructor:Lu,isInstancedBufferAttribute:!0,copy:function(e){return Tr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Tr.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Pu.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Pu,load:function(e,t,n,i){var r=this,a=new Ih(r.manager);a.setPath(r.path),a.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){var t=e.isInstancedBufferGeometry?new Au:new Vr,n=e.data.index;if(void 0!==n){var i=new Cu[n.type](n.array);t.setIndex(new Tr(i,1))}var r=e.data.attributes;for(var a in r){var o=r[a],s=(i=new Cu[o.type](o.array),new(o.isInstancedBufferAttribute?Lu:Tr)(i,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),t.setAttribute(a,s)}var l=e.data.morphAttributes;if(l)for(var a in l){for(var c=l[a],h=[],u=0,d=c.length;u<d;u++){o=c[u],s=new Tr(i=new Cu[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),h.push(s)}t.morphAttributes[a]=h}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var p=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==p){u=0;for(var m=p.length;u!==m;++u){var f=p[u];t.addGroup(f.start,f.count,f.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var b=new $n;void 0!==g.center&&b.fromArray(g.center),t.boundingSphere=new ji(b,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Cu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ru(e){Oh.call(this,e)}Ru.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Ru,load:function(e,t,n,i){var r=this,a=""===this.path?Eu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Ih(r.manager);o.setPath(this.path),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,i)},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,i,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new hu).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new Pu,r=0,a=e.length;r<a;r++){var o,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ih[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ih[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ih[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ih[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ih[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ih[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ih[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ih[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ih[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ih[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ih[s.type]((new su[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ih[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ih[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,h=s.shapes.length;c<h;c++){var u=t[s.shapes[c]];l.push(u)}o=new ih[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,h=s.shapes.length;c<h;c++){u=t[s.shapes[c]];l.push(u)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new su[d.type]).fromJSON(d)),o=new ih[s.type](l,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},i={};if(void 0!==e){var r=new Tu;r.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var h=s.materials[c];void 0===n[h.uuid]&&(n[h.uuid]=r.parse(h)),l.push(n[h.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=Lh.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){var n=this,i={};function r(e){return n.manager.itemStart(e),a.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Fh(new Rh(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var h=0,u=c.length;h<u;h++){var d=c[h],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[l.uuid].push(r(p))}}else{p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url;i[l.uuid]=r(p)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o,s=e[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new qa(t[s.image]):new Xn(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Ou)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],Du),o.wrapT=n(s.wrap[1],Du)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,Iu)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,Iu)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),i[s.uuid]=o}return i},parseObject:function(e,t,n){var i;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new Ei,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new gr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new ks(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new Is(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Ma(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new vu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new _u(e.color,e.intensity);break;case"DirectionalLight":i=new xu(e.color,e.intensity);break;case"PointLight":i=new bu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new wu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new fu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new du(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new Su).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":i=new la(o=r(e.geometry),s=a(e.material));break;case"InstancedMesh":var o=r(e.geometry),s=a(e.material),l=e.count,c=e.instanceMatrix;(i=new yl(o,s,l)).instanceMatrix=new Tr(new Float32Array(c.array),16);break;case"LOD":i=new cl;break;case"Line":i=new El(r(e.geometry),a(e.material),e.mode);break;case"LineLoop":i=new Cl(r(e.geometry),a(e.material));break;case"LineSegments":i=new Pl(r(e.geometry),a(e.material));break;case"PointCloud":case"Points":i=new kl(r(e.geometry),a(e.material));break;case"Sprite":i=new el(a(e.material));break;case"Group":i=new Rs;break;default:i=new Ti}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,u=0;u<h.length;u++)i.add(this.parseObject(h[u],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var d=e.levels,p=0;p<d.length;p++){var m=d[p],f=i.getObjectByProperty("uuid",m.object);void 0!==f&&i.addLevel(f,m.distance)}}return i}});var zu,Ou={UVMapping:oe,CubeReflectionMapping:se,CubeRefractionMapping:le,EquirectangularReflectionMapping:ce,EquirectangularRefractionMapping:he,SphericalReflectionMapping:ue,CubeUVReflectionMapping:de,CubeUVRefractionMapping:pe},Du={RepeatWrapping:me,ClampToEdgeWrapping:fe,MirroredRepeatWrapping:ge},Iu={NearestFilter:be,NearestMipmapNearestFilter:ve,NearestMipmapLinearFilter:xe,LinearFilter:we,LinearMipmapNearestFilter:Me,LinearMipmapLinearFilter:Te};function ku(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Oh.call(this,e),this.options=void 0}function Nu(){this.type="ShapePath",this.color=new gr,this.subPaths=[],this.currentPath=null}function Bu(e){this.type="Font",this.data=e}function Fu(e,t,n,i,r){var a=r.glyphs[e]||r.glyphs["?"];if(a){var o,s,l,c,h,u,d,p,m=new Nu;if(a.o)for(var f=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),g=0,b=f.length;g<b;){switch(f[g++]){case"m":o=f[g++]*t+n,s=f[g++]*t+i,m.moveTo(o,s);break;case"l":o=f[g++]*t+n,s=f[g++]*t+i,m.lineTo(o,s);break;case"q":l=f[g++]*t+n,c=f[g++]*t+i,h=f[g++]*t+n,u=f[g++]*t+i,m.quadraticCurveTo(h,u,l,c);break;case"b":l=f[g++]*t+n,c=f[g++]*t+i,h=f[g++]*t+n,u=f[g++]*t+i,d=f[g++]*t+n,p=f[g++]*t+i,m.bezierCurveTo(h,u,d,p,l,c)}}return{offsetX:a.ha*t,path:m}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}function Uu(e){Oh.call(this,e)}ku.prototype=Object.assign(Object.create(Oh.prototype),{constructor:ku,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=Ch.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===r.options?createImageBitmap(e):createImageBitmap(e,r.options)})).then((function(n){Ch.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}),Object.assign(Nu.prototype,{moveTo:function(e,t){return this.currentPath=new cu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new hu;a.curves=r.curves,t.push(a)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[r],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var h=c*(e.x-o.x)-l*(e.y-o.y);if(0===h)return!0;if(h<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return i}var r=zc.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,l,c=[];if(1===a.length)return s=a[0],(l=new hu).curves=s.curves,c.push(l),c;var h=!r(a[0].getPoints());h=e?!h:h;var u,d,p=[],m=[],f=[],g=0;m[g]=void 0,f[g]=[];for(var b=0,v=a.length;b<v;b++)o=r(u=(s=a[b]).getPoints()),(o=e?!o:o)?(!h&&m[g]&&g++,m[g]={s:new hu,p:u},m[g].s.curves=s.curves,h&&g++,f[g]=[]):f[g].push({h:s,p:u[0]});if(!m[0])return n(a);if(m.length>1){for(var y=!1,x=[],_=0,w=m.length;_<w;_++)p[_]=[];for(_=0,w=m.length;_<w;_++)for(var M=f[_],S=0;S<M.length;S++){for(var T=M[S],E=!0,A=0;A<m.length;A++)i(T.p,m[A].p)&&(_!==A&&x.push({froms:_,tos:A,hole:S}),E?(E=!1,p[A].push(T)):y=!0);E&&p[_].push(T)}x.length>0&&(y||(f=p))}b=0;for(var L=m.length;b<L;b++){l=m[b].s,c.push(l);for(var P=0,C=(d=f[b]).length;P<C;P++)l.holes.push(d[P].h)}return c}}),Object.assign(Bu.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],i=function(e,t,n){for(var i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,c=0;c<i.length;c++){var h=i[c];if("\n"===h)s=0,l-=a;else{var u=Fu(h,r,s,l,n);s+=u.offsetX,o.push(u.path)}}return o}(e,t,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Uu.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Uu,load:function(e,t,n,i){var r=this,a=new Ih(this.manager);a.setPath(this.path),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)}),n,i)},parse:function(e){return new Bu(e)}});var Gu={getContext:function(){return void 0===zu&&(zu=new(window.AudioContext||window.webkitAudioContext)),zu},setContext:function(e){zu=e}};function Hu(e){Oh.call(this,e)}function ju(e,t,n){Su.call(this,void 0,n);var i=(new gr).set(e),r=(new gr).set(t),a=new $n(i.r,i.g,i.b),o=new $n(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function Vu(e,t){Su.call(this,void 0,t);var n=(new gr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Hu.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Hu,load:function(e,t,n,i){var r=new Ih(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(e,(function(e){var n=e.slice(0);Gu.getContext().decodeAudioData(n,(function(e){t(e)}))}),n,i)}}),ju.prototype=Object.assign(Object.create(Su.prototype),{constructor:ju,isHemisphereLightProbe:!0,copy:function(e){return Su.prototype.copy.call(this,e),this},toJSON:function(e){return Su.prototype.toJSON.call(this,e)}}),Vu.prototype=Object.assign(Object.create(Su.prototype),{constructor:Vu,isAmbientLightProbe:!0,copy:function(e){return Su.prototype.copy.call(this,e),this},toJSON:function(e){return Su.prototype.toJSON.call(this,e)}});var Wu=new si,Xu=new si;function Yu(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ma,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ma,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function qu(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Yu.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,i,r=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(Gn.DEG2RAD*t.fov*.5)/t.zoom;Xu.elements[12]=-a,Wu.elements[12]=a,n=-s*t.aspect+o,i=s*t.aspect+o,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*t.aspect-o,i=s*t.aspect-o,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Xu),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Wu)}}),Object.assign(qu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var Zu=new $n,Ju=new Jn,Ku=new $n,Qu=new $n;function $u(){Ti.call(this),this.type="AudioListener",this.context=Gu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new qu}function ed(e){Ti.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}$u.prototype=Object.assign(Object.create(Ti.prototype),{constructor:$u,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Ti.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zu,Ju,Ku),Qu.set(0,0,-1).applyQuaternion(Ju),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Zu.x,i),t.positionY.linearRampToValueAtTime(Zu.y,i),t.positionZ.linearRampToValueAtTime(Zu.z,i),t.forwardX.linearRampToValueAtTime(Qu.x,i),t.forwardY.linearRampToValueAtTime(Qu.y,i),t.forwardZ.linearRampToValueAtTime(Qu.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Zu.x,Zu.y,Zu.z),t.setOrientation(Qu.x,Qu.y,Qu.z,n.x,n.y,n.z)}}),ed.prototype=Object.assign(Object.create(Ti.prototype),{constructor:ed,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var td=new $n,nd=new Jn,id=new $n,rd=new $n;function ad(e){ed.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function od(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function sd(e,t,n){var i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}ad.prototype=Object.assign(Object.create(ed.prototype),{constructor:ad,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Ti.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(td,nd,id),rd.set(0,0,1).applyQuaternion(nd);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(td.x,n),t.positionY.linearRampToValueAtTime(td.y,n),t.positionZ.linearRampToValueAtTime(td.z,n),t.orientationX.linearRampToValueAtTime(rd.x,n),t.orientationY.linearRampToValueAtTime(rd.y,n),t.orientationZ.linearRampToValueAtTime(rd.z,n)}else t.setPosition(td.x,td.y,td.z),t.setOrientation(rd.x,rd.y,rd.z)}}}),Object.assign(od.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(sd.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){var s=t*this._origIndex;this._mixBufferRegion(n,i,s,1-r,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(var l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(var r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){var e=this._addIndex*this.valueSize;this.buffer.fill(0,e,e+this.valueSize)},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;this.buffer.copyWithin(t,e,this.valueSize)},_select:function(e,t,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){Jn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){var a=this._workIndex*r;Jn.multiplyQuaternionsFlat(e,a,e,t,e,n),Jn.slerpFlat(e,t,e,t,e,a,i)},_lerp:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}},_lerpAdditive:function(e,t,n,i,r){for(var a=0;a!==r;++a){var o=t+a;e[o]=e[o]+e[n+a]*i}}});var ld=new RegExp("[\\[\\]\\.:\\/]","g"),cd="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",hd=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),ud=/(WCOD+)?/.source.replace("WCOD",cd),dd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),pd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),md=new RegExp("^"+hd+ud+dd+pd+"$"),fd=["material","materials","bones"];function gd(e,t,n){var i=n||bd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function bd(e,t,n){this.path=t,this.parsedPath=n||bd.parseTrackName(t),this.node=bd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function vd(){this.uuid=Gn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function yd(e,t,n,i){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=i||t.blendMode;for(var r=t.tracks,a=r.length,o=new Array(a),s={endingStart:Wt,endingEnd:Wt},l=0;l!==a;++l){var c=r[l].createInterpolant(null);o[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ut,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function xd(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function _d(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function wd(e,t,n){Ns.call(this,e,t),this.meshPerAttribute=n||1}function Md(e,t,n,i){this.ray=new Ki(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new ui,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Sd(e,t){return e.distance-t.distance}function Td(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i)for(var r=e.children,a=0,o=r.length;a<o;a++)Td(r[a],t,n,!0)}function Ed(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ad(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(gd.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(bd,{Composite:gd,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new bd.Composite(e,t,n):new bd(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(ld,"")},parseTrackName:function(e){var t=md.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==fd.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var a=i(r.children);if(a)return a}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(bd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=bd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(bd.prototype,{_getValue_unbound:bd.prototype.getValue,_setValue_unbound:bd.prototype.setValue}),Object.assign(vd.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,c=0,h=arguments.length;c!==h;++c){var u=arguments[c],d=u.uuid,p=i[d];if(void 0===p){p=t++,i[d]=p,e.push(u);for(var m=0,f=s;m!==f;++m)o[m].push(new bd(u,r[m],a[m]))}else if(p<n){l=e[p];var g=--n,b=e[g];i[b.uuid]=p,e[p]=b,i[d]=g,e[g]=u;for(m=0,f=s;m!==f;++m){var v=o[m],y=v[g],x=v[p];v[p]=y,void 0===x&&(x=new bd(u,r[m],a[m])),v[g]=x}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=n[l];if(void 0!==c&&c>=t){var h=t++,u=e[h];n[u.uuid]=c,e[c]=u,n[l]=h,e[h]=s;for(var d=0,p=r;d!==p;++d){var m=i[d],f=m[h],g=m[c];m[c]=f,m[h]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],c=l.uuid,h=i[c];if(void 0!==h)if(delete i[c],h<n){var u=--n,d=e[u],p=e[v=--t];i[d.uuid]=h,e[h]=d,i[p.uuid]=u,e[u]=p,e.pop();for(var m=0,f=a;m!==f;++m){var g=(y=r[m])[u],b=y[v];y[h]=g,y[u]=b,y.pop()}}else{var v;i[(p=e[v=--t]).uuid]=h,e[h]=p,e.pop();for(m=0,f=a;m!==f;++m){var y;(y=r[m])[h]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,h=new Array(l);i=r.length,n[e]=i,a.push(e),o.push(t),r.push(h);for(var u=c,d=s.length;u!==d;++u){var p=s[u];h[u]=new bd(p,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(yd.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,a=r/i,o=i/r;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(e-r)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Zt:for(var h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulateAdditive(s);break;case qt:default:for(h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulate(i,s)}}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,i=this.loop,r=this._loopCount,a=i===Gt;if(0===e)return-1===r?t:a&&1==(1&r)?n-t:t;if(i===Ft){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=t;if(a&&1==(1&r))return n-t}return t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=Xt,i.endingEnd=Xt):(i.endingStart=e?this.zeroSlopeAtStart?Xt:Wt:Yt,i.endingEnd=t?this.zeroSlopeAtEnd?Xt:Wt:Yt)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=n,this}}),xd.prototype=Object.assign(Object.create(Nn.prototype),{constructor:xd,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var h=0;h!==r;++h){var u=i[h],d=u.name,p=c[d];if(void 0!==p)a[h]=p;else{if(void 0!==(p=a[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var m=t&&t._propertyBindings[h].binding.parsedPath;++(p=new sd(bd.create(n,d,m),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),a[h]=p}o[h].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new vh(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var i=t||this._root,r=i.uuid,a="string"==typeof e?Lh.findByName(i,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:qt),void 0!==s){var c=s.actionByRoot[r];if(void 0!==c&&c.blendMode===n)return c;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var h=new yd(this,a,t,n);return this._bindAction(h,l),this._addInactiveAction(h,o,r),h},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Lh.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(i,e,r,a)}var s=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)s[o].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),_d.prototype.clone=function(){return new _d(void 0===this.value.clone?this.value:this.value.clone())},wd.prototype=Object.assign(Object.create(Ns.prototype),{constructor:wd,isInstancedInterleavedBuffer:!0,copy:function(e){return Ns.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Md.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var i=n||[];return Td(e,this,i,t),i.sort(Sd),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=e.length;r<a;r++)Td(e[r],this,i,t);return i.sort(Sd),i}}),Object.assign(Ed.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Gn.clamp(t/this.radius,-1,1))),this}}),Object.assign(Ad.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Ld=new Hn;function Pd(e,t){this.min=void 0!==e?e:new Hn(1/0,1/0),this.max=void 0!==t?t:new Hn(-1/0,-1/0)}Object.assign(Pd.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Ld.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Hn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Hn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Hn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Hn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Ld.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Cd=new $n,Rd=new $n;function zd(e,t){this.start=void 0!==e?e:new $n,this.end=void 0!==t?t:new $n}function Od(e){Ti.call(this),this.material=e,this.render=function(){}}Object.assign(zd.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new $n),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new $n),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new $n),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Cd.subVectors(e,this.start),Rd.subVectors(this.end,this.start);var n=Rd.dot(Rd),i=Rd.dot(Cd)/n;return t&&(i=Gn.clamp(i,0,1)),i},closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new $n),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Od.prototype=Object.create(Ti.prototype),Od.prototype.constructor=Od,Od.prototype.isImmediateRenderObject=!0;var Dd=new $n;function Id(e,t){Ti.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Vr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var o=r/32*Math.PI*2,s=a/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new Or(i,3));var l=new xl({fog:!1,toneMapped:!1});this.cone=new Pl(n,l),this.add(this.cone),this.update()}Id.prototype=Object.create(Ti.prototype),Id.prototype.constructor=Id,Id.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Id.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Dd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Dd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var kd=new $n,Nd=new si,Bd=new si;function Fd(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new Vr,i=[],r=[],a=new gr(0,0,1),o=new gr(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new Or(i,3)),n.setAttribute("color",new Or(r,3));var c=new xl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Pl.call(this,n,c),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ud(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new Hc(t,4,2),r=new Mr({wireframe:!0,fog:!1,toneMapped:!1});la.call(this,i,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Fd.prototype=Object.create(Pl.prototype),Fd.prototype.constructor=Fd,Fd.prototype.isSkeletonHelper=!0,Fd.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");Bd.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<t.length;r++){var o=t[r];o.parent&&o.parent.isBone&&(Nd.multiplyMatrices(Bd,o.matrixWorld),kd.setFromMatrixPosition(Nd),i.setXYZ(a,kd.x,kd.y,kd.z),Nd.multiplyMatrices(Bd,o.parent.matrixWorld),kd.setFromMatrixPosition(Nd),i.setXYZ(a+1,kd.x,kd.y,kd.z),a+=2)}n.getAttribute("position").needsUpdate=!0,Ti.prototype.updateMatrixWorld.call(this,e)},Ud.prototype=Object.create(la.prototype),Ud.prototype.constructor=Ud,Ud.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ud.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var Gd=new $n,Hd=new gr,jd=new gr;function Vd(e,t,n){Ti.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Jl(t);i.rotateY(.5*Math.PI),this.material=new Mr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.setAttribute("color",new Tr(a,3)),this.add(new la(i,this.material)),this.update()}function Wd(e,t,n,i){e=e||10,t=t||10,n=new gr(void 0!==n?n:4473924),i=new gr(void 0!==i?i:8947848);for(var r=t/2,a=e/t,o=e/2,s=[],l=[],c=0,h=0,u=-o;c<=t;c++,u+=a){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);var d=c===r?n:i;d.toArray(l,h),h+=3,d.toArray(l,h),h+=3,d.toArray(l,h),h+=3,d.toArray(l,h),h+=3}var p=new Vr;p.setAttribute("position",new Or(s,3)),p.setAttribute("color",new Or(l,3));var m=new xl({vertexColors:!0,toneMapped:!1});Pl.call(this,p,m),this.type="GridHelper"}function Xd(e,t,n,i,r,a){e=e||10,t=t||16,n=n||8,i=i||64,r=new gr(void 0!==r?r:4473924),a=new gr(void 0!==a?a:8947848);var o,s,l,c,h,u,d,p=[],m=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),o=Math.sin(l)*e,s=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,s),d=1&c?r:a,m.push(d.r,d.g,d.b),m.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:a,u=e-e/n*c,h=0;h<i;h++)l=h/i*(2*Math.PI),o=Math.sin(l)*u,s=Math.cos(l)*u,p.push(o,0,s),m.push(d.r,d.g,d.b),l=(h+1)/i*(2*Math.PI),o=Math.sin(l)*u,s=Math.cos(l)*u,p.push(o,0,s),m.push(d.r,d.g,d.b);var f=new Vr;f.setAttribute("position",new Or(p,3)),f.setAttribute("color",new Or(m,3));var g=new xl({vertexColors:!0,toneMapped:!1});Pl.call(this,f,g),this.type="PolarGridHelper"}Vd.prototype=Object.create(Ti.prototype),Vd.prototype.constructor=Vd,Vd.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Vd.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Hd.copy(this.light.color),jd.copy(this.light.groundColor);for(var n=0,i=t.count;n<i;n++){var r=n<i/2?Hd:jd;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(Gd.setFromMatrixPosition(this.light.matrixWorld).negate())},Wd.prototype=Object.assign(Object.create(Pl.prototype),{constructor:Wd,copy:function(e){return Pl.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Xd.prototype=Object.create(Pl.prototype),Xd.prototype.constructor=Xd;var Yd=new $n,qd=new $n,Zd=new $n;function Jd(e,t,n){Ti.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new Vr;i.setAttribute("position",new Or([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new xl({fog:!1,toneMapped:!1});this.lightPlane=new El(i,r),this.add(this.lightPlane),(i=new Vr).setAttribute("position",new Or([0,0,0,0,0,1],3)),this.targetLine=new El(i,r),this.add(this.targetLine),this.update()}Jd.prototype=Object.create(Ti.prototype),Jd.prototype.constructor=Jd,Jd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Jd.prototype.update=function(){Yd.setFromMatrixPosition(this.light.matrixWorld),qd.setFromMatrixPosition(this.light.target.matrixWorld),Zd.subVectors(qd,Yd),this.lightPlane.lookAt(qd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qd),this.targetLine.scale.z=Zd.length()};var Kd=new $n,Qd=new wa;function $d(e){var t=new Vr,n=new xl({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],a={},o=new gr(16755200),s=new gr(16711680),l=new gr(43775),c=new gr(16777215),h=new gr(3355443);function u(e,t,n){d(e,n),d(t,n)}function d(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}u("n1","n2",o),u("n2","n4",o),u("n4","n3",o),u("n3","n1",o),u("f1","f2",o),u("f2","f4",o),u("f4","f3",o),u("f3","f1",o),u("n1","f1",o),u("n2","f2",o),u("n3","f3",o),u("n4","f4",o),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",l),u("u2","u3",l),u("u3","u1",l),u("c","t",c),u("p","c",h),u("cn1","cn2",h),u("cn3","cn4",h),u("cf1","cf2",h),u("cf3","cf4",h),t.setAttribute("position",new Or(i,3)),t.setAttribute("color",new Or(r,3)),Pl.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function ep(e,t,n,i,r,a,o){Kd.set(r,a,o).unproject(i);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,h=s.length;c<h;c++)l.setXYZ(s[c],Kd.x,Kd.y,Kd.z)}$d.prototype=Object.create(Pl.prototype),$d.prototype.constructor=$d,$d.prototype.update=function(){var e=this.geometry,t=this.pointMap;Qd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ep("c",t,e,Qd,0,0,-1),ep("t",t,e,Qd,0,0,1),ep("n1",t,e,Qd,-1,-1,-1),ep("n2",t,e,Qd,1,-1,-1),ep("n3",t,e,Qd,-1,1,-1),ep("n4",t,e,Qd,1,1,-1),ep("f1",t,e,Qd,-1,-1,1),ep("f2",t,e,Qd,1,-1,1),ep("f3",t,e,Qd,-1,1,1),ep("f4",t,e,Qd,1,1,1),ep("u1",t,e,Qd,.7,1.1,-1),ep("u2",t,e,Qd,-.7,1.1,-1),ep("u3",t,e,Qd,0,2,-1),ep("cf1",t,e,Qd,-1,0,1),ep("cf2",t,e,Qd,1,0,1),ep("cf3",t,e,Qd,0,-1,1),ep("cf4",t,e,Qd,0,1,1),ep("cn1",t,e,Qd,-1,0,-1),ep("cn2",t,e,Qd,1,0,-1),ep("cn3",t,e,Qd,0,-1,-1),ep("cn4",t,e,Qd,0,1,-1),e.getAttribute("position").needsUpdate=!0};var tp=new Ui;function np(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Vr;r.setIndex(new Tr(n,1)),r.setAttribute("position",new Tr(i,3)),Pl.call(this,r,new xl({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function ip(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Vr;i.setIndex(new Tr(n,1)),i.setAttribute("position",new Or([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Pl.call(this,i,new xl({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function rp(e,t,n){this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new Vr;r.setAttribute("position",new Or([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),El.call(this,r,new xl({color:i,toneMapped:!1})),this.type="PlaneHelper";var a=new Vr;a.setAttribute("position",new Or([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new la(a,new Mr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}np.prototype=Object.create(Pl.prototype),np.prototype.constructor=np,np.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&tp.setFromObject(this.object),!tp.isEmpty()){var t=tp.min,n=tp.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},np.prototype.setFromObject=function(e){return this.object=e,this.update(),this},np.prototype.copy=function(e){return Pl.prototype.copy.call(this,e),this.object=e.object,this},np.prototype.clone=function(){return(new this.constructor).copy(this)},ip.prototype=Object.create(Pl.prototype),ip.prototype.constructor=ip,ip.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Ti.prototype.updateMatrixWorld.call(this,e))},rp.prototype=Object.create(El.prototype),rp.prototype.constructor=rp,rp.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?b:g,this.lookAt(this.plane.normal),Ti.prototype.updateMatrixWorld.call(this,e)};var ap,op,sp=new $n;function lp(e,t,n,i,r,a){Ti.call(this),this.type="ArrowHelper",void 0===e&&(e=new $n(0,0,1)),void 0===t&&(t=new $n(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===ap&&((ap=new Vr).setAttribute("position",new Or([0,0,0,0,1,0],3)),(op=new Qc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new El(ap,new xl({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new la(op,new Mr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}function cp(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Vr;n.setAttribute("position",new Or(t,3)),n.setAttribute("color",new Or([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new xl({vertexColors:!0,toneMapped:!1});Pl.call(this,n,i),this.type="AxesHelper"}lp.prototype=Object.create(Ti.prototype),lp.prototype.constructor=lp,lp.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sp.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sp,t)}},lp.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},lp.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},lp.prototype.copy=function(e){return Ti.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},lp.prototype.clone=function(){return(new this.constructor).copy(this)},cp.prototype=Object.create(Pl.prototype),cp.prototype.constructor=cp;var hp=Math.pow(2,8),up=[.125,.215,.35,.446,.526,.582],dp=5+up.length,pp={[$t]:0,[en]:1,[nn]:2,[an]:3,[on]:4,[sn]:5,[tn]:6},mp=new vu,{_lodPlanes:fp,_sizeLods:gp,_sigmas:bp}=function(){for(var e=[],t=[],n=[],i=8,r=0;r<dp;r++){var a=Math.pow(2,i);t.push(a);var o=1/a;r>4?o=up[r-8+4-1]:0==r&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,c=1+s/2,h=[l,l,c,l,c,c,l,l,c,c,l,c],u=new Float32Array(108),d=new Float32Array(72),p=new Float32Array(36),m=0;m<6;m++){var f=m%3*2/3-1,g=m>2?0:-1,b=[f,g,0,f+2/3,g,0,f+2/3,g+1,0,f,g,0,f+2/3,g+1,0,f,g+1,0];u.set(b,18*m),d.set(h,12*m);var v=[m,m,m,m,m,m];p.set(v,6*m)}var y=new Vr;y.setAttribute("position",new Tr(u,3)),y.setAttribute("uv",new Tr(d,2)),y.setAttribute("faceIndex",new Tr(p,1)),e.push(y),i>4&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),vp=null,yp=(1+Math.sqrt(5))/2,xp=1/yp,_p=[new $n(1,1,1),new $n(-1,1,1),new $n(1,1,-1),new $n(-1,1,-1),new $n(0,yp,xp),new $n(0,yp,-xp),new $n(xp,0,yp),new $n(-xp,0,yp),new $n(yp,xp,0),new $n(-yp,xp,0)];function wp(e){var t,n,i,r;this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=(t=20,n=new Float32Array(t),i=new $n(0,1,0),(r=new ah({defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:pp[$t]},outputEncoding:{value:pp[$t]}},vertexShader:Lp(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${Pp()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",r),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function Mp(e){return void 0!==e&&e.type===Ae&&(e.encoding===$t||e.encoding===en||e.encoding===tn)}function Sp(e){var t=new qn(3*hp,3*hp,e);return t.texture.mapping=de,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Tp(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function Ep(){var e=new ah({uniforms:{envMap:{value:null},texelSize:{value:new Hn(1,1)},inputEncoding:{value:pp[$t]},outputEncoding:{value:pp[$t]}},vertexShader:Lp(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${Pp()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1});return e.type="EquirectangularToCubeUV",e}function Ap(){var e=new ah({uniforms:{envMap:{value:null},inputEncoding:{value:pp[$t]},outputEncoding:{value:pp[$t]}},vertexShader:Lp(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${Pp()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}function Lp(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function Pp(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}function Cp(e,t,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new xr(e,t,n,r,a,o)}wp.prototype={constructor:wp,fromScene:function(e,t=0,n=.1,i=100){vp=this._renderer.getRenderTarget();var r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return e.magFilter=be,e.minFilter=be,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){vp=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Ap(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Ep(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<fp.length;e++)fp[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(vp),e.scissorTest=!1,e.setSize(e.width,e.height)},_allocateTargets:function(e){var t={magFilter:be,minFilter:be,generateMipmaps:!1,type:Ae,format:Ve,encoding:Mp(e)?e.encoding:nn,depthBuffer:!1,stencilBuffer:!1},n=Sp(t);return n.depthBuffer=!e,this._pingPongRenderTarget=Sp(t),n},_compileMaterial:function(e){var t=new Ei;t.add(new la(fp[0],e)),this._renderer.compile(t,mp)},_sceneToCubeUV:function(e,t,n,i){var r=new Ma(90,1,t,n),a=[1,1,1,1,-1,1],o=[1,1,-1,-1,-1,1],s=this._renderer,l=s.outputEncoding,c=s.toneMapping,h=s.toneMappingExposure,u=s.getClearColor(),d=s.getClearAlpha();s.toneMapping=te,s.toneMappingExposure=1,s.outputEncoding=$t,e.scale.z*=-1;var p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();var m=Math.max(p.r,p.g,p.b),f=Math.min(Math.max(Math.ceil(Math.log2(m)),-128),127);p=p.multiplyScalar(Math.pow(2,-f));var g=(f+128)/255;s.setClearColor(p,g),e.background=null}for(var b=0;b<6;b++){var v=b%3;0==v?(r.up.set(0,a[b],0),r.lookAt(o[b],0,0)):1==v?(r.up.set(0,0,a[b]),r.lookAt(0,o[b],0)):(r.up.set(0,a[b],0),r.lookAt(0,0,o[b])),Tp(i,v*hp,b>2?hp:0,hp,hp),s.setRenderTarget(i),s.render(e,r)}s.toneMapping=c,s.toneMappingExposure=h,s.outputEncoding=l,s.setClearColor(u,d),e.scale.z*=-1},_textureToCubeUV:function(e,t){var n=new Ei,i=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Ap()):null==this._equirectShader&&(this._equirectShader=Ep());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader;n.add(new la(fp[0],r));var a=r.uniforms;a.envMap.value=e,e.isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=pp[e.encoding],a.outputEncoding.value=pp[t.texture.encoding],Tp(t,0,0,3*hp,2*hp),i.setRenderTarget(t),i.render(n,mp)},_applyPMREM:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var i=1;i<dp;i++){var r=Math.sqrt(bp[i]*bp[i]-bp[i-1]*bp[i-1]),a=_p[(i-1)%_p.length];this._blur(e,i-1,i,r,a)}t.autoClear=n},_blur:function(e,t,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)},_halfBlur:function(e,t,n,i,r,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var c=new Ei;c.add(new la(fp[i],l));var h=l.uniforms,u=gp[n]-1,d=isFinite(r)?Math.PI/(2*u):2*Math.PI/39,p=r/d,m=isFinite(r)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);for(var f=[],g=0,b=0;b<20;++b){var v=b/p,y=Math.exp(-v*v/2);f.push(y),0==b?g+=y:b<m&&(g+=2*y)}for(b=0;b<f.length;b++)f[b]=f[b]/g;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=f,h.latitudinal.value="latitudinal"===a,o&&(h.poleAxis.value=o),h.dTheta.value=d,h.mipInt.value=8-n,h.inputEncoding.value=pp[e.texture.encoding],h.outputEncoding.value=pp[e.texture.encoding];var x=gp[i];Tp(t,v=3*Math.max(0,hp-2*x),(0===i?0:2*hp)+2*x*(i>4?i-8+4:0),3*x,2*x),s.setRenderTarget(t),s.render(c,mp)}};var Rp=0,zp=1,Op=0,Dp=1,Ip=2;function kp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Np(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Bp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new kl(e,t)}function Fp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new el(e)}function Up(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new kl(e,t)}function Gp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Rl(e)}function Hp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Rl(e)}function jp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Rl(e)}function Vp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new $n(e,t,n)}function Wp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Tr(e,t).setUsage(Pn)}function Xp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Er(e,t)}function Yp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ar(e,t)}function qp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Lr(e,t)}function Zp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Pr(e,t)}function Jp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Cr(e,t)}function Kp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Rr(e,t)}function Qp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new zr(e,t)}function $p(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Or(e,t)}function em(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Dr(e,t)}function tm(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Jh.call(this,e),this.type="catmullrom",this.closed=!0}function nm(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Jh.call(this,e),this.type="catmullrom"}function im(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Jh.call(this,e),this.type="catmullrom"}function rm(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new cp(e)}function am(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new np(e,t)}function om(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Pl(new Jc(e.geometry),new xl({color:void 0!==t?t:16777215}))}function sm(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Pl(new Hl(e.geometry),new xl({color:void 0!==t?t:16777215}))}function lm(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ih(e)}function cm(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Bh(e)}function hm(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Ta(e,n)}Hh.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Hh.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(lu.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new fa,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new $n(r.x,r.y,r.z||0))}return t}}),Object.assign(cu.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),tm.prototype=Object.create(Jh.prototype),nm.prototype=Object.create(Jh.prototype),im.prototype=Object.create(Jh.prototype),Object.assign(im.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Wd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Fd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Oh.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Eu.extractUrlBase(e)}}),Oh.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Ru.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Pd.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Ui.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(ji.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Pa.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},zd.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Gn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Gn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Gn.ceilPowerOfTwo(e)}}),Object.assign(jn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(si.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new $n).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)}}),tr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Jn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ki.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(dr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(dr,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),dr.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),dr.getNormal(e,t,n,i)}}),Object.assign(hu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ic(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Yc(this,e)}}),Object.assign(Hn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign($n.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Yn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(fa.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(Ti.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Ti.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(la.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(la.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Jt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(cl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(pl.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),hl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Hh.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Ma.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(uu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Tr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Pn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Pn)}}}),Object.assign(Tr.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Pn:Ln),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Vr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Tr(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Vr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Md.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Ns.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Pn},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ns.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Pn:Ln),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(kc.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(_d.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(wr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new gr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===y}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(lh.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(_a.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Ds.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ds.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?en:$t}}}),Object.defineProperties(Es.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(qn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(ed.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Hu).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),od.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Sa.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var um={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function dm(){console.error("THREE.CanvasRenderer has been removed")}function pm(){console.error("THREE.JSONLoader has been removed.")}Vn.crossOrigin=void 0,Vn.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Gh;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},Vn.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Uh;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},Vn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Vn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var mm={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function fm(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}}))},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.3.0
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/n.d(t,"a",(function(){return Mi}));var a,o,s,l,c,h,u,d,p,m,f,g,b,v,y,x,_,w,M,S,T,E,A,L,P,C={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},R={duration:.5,overwrite:!1,delay:0},z=1e8,O=2*Math.PI,D=O/4,I=0,k=Math.sqrt,N=Math.cos,B=Math.sin,F=function(e){return"string"==typeof e},U=function(e){return"function"==typeof e},G=function(e){return"number"==typeof e},H=function(e){return void 0===e},j=function(e){return"object"==typeof e},V=function(e){return!1!==e},W=function(){return"undefined"!=typeof window},X=function(e){return U(e)||F(e)},Y=Array.isArray,q=/(?:-?\.?\d|\.)+/gi,Z=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,J=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,K=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,Q=/\(([^()]+)\)/i,$=/[+-]=-?[\.\d]+/,ee=/[#\-+.]*\b[a-z\d-=+%.]+/gi,te={},ne={},ie=function(e){return(ne=Pe(e,te))&&un},re=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ae=function(e,t){return!t&&console.warn(e)},oe=function(e,t){return e&&(te[e]=t)&&ne&&(ne[e]=t)||te},se=function(){return 0},le={},ce=[],he={},ue={},de={},pe=30,me=[],fe="",ge=function(e){var t,n,i=e[0];if(j(i)||U(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(n=me.length;n--&&!me[n].targetTest(i););t=me[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new It(e[n],t)))||e.splice(n,1);return e},be=function(e){return e._gsap||ge(tt(e))[0]._gsap},ve=function(e,t){var n=e[t];return U(n)?e[t]():H(n)&&e.getAttribute(t)||n},ye=function(e,t){return(e=e.split(",")).forEach(t)||e},xe=function(e){return Math.round(1e5*e)/1e5||0},_e=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},we=function(e,t,n){var i,r=G(e[1]),a=(r?2:1)+(t<2?0:1),o=e[a];if(r&&(o.duration=e[1]),o.parent=n,t){for(i=o;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=V(n.vars.inherit)&&n.parent;o.immediateRender=V(i.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o},Me=function(){var e,t,n=ce.length,i=ce.slice(0);for(he={},ce.length=0,e=0;e<n;e++)(t=i[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Se=function(e,t,n,i){ce.length&&Me(),e.render(t,n,i),ce.length&&Me()},Te=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ee).length<2?t:e},Ee=function(e){return e},Ae=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Le=function(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])},Pe=function(e,t){for(var n in t)e[n]=t[n];return e},Ce=function e(t,n){for(var i in n)t[i]=j(n[i])?e(t[i]||(t[i]={}),n[i]):n[i];return t},Re=function(e,t){var n,i={};for(n in e)n in t||(i[n]=e[n]);return i},ze=function(e){var t=e.parent||a,n=e.keyframes?Le:Ae;if(V(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Oe=function(e,t,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=t._prev,a=t._next;r?r._next=a:e[n]===t&&(e[n]=a),a?a._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},De=function(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0},Ie=function(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e},ke=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ne=function(e){return e._repeat?Be(e._tTime,e=e.duration()+e._rDelay)*e:0},Be=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},Fe=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ue=function(e){return e._end=xe(e._start+(e._tDur/Math.abs(e._ts||e._rts||1e-8)||0))},Ge=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Fe(e.rawTime(),t),(!t._dur||Je(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)),Ie(e)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},He=function(e,t,n,i){return t.parent&&De(t),t._start=xe(n+t._delay),t._end=xe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var a,o=e[i];if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,i||Ge(e,t),e},je=function(e,t){return(te.ScrollTrigger||re("scrollTrigger",t))&&te.ScrollTrigger.create(t,e)},Ve=function(e,t,n,i){return Ht(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&h!==wt.frame?(ce.push(e),e._lazy=[t,i],1):void 0:1},We=function(e,t,n){var i=e._repeat,r=xe(t)||0;return e._dur=r,e._tDur=i?i<0?1e10:xe(r*(i+1)+e._rDelay*i):r,e._time>r&&(e._time=r,e._tTime=Math.min(e._tTime,e._tDur)),!n&&Ie(e.parent),e.parent&&Ue(e),e},Xe=function(e){return e instanceof Nt?Ie(e):We(e,e._dur)},Ye={_start:0,endTime:se},qe=function e(t,n){var i,r,a=t.labels,o=t._recent||Ye,s=t.duration()>=z?o.endTime(!1):t._dur;return F(n)&&(isNaN(n)||n in a)?"<"===(i=n.charAt(0))||">"===i?("<"===i?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0):(i=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(r=+(n.charAt(i-1)+n.substr(i+1)),i>1?e(t,n.substr(0,i-1))+r:s+r):null==n?s:+n},Ze=function(e,t){return e||0===e?t(e):t},Je=function(e,t,n){return n<e?e:n>t?t:n},Ke=function(e){return(e+"").substr((parseFloat(e)+"").length)},Qe=[].slice,$e=function(e,t){return e&&j(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&j(e[0]))&&!e.nodeType&&e!==o},et=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var i;return F(e)&&!t||$e(e,1)?(i=n).push.apply(i,tt(e)):n.push(e)}))||n},tt=function(e,t){return!F(e)||t||!s&&Mt()?Y(e)?et(e,t):$e(e)?Qe.call(e,0):e?[e]:[]:Qe.call(l.querySelectorAll(e),0)},nt=function(e){return e.sort((function(){return.5-Math.random()}))},it=function(e){if(U(e))return e;var t=j(e)?e:{each:e},n=Ct(t.ease),i=t.from||0,r=parseFloat(t.base)||0,a={},o=i>0&&i<1,s=isNaN(i)||o,l=t.axis,c=i,h=i;return F(i)?c=h={center:.5,edges:.5,end:1}[i]||0:!o&&s&&(c=i[0],h=i[1]),function(e,o,u){var d,p,m,f,g,b,v,y,x,_=(u||t).length,w=a[_];if(!w){if(!(x="auto"===t.grid?0:(t.grid||[1,z])[1])){for(v=-z;v<(v=u[x++].getBoundingClientRect().left)&&x<_;);x--}for(w=a[_]=[],d=s?Math.min(x,_)*c-.5:i%x,p=s?_*h/x-.5:i/x|0,v=0,y=z,b=0;b<_;b++)m=b%x-d,f=p-(b/x|0),w[b]=g=l?Math.abs("y"===l?f:m):k(m*m+f*f),g>v&&(v=g),g<y&&(y=g);"random"===i&&nt(w),w.max=v-y,w.min=y,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(x>_?_-1:l?"y"===l?_/x:x:Math.max(x,_/x))||0)*("edges"===i?-1:1),w.b=_<0?r-_:r,w.u=Ke(t.amount||t.each)||0,n=n&&_<0?Lt(n):n}return _=(w[e]-w.min)/w.max||0,xe(w.b+(n?n(_):_)*w.v)+w.u}},rt=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return Math.floor(Math.round(parseFloat(n)/e)*e*t)/t+(G(n)?0:Ke(n))}},at=function(e,t){var n,i,r=Y(e);return!r&&j(e)&&(n=r=e.radius||z,e.values?(e=tt(e.values),(i=!G(e[0]))&&(n*=n)):e=rt(e.increment)),Ze(t,r?U(e)?function(t){return i=e(t),Math.abs(i-t)<=n?i:t}:function(t){for(var r,a,o=parseFloat(i?t.x:t),s=parseFloat(i?t.y:0),l=z,c=0,h=e.length;h--;)(r=i?(r=e[h].x-o)*r+(a=e[h].y-s)*a:Math.abs(e[h]-o))<l&&(l=r,c=h);return c=!n||l<=n?e[c]:t,i||c===t||G(t)?c:c+Ke(t)}:rt(e))},ot=function(e,t,n,i){return Ze(Y(e)?!t:!0===n?!!(n=0):!i,(function(){return Y(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e+Math.random()*(t-e))/n)*n*i)/i}))},st=function(e,t,n){return Ze(n,(function(n){return e[~~t(n)]}))},lt=function(e){for(var t,n,i,r,a=0,o="";~(t=e.indexOf("random(",a));)i=e.indexOf(")",t),r="["===e.charAt(t+7),n=e.substr(t+7,i-t-7).match(r?ee:q),o+=e.substr(a,t-a)+ot(r?n:+n[0],+n[1],+n[2]||1e-5),a=i+1;return o+e.substr(a,e.length-a)},ct=function(e,t,n,i,r){var a=t-e,o=i-n;return Ze(r,(function(t){return n+((t-e)/a*o||0)}))},ht=function(e,t,n){var i,r,a,o=e.labels,s=z;for(i in o)(r=o[i]-t)<0==!!n&&r&&s>(r=Math.abs(r))&&(a=i,s=r);return a},ut=function(e,t,n){var i,r,a=e.vars,o=a[t];if(o)return i=a[t+"Params"],r=a.callbackScope||e,n&&ce.length&&Me(),i?o.apply(r,i):o.call(r)},dt=function(e){return De(e),e.progress()<1&&ut(e,"onInterrupt"),e},pt=function(e){var t=(e=!e.name&&e.default||e).name,n=U(e),i=t&&!n&&e.init?function(){this._props=[]}:e,r={init:se,render:tn,add:Ut,kill:rn,modifier:nn,rawVars:0},a={targetTest:0,get:0,getSetter:Kt,aliases:{},register:0};if(Mt(),e!==i){if(ue[t])return;Ae(i,Ae(Re(e,r),a)),Pe(i.prototype,Pe(r,Re(e,a))),ue[i.prop=t]=i,e.targetTest&&(me.push(i),le[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}oe(t,i),e.register&&e.register(un,i,sn)},mt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},gt=function(e,t,n){var i,r,a,o,s,l,c,h,u,d,p=e?G(e)?[e>>16,e>>8&255,255&e]:0:mt.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),mt[e])p=mt[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),r=e.charAt(2),a=e.charAt(3),e="#"+i+i+r+r+a+a),p=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(p=d=e.match(q),t){if(~e.indexOf("="))return p=e.match(Z),n&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,s=+p[1]/100,i=2*(l=+p[2]/100)-(r=l<=.5?l*(s+1):l+s-l*s),p.length>3&&(p[3]*=1),p[0]=ft(o+1/3,i,r),p[1]=ft(o,i,r),p[2]=ft(o-1/3,i,r);else p=e.match(q)||mt.transparent;p=p.map(Number)}return t&&!d&&(i=p[0]/255,r=p[1]/255,a=p[2]/255,l=((c=Math.max(i,r,a))+(h=Math.min(i,r,a)))/2,c===h?o=s=0:(u=c-h,s=l>.5?u/(2-c-h):u/(c+h),o=c===i?(r-a)/u+(r<a?6:0):c===r?(a-i)/u+2:(i-r)/u+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*s+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},bt=function(e){var t=[],n=[],i=-1;return e.split(yt).forEach((function(e){var r=e.match(J)||[];t.push.apply(t,r),n.push(i+=r.length+1)})),t.c=n,t},vt=function(e,t,n){var i,r,a,o,s="",l=(e+s).match(yt),c=t?"hsla(":"rgba(",h=0;if(!l)return e;if(l=l.map((function(e){return(e=gt(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=bt(e),(i=n.c).join(s)!==a.c.join(s)))for(o=(r=e.replace(yt,"1").split(J)).length-1;h<o;h++)s+=r[h]+(~i.indexOf(h)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!r)for(o=(r=e.split(yt)).length-1;h<o;h++)s+=r[h]+l[h];return s+r[o]},yt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in mt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),xt=/hsl[a]?\(/,_t=function(e){var t,n=e.join(" ");if(yt.lastIndex=0,yt.test(n))return t=xt.test(n),e[1]=vt(e[1],t),e[0]=vt(e[0],t,bt(e[1])),!0},wt=(b=Date.now,v=500,y=33,x=b(),_=x,M=w=1/240,T=function e(t){var n,i,r=b()-_,a=!0===t;r>v&&(x+=r-y),_+=r,g.time=(_-x)/1e3,((n=g.time-M)>0||a)&&(g.frame++,M+=n+(n>=w?.004:w-n),i=1),a||(p=m(e)),i&&S.forEach((function(e){return e(g.time,r,g.frame,t)}))},g={time:0,frame:0,tick:function(){T(!0)},wake:function(){c&&(!s&&W()&&(o=s=window,l=o.document||{},te.gsap=un,(o.gsapVersions||(o.gsapVersions=[])).push(un.version),ie(ne||o.GreenSockGlobals||!o.gsap&&o||{}),f=o.requestAnimationFrame),p&&g.sleep(),m=f||function(e){return setTimeout(e,1e3*(M-g.time)+1|0)},d=1,T(2))},sleep:function(){(f?o.cancelAnimationFrame:clearTimeout)(p),d=0,m=se},lagSmoothing:function(e,t){v=e||1/1e-8,y=Math.min(t,v,0)},fps:function(e){w=1/(e||240),M=g.time+w},add:function(e){S.indexOf(e)<0&&S.push(e),Mt()},remove:function(e){var t;~(t=S.indexOf(e))&&S.splice(t,1)},_listeners:S=[]}),Mt=function(){return!d&&wt.wake()},St={},Tt=/^[\d.\-M][\d.\-,\s]/,Et=/["']/g,At=function(e){for(var t,n,i,r={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,t),r[o]=isNaN(i)?i.replace(Et,"").trim():+i,o=n.substr(t+1).trim();return r},Lt=function(e){return function(t){return 1-e(1-t)}},Pt=function e(t,n){for(var i,r=t._first;r;)r instanceof Nt?e(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Ct=function(e,t){return e&&(U(e)?e:St[e]||function(e){var t=(e+"").split("("),n=St[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[At(t[1])]:Q.exec(e)[1].split(",").map(Te)):St._CE&&Tt.test(e)?St._CE("",e):n}(e))||t},Rt=function(e,t,n,i){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===i&&(i=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,a={easeIn:t,easeOut:n,easeInOut:i};return ye(e,(function(e){for(var t in St[e]=te[e]=a,St[r=e.toLowerCase()]=n,a)St[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=St[e+"."+t]=a[t]})),a},zt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Ot=function e(t,n,i){var r=n>=1?n:1,a=(i||(t?.3:.45))/(n<1?n:1),o=a/O*(Math.asin(1/r)||0),s=function(e){return 1===e?1:r*Math.pow(2,-10*e)*B((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:zt(s);return a=O/a,l.config=function(n,i){return e(t,n,i)},l},Dt=function e(t,n){void 0===n&&(n=1.70158);var i=function(e){return e?--e*e*((n+1)*e+n)+1:0},r="out"===t?i:"in"===t?function(e){return 1-i(1-e)}:zt(i);return r.config=function(n){return e(t,n)},r};ye("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Rt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),St.Linear.easeNone=St.none=St.Linear.easeIn,Rt("Elastic",Ot("in"),Ot("out"),Ot()),E=7.5625,L=1/(A=2.75),Rt("Bounce",(function(e){return 1-P(1-e)}),P=function(e){return e<L?E*e*e:e<.7272727272727273?E*Math.pow(e-1.5/A,2)+.75:e<.9090909090909092?E*(e-=2.25/A)*e+.9375:E*Math.pow(e-2.625/A,2)+.984375}),Rt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Rt("Circ",(function(e){return-(k(1-e*e)-1)})),Rt("Sine",(function(e){return 1===e?1:1-N(e*D)})),Rt("Back",Dt("in"),Dt("out"),Dt()),St.SteppedEase=St.steps=te.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,i=e+(t?0:1),r=t?1:0;return function(e){return((i*Je(0,1-1e-8,e)|0)+r)*n}}},R.ease=St["quad.out"],ye("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return fe+=e+","+e+"Params,"}));var It=function(e,t){this.id=I++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ve,this.set=t?t.getSetter:Kt},kt=function(){function e(e,t){var n=e.parent||a;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,We(this,+e.duration,1),this.data=e.data,d||wt.wake(),n&&He(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,We(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Mt(),!arguments.length)return this._tTime;var n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(this._start=xe(n._time-(this._ts>0?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts)),Ue(this),n._dirty||Ie(n);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&He(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&1e-8===Math.abs(this._zTime)||!e&&!this._initted)&&(this._ts||(this._pTime=e),Se(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ne(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ne(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Be(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Fe(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,ke(this.totalTime(Je(0,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&He(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(V(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fe(t.rawTime(e),this):this._tTime:this._tTime},t.repeat=function(e){return arguments.length?(this._repeat=e,Xe(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Xe(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(qe(this,e),V(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,V(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},t.isActive=function(e){var t,n=this.parent||this._dp,i=this._start;return!(n&&!(this._ts&&(this._initted||!e)&&n.isActive(e)&&(t=n.rawTime(!0))>=i&&t<this.endTime(!0)-1e-8))},t.eventCallback=function(e,t,n){var i=this.vars;return arguments.length>1?(t?(i[e]=t,n&&(i[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete i[e],this):i[e]},t.then=function(e){var t=this;return new Promise((function(n){var i=U(e)?e:Ee,r=function(){var e=t.then;t.then=null,U(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),n(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?r():t._prom=r}))},t.kill=function(){dt(this)},e}();Ae(kt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Nt=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t,n)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=V(t.sortChildren),r.parent&&Ge(r.parent,i(r)),t.scrollTrigger&&je(i(r),t.scrollTrigger),r}r(t,e);var n=t.prototype;return n.to=function(e,t,n){return new Xt(e,we(arguments,0,this),qe(this,G(t)?arguments[3]:n)),this},n.from=function(e,t,n){return new Xt(e,we(arguments,1,this),qe(this,G(t)?arguments[3]:n)),this},n.fromTo=function(e,t,n,i){return new Xt(e,we(arguments,2,this),qe(this,G(t)?arguments[4]:i)),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,ze(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Xt(e,t,qe(this,n),1),this},n.call=function(e,t,n){return He(this,Xt.delayedCall(0,e,t),qe(this,n))},n.staggerTo=function(e,t,n,i,r,a,o){return n.duration=t,n.stagger=n.stagger||i,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Xt(e,n,qe(this,r)),this},n.staggerFrom=function(e,t,n,i,r,a,o){return n.runBackwards=1,ze(n).immediateRender=V(n.immediateRender),this.staggerTo(e,t,n,i,r,a,o)},n.staggerFromTo=function(e,t,n,i,r,a,o,s){return i.startAt=n,ze(i).immediateRender=V(i.immediateRender),this.staggerTo(e,t,i,r,a,o,s)},n.render=function(e,t,n){var i,r,o,s,l,c,h,u,d,p,m,f,g=this._time,b=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=this!==a&&e>b-1e-8&&e>=0?b:e<1e-8?0:e,x=this._zTime<0!=e<0&&(this._initted||!v);if(y!==this._tTime||n||x){if(g!==this._time&&v&&(y+=this._time-g,e+=this._time-g),i=y,d=this._start,c=!(u=this._ts),x&&(v||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat&&(m=this._yoyo,l=v+this._rDelay,((i=xe(y%l))>v||b===y)&&(i=v),(s=~~(y/l))&&s===y/l&&(i=v,s--),p=Be(this._tTime,l),!g&&this._tTime&&p!==s&&(p=s),m&&1&s&&(i=v-i,f=1),s!==p&&!this._lock)){var _=m&&1&p,w=_===(m&&1&s);if(s<p&&(_=!_),g=_?0:v,this._lock=1,this.render(g||(f?0:xe(s*l)),t,!v)._lock=0,!t&&this.parent&&ut(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),g!==this._time||c!==!this._ts)return this;if(w&&(this._lock=2,g=_?v+1e-4:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Pt(this,f)}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,xe(g),xe(i)))&&(y-=i-(i=h._start)),this._tTime=y,this._time=i,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),g||!i||t||ut(this,"onStart"),i>=g&&e>=0)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&h!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,t,n),i!==this._time||!this._ts&&!c){h=0,o&&(y+=this._zTime=-1e-8);break}}r=o}else{r=this._last;for(var M=e<0?e:i;r;){if(o=r._prev,(r._act||M<=r._end)&&r._ts&&h!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(r._ts>0?(M-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(M-r._start)*r._ts,t,n),i!==this._time||!this._ts&&!c){h=0,o&&(y+=this._zTime=M?-1e-8:1e-8);break}}r=o}}if(h&&!t&&(this.pause(),h.render(i>=g?0:-1e-8)._zTime=i>=g?1:-1,this._ts))return this._start=d,Ue(this),this.render(e,t,n);this._onUpdate&&!t&&ut(this,"onUpdate",!0),(y===b&&b>=this.totalDuration()||!y&&g)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===b&&this._ts>0||!y&&this._ts<0)&&De(this,1),t||e<0&&!g||!y&&!g||(ut(this,y===b?"onComplete":"onReverseComplete",!0),this._prom&&!(y<b&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(G(t)||(t=qe(this,t)),!(e instanceof kt)){if(Y(e))return e.forEach((function(e){return n.add(e,t)})),Ie(this);if(F(e))return this.addLabel(e,t);if(!U(e))return this;e=Xt.delayedCall(0,e)}return this!==e?He(this,e,t):this},n.getChildren=function(e,t,n,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=-z);for(var r=[],a=this._first;a;)a._start>=i&&(a instanceof Xt?t&&r.push(a):(n&&r.push(a),e&&r.push.apply(r,a.getChildren(!0,t,n)))),a=a._next;return r},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return F(e)?this.removeLabel(e):U(e)?this.killTweensOf(e):(Oe(this,e),e===this._recent&&(this._recent=this._last),Ie(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=xe(wt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=qe(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var i=Xt.delayedCall(0,t||se,n);return i.data="isPause",this._hasPause=1,He(this,i,qe(this,e))},n.removePause=function(e){var t=this._first;for(e=qe(this,e);t;)t._start===e&&"isPause"===t.data&&De(t),t=t._next},n.killTweensOf=function(e,t,n){for(var i=this.getTweensOf(e,n),r=i.length;r--;)Bt!==i[r]&&i[r].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,i=[],r=tt(e),a=this._first;a;)a instanceof Xt?!_e(a._targets,r)||t&&!a.isActive("started"===t)||i.push(a):(n=a.getTweensOf(r,t)).length&&i.push.apply(i,n),a=a._next;return i},n.tweenTo=function(e,t){t=t||{};var n=this,i=qe(n,e),r=t,a=r.startAt,o=r.onStart,s=r.onStartParams,l=Xt.to(n,Ae(t,{ease:"none",lazy:!1,time:i,duration:t.duration||Math.abs((i-(a&&"time"in a?a.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var e=t.duration||Math.abs((i-n._time)/n.timeScale());l._dur!==e&&We(l,e).render(l._time,!0,!0),o&&o.apply(l,s||[])}}));return l},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Ae({startAt:{time:qe(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),ht(this,qe(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),ht(this,qe(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var i,r=this._first,a=this.labels;r;)r._start>=n&&(r._start+=e),r=r._next;if(t)for(i in a)a[i]>=n&&(a[i]+=e);return Ie(this)},n.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=this._pTime=0,e&&(this.labels={}),Ie(this)},n.totalDuration=function(e){var t,n,i,r,o=0,s=this,l=s._last,c=z;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;l;)t=l._prev,l._dirty&&l.totalDuration(),(i=l._start)>c&&s._sort&&l._ts&&!s._lock?(s._lock=1,He(s,l,i-l._delay,1)._lock=0):c=i,i<0&&l._ts&&(o-=i,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-Infinity),c=0),(n=Ue(l))>o&&l._ts&&(o=n),l=t;We(s,s===a&&s._time>o?s._time:o,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(a._ts&&(Se(a,Fe(e,a)),h=wt.frame),wt.frame>=pe){pe+=C.autoSleep||120;var t=a._first;if((!t||!t._ts)&&C.autoSleep&&wt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||wt.sleep()}}},t}(kt);Ae(Nt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Bt,Ft=function(e,t,n,i,r,a,o){var s,l,c,h,u,d,p,m,f=new sn(this._pt,e,t,0,1,en,null,r),g=0,b=0;for(f.b=n,f.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=lt(i)),a&&(a(m=[n,i],e,t),n=m[0],i=m[1]),l=n.match(K)||[];s=K.exec(i);)h=s[0],u=i.substring(g,s.index),c?c=(c+1)%5:"rgba("===u.substr(-5)&&(c=1),h!==l[b++]&&(d=parseFloat(l[b-1])||0,f._pt={_next:f._pt,p:u||1===b?u:",",s:d,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-d,m:c&&c<4?Math.round:0},g=K.lastIndex);return f.c=g<i.length?i.substring(g,i.length):"",f.fp=o,($.test(i)||p)&&(f.e=0),this._pt=f,f},Ut=function(e,t,n,i,r,a,o,s,l){U(i)&&(i=i(r||0,e,a));var c,h=e[t],u="get"!==n?n:U(h)?l?e[t.indexOf("set")||!U(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,d=U(h)?l?Zt:qt:Yt;if(F(i)&&(~i.indexOf("random(")&&(i=lt(i)),"="===i.charAt(1)&&(i=parseFloat(u)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Ke(u)||0))),u!==i)return isNaN(u+i)?(!h&&!(t in e)&&re(t,i),Ft.call(this,e,t,u,i,d,s||C.stringFilter,l)):(c=new sn(this._pt,e,t,+u||0,i-(u||0),"boolean"==typeof h?$t:Qt,0,d),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},Gt=function(e,t,n,i,r,a){var o,s,l,c;if(ue[e]&&!1!==(o=new ue[e]).init(r,o.rawVars?t[e]:function(e,t,n,i,r){if(U(e)&&(e=jt(e,r,t,n,i)),!j(e)||e.style&&e.nodeType||Y(e))return F(e)?jt(e,r,t,n,i):e;var a,o={};for(a in e)o[a]=jt(e[a],r,t,n,i);return o}(t[e],i,r,a,n),n,i,a)&&(n._pt=s=new sn(n._pt,r,e,0,1,o.render,o,0,o.priority),n!==u))for(l=n._ptLookup[n._targets.indexOf(r)],c=o._props.length;c--;)l[o._props[c]]=s;return o},Ht=function e(t,n){var i,r,o,s,l,c,h,u,d,p,m,f,g=t.vars,b=g.ease,v=g.startAt,y=g.immediateRender,x=g.lazy,_=g.onUpdate,w=g.onUpdateParams,M=g.callbackScope,S=g.runBackwards,T=g.yoyoEase,E=g.keyframes,A=g.autoRevert,L=t._dur,P=t._startAt,C=t._targets,z=t.parent,O=z&&"nested"===z.data?z.parent._targets:C,D="auto"===t._overwrite,I=t.timeline;if(I&&(!E||!b)&&(b="none"),t._ease=Ct(b,R.ease),t._yEase=T?Lt(Ct(!0===T?b:T,R.ease)):0,T&&t._yoyo&&!t._repeat&&(T=t._yEase,t._yEase=t._ease,t._ease=T),!I){if(f=(u=C[0]?be(C[0]).harness:0)&&g[u.prop],i=Re(g,le),P&&P.render(-1,!0).kill(),v){if(De(t._startAt=Xt.set(C,Ae({data:"isStart",overwrite:!1,parent:z,immediateRender:!0,lazy:V(x),startAt:null,delay:0,onUpdate:_,onUpdateParams:w,callbackScope:M,stagger:0},v))),y)if(n>0)!A&&(t._startAt=0);else if(L)return}else if(S&&L)if(P)!A&&(t._startAt=0);else if(n&&(y=!1),o=Pe(i,{overwrite:!1,data:"isFromStart",lazy:y&&V(x),immediateRender:y,stagger:0,parent:z}),f&&(o[u.prop]=f),De(t._startAt=Xt.set(C,o)),y){if(!n)return}else e(t._startAt,1e-8);for(t._pt=0,x=L&&V(x)||x&&!L,r=0;r<C.length;r++){if(h=(l=C[r])._gsap||ge(C)[r]._gsap,t._ptLookup[r]=p={},he[h.id]&&Me(),m=O===C?r:O.indexOf(l),u&&!1!==(d=new u).init(l,f||i,t,m,O)&&(t._pt=s=new sn(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){p[e]=s})),d.priority&&(c=1)),!u||f)for(o in i)ue[o]&&(d=Gt(o,i,t,m,l,O))?d.priority&&(c=1):p[o]=s=Ut.call(t,l,o,"get",i[o],m,O,0,g.stringFilter);t._op&&t._op[r]&&t.kill(l,t._op[r]),D&&t._pt&&(Bt=t,a.killTweensOf(l,p,"started"),Bt=0),t._pt&&x&&(he[h.id]=1)}c&&on(t),t._onInit&&t._onInit(t)}t._from=!I&&!!g.runBackwards,t._onUpdate=_,t._initted=1},jt=function(e,t,n,i,r){return U(e)?e.call(t,n,i,r):F(e)&&~e.indexOf("random(")?lt(e):e},Vt=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Wt=(Vt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Xt=function(e){function t(t,n,r,o){var s;"number"==typeof n&&(r.duration=n,n=r,r=null);var l,c,h,u,d,p,m,f,g=(s=e.call(this,o?n:ze(n),r)||this).vars,b=g.duration,v=g.delay,y=g.immediateRender,x=g.stagger,_=g.overwrite,w=g.keyframes,M=g.defaults,S=g.scrollTrigger,T=g.yoyoEase,E=s.parent,A=(Y(t)?G(t[0]):"length"in n)?[t]:tt(t);if(s._targets=A.length?ge(A):ae("GSAP target "+t+" not found. https://greensock.com",!C.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=_,w||x||X(b)||X(v)){if(n=s.vars,(l=s.timeline=new Nt({data:"nested",defaults:M||{}})).kill(),l.parent=i(s),w)Ae(l.vars.defaults,{ease:"none"}),w.forEach((function(e){return l.to(A,e,">")}));else{if(u=A.length,m=x?it(x):se,j(x))for(d in x)~Vt.indexOf(d)&&(f||(f={}),f[d]=x[d]);for(c=0;c<u;c++){for(d in h={},n)Wt.indexOf(d)<0&&(h[d]=n[d]);h.stagger=0,T&&(h.yoyoEase=T),f&&Pe(h,f),p=A[c],h.duration=+jt(b,i(s),c,p,A),h.delay=(+jt(v,i(s),c,p,A)||0)-s._delay,!x&&1===u&&h.delay&&(s._delay=v=h.delay,s._start+=v,h.delay=0),l.to(p,h,m(c,p,A))}l.duration()?b=v=0:s.timeline=0}b||s.duration(b=l.duration())}else s.timeline=0;return!0===_&&(Bt=i(s),a.killTweensOf(A),Bt=0),E&&Ge(E,i(s)),(y||!b&&!w&&s._start===xe(E._time)&&V(y)&&function e(t){return!t||t._ts&&e(t.parent)}(i(s))&&"nested"!==E.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-v))),S&&je(i(s),S),s}r(t,e);var n=t.prototype;return n.render=function(e,t,n){var i,r,a,o,s,l,c,h,u,d=this._time,p=this._tDur,m=this._dur,f=e>p-1e-8&&e>=0?p:e<1e-8?0:e;if(m){if(f!==this._tTime||!e||n||this._startAt&&this._zTime<0!=e<0){if(i=f,h=this.timeline,this._repeat){if(o=m+this._rDelay,((i=xe(f%o))>m||p===f)&&(i=m),(a=~~(f/o))&&a===f/o&&(i=m,a--),(l=this._yoyo&&1&a)&&(u=this._yEase,i=m-i),s=Be(this._tTime,o),i===d&&!n&&this._initted)return this;a!==s&&(h&&this._yEase&&Pt(h,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(xe(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Ve(this,i,n,t))return this._tTime=0,this;if(m!==this._dur)return this.render(e,t,n)}for(this._tTime=f,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(u||this._ease)(i/m),this._from&&(this.ratio=c=1-c),i&&!d&&!t&&ut(this,"onStart"),r=this._pt;r;)r.r(c,r.d),r=r._next;h&&h.render(e<0?e:!i&&l?-1e-8:h._dur*c,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),ut(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&ut(this,"onRepeat"),f!==this._tDur&&f||this._tTime!==f||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,n),(e||!m)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&De(this,1),t||e<0&&!d||!f&&!d||(ut(this,f===p?"onComplete":"onReverseComplete",!0),this._prom&&!(f<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,i){var r,a,o=e.ratio,s=t<0||o&&!t&&!e._start&&!e._dp._lock?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=Je(0,e._tDur,t),Be(c,l)!==(a=Be(e._tTime,l))&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),e._initted||!Ve(e,t,i,n))if(s!==o||i||1e-8===e._zTime||!t&&e._zTime){for(a=e._zTime,e._zTime=t||(n?1e-8:0),n||(n=t&&!a),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,n||ut(e,"onStart"),r=e._pt;r;)r.r(s,r.d),r=r._next;!s&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,i),e._onUpdate&&!n&&ut(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ut(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&De(e,1),n||(ut(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return dt(this);if(this.timeline)return this.timeline.killTweensOf(e,t,Bt&&!0!==Bt.vars.overwrite)._first||dt(this),this;var n,i,r,a,o,s,l,c=this._targets,h=e?tt(e):c,u=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0}(c,h))return dt(this);for(n=this._op=this._op||[],"all"!==t&&(F(t)&&(o={},ye(t,(function(e){return o[e]=1})),t=o),t=function(e,t){var n,i,r,a,o=e[0]?be(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(i in n=Pe({},t),s)if(i in n)for(r=(a=s[i].split(",")).length;r--;)n[a[r]]=n[i];return n}(c,t)),l=c.length;l--;)if(~h.indexOf(c[l]))for(o in i=u[l],"all"===t?(n[l]=t,a=i,r={}):(r=n[l]=n[l]||{},a=t),a)(s=i&&i[o])&&("kill"in s.d&&!0!==s.d.kill(o)||Oe(this,s,"_pt"),delete i[o]),"all"!==r&&(r[o]=1);return this._initted&&!this._pt&&d&&dt(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,n){return new t(e,we(arguments,1))},t.delayedCall=function(e,n,i,r){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},t.fromTo=function(e,n,i){return new t(e,we(arguments,2))},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return a.killTweensOf(e,t,n)},t}(kt);Ae(Xt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ye("staggerTo,staggerFrom,staggerFromTo",(function(e){Xt[e]=function(){var t=new Nt,n=Qe.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Yt=function(e,t,n){return e[t]=n},qt=function(e,t,n){return e[t](n)},Zt=function(e,t,n,i){return e[t](i.fp,n)},Jt=function(e,t,n){return e.setAttribute(t,n)},Kt=function(e,t){return U(e[t])?qt:H(e[t])&&e.setAttribute?Jt:Yt},Qt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},$t=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},en=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},tn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},nn=function(e,t,n,i){for(var r,a=this._pt;a;)r=a._next,a.p===i&&a.modifier(e,t,n),a=r},rn=function(e){for(var t,n,i=this._pt;i;)n=i._next,i.p===e&&!i.op||i.op===e?Oe(this,i,"_pt"):i.dep||(t=1),i=n;return!t},an=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},on=function(e){for(var t,n,i,r,a=e._pt;a;){for(t=a._next,n=i;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:i=a,(a._next=n)?n._prev=a:r=a,a=t}e._pt=i},sn=function(){function e(e,t,n,i,r,a,o,s,l){this.t=t,this.s=i,this.c=r,this.p=n,this.r=a||Qt,this.d=o||this,this.set=s||Yt,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=an,this.m=e,this.mt=n,this.tween=t},e}();ye(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return le[e]=1})),te.TweenMax=te.TweenLite=Xt,te.TimelineLite=te.TimelineMax=Nt,a=new Nt({sortChildren:!1,defaults:R,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),C.stringFilter=_t;var ln={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return pt(e)}))},timeline:function(e){return new Nt(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,n,i){F(e)&&(e=tt(e)[0]);var r=be(e||{}).get,a=n?Ee:Te;return"native"===n&&(n=""),e?t?a((ue[t]&&ue[t].get||r)(e,t,n,i)):function(t,n,i){return a((ue[t]&&ue[t].get||r)(e,t,n,i))}:e},quickSetter:function(e,t,n){if((e=tt(e)).length>1){var i=e.map((function(e){return un.quickSetter(e,t,n)})),r=i.length;return function(e){for(var t=r;t--;)i[t](e)}}e=e[0]||{};var a=ue[t],o=be(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var i=new a;u._pt=0,i.init(e,n?t+n:t,u,0,[e]),i.render(1,i),u._pt&&tn(1,u)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ct(e.ease,R.ease)),Ce(R,e||{})},config:function(e){return Ce(C,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,r=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach((function(e){return e&&!ue[e]&&!te[e]&&ae(t+" effect requires "+e+" plugin.")})),de[t]=function(e,t,i){return n(tt(e),Ae(t||{},r),i)},a&&(Nt.prototype[t]=function(e,n,i){return this.add(de[t](e,j(n)?n:(i=n)&&{},this),i)})},registerEase:function(e,t){St[e]=Ct(t)},parseEase:function(e,t){return arguments.length?Ct(e,t):St},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,i,r=new Nt(e);for(r.smoothChildTiming=V(e.smoothChildTiming),a.remove(r),r._dp=0,r._time=r._tTime=a._time,n=a._first;n;)i=n._next,!t&&!n._dur&&n instanceof Xt&&n.vars.onComplete===n._targets[0]||He(r,n,n._start-n._delay),n=i;return He(a,r,0),r},utils:{wrap:function e(t,n,i){var r=n-t;return Y(t)?st(t,e(0,t.length),n):Ze(i,(function(e){return(r+(e-t)%r)%r+t}))},wrapYoyo:function e(t,n,i){var r=n-t,a=2*r;return Y(t)?st(t,e(0,t.length-1),n):Ze(i,(function(e){return t+((e=(a+(e-t)%a)%a)>r?a-e:e)}))},distribute:it,random:ot,snap:at,normalize:function(e,t,n){return ct(e,t,0,1,n)},getUnit:Ke,clamp:function(e,t,n){return Ze(n,(function(n){return Je(e,t,n)}))},splitColor:gt,toArray:tt,mapRange:ct,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ke(n))}},interpolate:function e(t,n,i,r){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,c,h,u=F(t),d={};if(!0===i&&(r=1)&&(i=null),u)t={p:t},n={p:n};else if(Y(t)&&!Y(n)){for(l=[],c=t.length,h=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(h,~~e);return l[t](e-t)},i=n}else r||(t=Pe(Y(t)?[]:{},t));if(!l){for(o in n)Ut.call(d,t,o,"get",n[o]);a=function(e){return tn(e,d)||(u?t.p:t)}}}return Ze(i,a)},shuffle:nt},install:ie,effects:de,ticker:wt,updateRoot:Nt.updateRoot,plugins:ue,globalTimeline:a,core:{PropTween:sn,globals:oe,Tween:Xt,Timeline:Nt,Animation:kt,getCache:be,_removeLinkedListItem:Oe}};ye("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return ln[e]=Xt[e]})),wt.add(Nt.updateRoot),u=ln.to({},{duration:0});var cn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},hn=function(e,t){return{name:e,rawVars:1,init:function(e,n,i){i._onInit=function(e){var i,r;if(F(n)&&(i={},ye(n,(function(e){return i[e]=1})),n=i),t){for(r in i={},n)i[r]=t(n[r]);n=i}!function(e,t){var n,i,r,a=e._targets;for(n in t)for(i=a.length;i--;)(r=e._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=cn(r,n)),r&&r.modifier&&r.modifier(t[n],e,a[i],n))}(e,n)}}}},un=ln.registerPlugin({name:"attr",init:function(e,t,n,i,r){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],i,r,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},hn("roundProps",rt),hn("modifiers"),hn("snap",at))||ln;Xt.version=Nt.version=un.version="3.3.0",c=1,W()&&Mt();St.Power0,St.Power1,St.Power2,St.Power3,St.Power4,St.Linear,St.Quad,St.Cubic,St.Quart,St.Quint,St.Strong,St.Elastic,St.Back,St.SteppedEase,St.Bounce,St.Sine,St.Expo,St.Circ;
/*!
 * CSSPlugin 3.3.0
 * https://greensock.com
 *
 * Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var dn,pn,mn,fn,gn,bn,vn,yn,xn={},_n=180/Math.PI,wn=Math.PI/180,Mn=Math.atan2,Sn=/([A-Z])/g,Tn=/(?:left|right|width|margin|padding|x)/i,En=/[\s,\(]\S/,An={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ln=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Pn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Cn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Rn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},zn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},On=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Dn=function(e,t,n){return e.style[t]=n},In=function(e,t,n){return e.style.setProperty(t,n)},kn=function(e,t,n){return e._gsap[t]=n},Nn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Bn=function(e,t,n,i,r){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},Fn=function(e,t,n,i,r){var a=e._gsap;a[t]=n,a.renderTransform(r,a)},Un="transform",Gn=Un+"Origin",Hn=function(e,t){var n=pn.createElementNS?pn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):pn.createElement(e);return n.style?n:pn.createElement(e)},jn=function e(t,n,i){var r=getComputedStyle(t);return r[n]||r.getPropertyValue(n.replace(Sn,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&e(t,Wn(n)||n,1)||""},Vn="O,Moz,ms,Ms,Webkit".split(","),Wn=function(e,t,n){var i=(t||gn).style,r=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);r--&&!(Vn[r]+e in i););return r<0?null:(3===r?"ms":r>=0?Vn[r]:"")+e},Xn=function(){"undefined"!=typeof window&&window.document&&(dn=window,pn=dn.document,mn=pn.documentElement,gn=Hn("div")||{style:{}},bn=Hn("div"),Un=Wn(Un),Gn=Wn(Gn),gn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yn=!!Wn("perspective"),fn=1)},Yn=function e(t){var n,i=Hn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(mn.appendChild(i),i.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(a?r.insertBefore(this,a):r.appendChild(this)),mn.removeChild(i),this.style.cssText=o,n},qn=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Zn=function(e){var t;try{t=e.getBBox()}catch(n){t=Yn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Yn||(t=Yn.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+qn(e,["x","cx","x1"])||0,y:+qn(e,["y","cy","y1"])||0,width:0,height:0}},Jn=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Zn(e))},Kn=function(e,t){if(t){var n=e.style;t in xn&&(t=Un),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(Sn,"-$1").toLowerCase())):n.removeAttribute(t)}},Qn=function(e,t,n,i,r,a){var o=new sn(e._pt,t,n,0,1,a?On:zn);return e._pt=o,o.b=i,o.e=r,e._props.push(n),o},$n={deg:1,rad:1,turn:1},ei=function e(t,n,i,r){var a,o,s,l,c=parseFloat(i)||0,h=(i+"").trim().substr((c+"").length)||"px",u=gn.style,d=Tn.test(n),p="svg"===t.tagName.toLowerCase(),m=(p?"client":"offset")+(d?"Width":"Height"),f="px"===r,g="%"===r;return r===h||!c||$n[r]||$n[h]?c:("px"!==h&&!f&&(c=e(t,n,i,"px")),l=t.getCTM&&Jn(t),g&&(xn[n]||~n.indexOf("adius"))?xe(c/(l?t.getBBox()[d?"width":"height"]:t[m])*100):(u[d?"width":"height"]=100+(f?h:r),o=~n.indexOf("adius")||"em"===r&&t.appendChild&&!p?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==pn&&o.appendChild||(o=pn.body),(s=o._gsap)&&g&&s.width&&d&&s.time===wt.time?xe(c/s.width*100):((g||"%"===h)&&(u.position=jn(t,"position")),o===t&&(u.position="static"),o.appendChild(gn),a=gn[m],o.removeChild(gn),u.position="absolute",d&&g&&((s=be(o)).time=wt.time,s.width=o[m]),xe(f?a*c/100:a&&c?100/a*c:0))))},ti=function(e,t,n,i){var r;return fn||Xn(),t in An&&"transform"!==t&&~(t=An[t]).indexOf(",")&&(t=t.split(",")[0]),xn[t]&&"transform"!==t?(r=di(e,i),r="transformOrigin"!==t?r[t]:pi(jn(e,Gn))+" "+r.zOrigin+"px"):(!(r=e.style[t])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=ai[t]&&ai[t](e,t,n)||jn(e,t)||ve(e,t)||("opacity"===t?1:0)),n&&!~(r+"").indexOf(" ")?ei(e,t,r,n)+n:r},ni=function(e,t,n,i){if(!n||"none"===n){var r=Wn(t,e,1),a=r&&jn(e,r,1);a&&a!==n&&(t=r,n=a)}var o,s,l,c,h,u,d,p,m,f,g,b,v=new sn(this._pt,e.style,t,0,1,en),y=0,x=0;if(v.b=n,v.e=i,n+="","auto"===(i+="")&&(e.style[t]=i,i=jn(e,t)||i,e.style[t]=n),_t(o=[n,i]),i=o[1],l=(n=o[0]).match(J)||[],(i.match(J)||[]).length){for(;s=J.exec(i);)d=s[0],m=i.substring(y,s.index),h?h=(h+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(h=1),d!==(u=l[x++]||"")&&(c=parseFloat(u)||0,g=u.substr((c+"").length),(b="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),f=d.substr((p+"").length),y=J.lastIndex-f.length,f||(f=f||C.units[t]||g,y===i.length&&(i+=f,v.e+=f)),g!==f&&(c=ei(e,t,u,f)||0),v._pt={_next:v._pt,p:m||1===x?m:",",s:c,c:b?b*p:p-c,m:h&&h<4?Math.round:0});v.c=y<i.length?i.substring(y,i.length):""}else v.r="display"===t&&"none"===i?On:zn;return $.test(i)&&(v.e=0),this._pt=v,v},ii={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ri=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,i,r,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",i=1;else for(r=(s=s.split(",")).length;--r>-1;)n=s[r],xn[n]&&(i=1,n="transformOrigin"===n?Gn:Un),Kn(a,n);i&&(Kn(a,Un),l&&(l.svg&&a.removeAttribute("transform"),di(a,1),l.uncache=1))}},ai={clearProps:function(e,t,n,i,r){if("isFromStart"!==r.data){var a=e._pt=new sn(e._pt,t,n,0,0,ri);return a.u=i,a.pr=-10,a.tween=r,e._props.push(n),1}}},oi=[1,0,0,1,0,0],si={},li=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},ci=function(e){var t=jn(e,Un);return li(t)?oi:t.substr(7).match(Z).map(xe)},hi=function(e,t){var n,i,r,a,o=e._gsap||be(e),s=e.style,l=ci(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=e.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?oi:l:(l!==oi||e.offsetParent||e===mn||o.svg||(r=s.display,s.display="block",(n=e.parentNode)&&pn.body.contains(e)||(a=1,i=e.nextSibling,mn.appendChild(e)),l=ci(e),r?s.display=r:Kn(e,"display"),a&&(i?n.insertBefore(e,i):n?n.appendChild(e):mn.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ui=function(e,t,n,i,r,a){var o,s,l,c=e._gsap,h=r||hi(e,!0),u=c.xOrigin||0,d=c.yOrigin||0,p=c.xOffset||0,m=c.yOffset||0,f=h[0],g=h[1],b=h[2],v=h[3],y=h[4],x=h[5],_=t.split(" "),w=parseFloat(_[0])||0,M=parseFloat(_[1])||0;n?h!==oi&&(s=f*v-g*b)&&(l=w*(-g/s)+M*(f/s)-(f*x-g*y)/s,w=w*(v/s)+M*(-b/s)+(b*x-v*y)/s,M=l):(w=(o=Zn(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),M=o.y+(~(_[1]||_[0]).indexOf("%")?M/100*o.height:M)),i||!1!==i&&c.smooth?(y=w-u,x=M-d,c.xOffset=p+(y*f+x*b)-y,c.yOffset=m+(y*g+x*v)-x):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=M,c.smooth=!!i,c.origin=t,c.originIsAbsolute=!!n,e.style[Gn]="0px 0px",a&&(Qn(a,c,"xOrigin",u,w),Qn(a,c,"yOrigin",d,M),Qn(a,c,"xOffset",p,c.xOffset),Qn(a,c,"yOffset",m,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+M)},di=function(e,t){var n=e._gsap||new It(e);if("x"in n&&!t&&!n.uncache)return n;var i,r,a,o,s,l,c,h,u,d,p,m,f,g,b,v,y,x,_,w,M,S,T,E,A,L,P,R,z,O,D,I,k=e.style,N=n.scaleX<0,B=jn(e,Gn)||"0";return i=r=a=l=c=h=u=d=p=0,o=s=1,n.svg=!(!e.getCTM||!Jn(e)),g=hi(e,n.svg),n.svg&&(E=!n.uncache&&e.getAttribute("data-svg-origin"),ui(e,E||B,!!E||n.originIsAbsolute,!1!==n.smooth,g)),m=n.xOrigin||0,f=n.yOrigin||0,g!==oi&&(x=g[0],_=g[1],w=g[2],M=g[3],i=S=g[4],r=T=g[5],6===g.length?(o=Math.sqrt(x*x+_*_),s=Math.sqrt(M*M+w*w),l=x||_?Mn(_,x)*_n:0,(u=w||M?Mn(w,M)*_n+l:0)&&(s*=Math.cos(u*wn)),n.svg&&(i-=m-(m*x+f*w),r-=f-(m*_+f*M))):(I=g[6],O=g[7],P=g[8],R=g[9],z=g[10],D=g[11],i=g[12],r=g[13],a=g[14],c=(b=Mn(I,z))*_n,b&&(E=S*(v=Math.cos(-b))+P*(y=Math.sin(-b)),A=T*v+R*y,L=I*v+z*y,P=S*-y+P*v,R=T*-y+R*v,z=I*-y+z*v,D=O*-y+D*v,S=E,T=A,I=L),h=(b=Mn(-w,z))*_n,b&&(v=Math.cos(-b),D=M*(y=Math.sin(-b))+D*v,x=E=x*v-P*y,_=A=_*v-R*y,w=L=w*v-z*y),l=(b=Mn(_,x))*_n,b&&(E=x*(v=Math.cos(b))+_*(y=Math.sin(b)),A=S*v+T*y,_=_*v-x*y,T=T*v-S*y,x=E,S=A),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,h=180-h),o=xe(Math.sqrt(x*x+_*_+w*w)),s=xe(Math.sqrt(T*T+I*I)),b=Mn(S,T),u=Math.abs(b)>2e-4?b*_n:0,p=D?1/(D<0?-D:D):0),n.svg&&(E=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!li(jn(e,Un)),E&&e.setAttribute("transform",E))),Math.abs(u)>90&&Math.abs(u)<270&&(N?(o*=-1,u+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,u+=u<=0?180:-180)),n.x=((n.xPercent=i&&Math.round(e.offsetWidth/2)===Math.round(-i)?-50:0)?0:i)+"px",n.y=((n.yPercent=r&&Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",n.z=a+"px",n.scaleX=xe(o),n.scaleY=xe(s),n.rotation=xe(l)+"deg",n.rotationX=xe(c)+"deg",n.rotationY=xe(h)+"deg",n.skewX=u+"deg",n.skewY=d+"deg",n.transformPerspective=p+"px",(n.zOrigin=parseFloat(B.split(" ")[2])||0)&&(k[Gn]=pi(B)),n.xOffset=n.yOffset=0,n.force3D=C.force3D,n.renderTransform=n.svg?bi:yn?gi:fi,n.uncache=0,n},pi=function(e){return(e=e.split(" "))[0]+" "+e[1]},mi=function(e,t,n){var i=Ke(t);return xe(parseFloat(t)+parseFloat(ei(e,"x",n+"px",i)))+i},fi=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,gi(e,t)},gi=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,h=n.rotationX,u=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,f=n.transformPerspective,g=n.force3D,b=n.target,v=n.zOrigin,y="",x="auto"===g&&e&&1!==e||!0===g;if(v&&("0deg"!==h||"0deg"!==c)){var _,w=parseFloat(c)*wn,M=Math.sin(w),S=Math.cos(w);w=parseFloat(h)*wn,_=Math.cos(w),a=mi(b,a,M*_*-v),o=mi(b,o,-Math.sin(w)*-v),s=mi(b,s,S*_*-v+v)}"0px"!==f&&(y+="perspective("+f+") "),(i||r)&&(y+="translate("+i+"%, "+r+"%) "),(x||"0px"!==a||"0px"!==o||"0px"!==s)&&(y+="0px"!==s||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),"0deg"!==l&&(y+="rotate("+l+") "),"0deg"!==c&&(y+="rotateY("+c+") "),"0deg"!==h&&(y+="rotateX("+h+") "),"0deg"===u&&"0deg"===d||(y+="skew("+u+", "+d+") "),1===p&&1===m||(y+="scale("+p+", "+m+") "),b.style[Un]=y||"translate(0, 0)"},bi=function(e,t){var n,i,r,a,o,s=t||this,l=s.xPercent,c=s.yPercent,h=s.x,u=s.y,d=s.rotation,p=s.skewX,m=s.skewY,f=s.scaleX,g=s.scaleY,b=s.target,v=s.xOrigin,y=s.yOrigin,x=s.xOffset,_=s.yOffset,w=s.forceCSS,M=parseFloat(h),S=parseFloat(u);d=parseFloat(d),p=parseFloat(p),(m=parseFloat(m))&&(p+=m=parseFloat(m),d+=m),d||p?(d*=wn,p*=wn,n=Math.cos(d)*f,i=Math.sin(d)*f,r=Math.sin(d-p)*-g,a=Math.cos(d-p)*g,p&&(m*=wn,o=Math.tan(p-m),r*=o=Math.sqrt(1+o*o),a*=o,m&&(o=Math.tan(m),n*=o=Math.sqrt(1+o*o),i*=o)),n=xe(n),i=xe(i),r=xe(r),a=xe(a)):(n=f,a=g,i=r=0),(M&&!~(h+"").indexOf("px")||S&&!~(u+"").indexOf("px"))&&(M=ei(b,"x",h,"px"),S=ei(b,"y",u,"px")),(v||y||x||_)&&(M=xe(M+v-(v*n+y*r)+x),S=xe(S+y-(v*i+y*a)+_)),(l||c)&&(o=b.getBBox(),M=xe(M+l/100*o.width),S=xe(S+c/100*o.height)),o="matrix("+n+","+i+","+r+","+a+","+M+","+S+")",b.setAttribute("transform",o),w&&(b.style[Un]=o)},vi=function(e,t,n,i,r,a){var o,s,l=F(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?_n:1),h=a?c*a:c-i,u=i+h+"deg";return l&&("short"===(o=r.split("_")[1])&&(h%=360)!==h%180&&(h+=h<0?360:-360),"cw"===o&&h<0?h=(h+36e9)%360-360*~~(h/360):"ccw"===o&&h>0&&(h=(h-36e9)%360-360*~~(h/360))),e._pt=s=new sn(e._pt,t,n,i,h,Pn),s.e=u,s.u="deg",e._props.push(n),s},yi=function(e,t,n){var i,r,a,o,s,l,c,h=bn.style,u=n._gsap;for(r in h.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",h[Un]=t,pn.body.appendChild(bn),i=di(bn,1),xn)(a=u[r])!==(o=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(s=Ke(a)!==(c=Ke(o))?ei(n,r,a,c):parseFloat(a),l=parseFloat(o),e._pt=new sn(e._pt,u,r,s,l-s,Ln),e._pt.u=c||0,e._props.push(r));pn.body.removeChild(bn)};ye("padding,margin,Width,Radius",(function(e,t){var n="Top",i="Right",r="Bottom",a="Left",o=(t<3?[n,i,r,a]:[n+a,n+i,r+i,r+a]).map((function(n){return t<2?e+n:"border"+n+e}));ai[t>1?"border"+e:e]=function(e,t,n,i,r){var a,s;if(arguments.length<4)return a=o.map((function(t){return ti(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,r)}}));var xi,_i,wi={name:"css",register:Xn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var a,o,s,l,c,h,u,d,p,m,f,g,b,v,y,x,_,w,M,S=this._props,T=e.style;for(u in fn||Xn(),t)if("autoRound"!==u&&(o=t[u],!ue[u]||!Gt(u,t,n,i,e,r)))if(c=typeof o,h=ai[u],"function"===c&&(c=typeof(o=o.call(n,i,e,r))),"string"===c&&~o.indexOf("random(")&&(o=lt(o)),h)h(this,e,u,o,n)&&(y=1);else if("--"===u.substr(0,2))this.add(T,"setProperty",getComputedStyle(e).getPropertyValue(u)+"",o+"",i,r,0,0,u);else{if(a=ti(e,u),l=parseFloat(a),(m="string"===c&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),u in An&&("autoAlpha"===u&&(1===l&&"hidden"===ti(e,"visibility")&&s&&(l=0),Qn(this,T,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==u&&"transform"!==u&&~(u=An[u]).indexOf(",")&&(u=u.split(",")[0])),f=u in xn)if(g||((b=e._gsap).renderTransform||di(e),v=!1!==t.smoothOrigin&&b.smooth,(g=this._pt=new sn(this._pt,T,Un,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===u)this._pt=new sn(this._pt,b,"scaleY",b.scaleY,m?m*s:s-b.scaleY),S.push("scaleY",u),u+="X";else{if("transformOrigin"===u){_=void 0,w=void 0,M=void 0,_=(x=o).split(" "),w=_[0],M=_[1]||"50%","top"!==w&&"bottom"!==w&&"left"!==M&&"right"!==M||(x=w,w=M,M=x),_[0]=ii[w]||w,_[1]=ii[M]||M,o=_.join(" "),b.svg?ui(e,o,0,v,0,this):((p=parseFloat(o.split(" ")[2])||0)!==b.zOrigin&&Qn(this,b,"zOrigin",b.zOrigin,p),Qn(this,T,u,pi(a),pi(o)));continue}if("svgOrigin"===u){ui(e,o,1,v,0,this);continue}if(u in si){vi(this,b,u,l,o,m);continue}if("smoothOrigin"===u){Qn(this,b,"smooth",b.smooth,o);continue}if("force3D"===u){b[u]=o;continue}if("transform"===u){yi(this,o,e);continue}}else u in T||(u=Wn(u)||u);if(f||(s||0===s)&&(l||0===l)&&!En.test(o)&&u in T)s||(s=0),(d=(a+"").substr((l+"").length))!==(p=(o+"").substr((s+"").length)||(u in C.units?C.units[u]:d))&&(l=ei(e,u,a,p)),this._pt=new sn(this._pt,f?b:T,u,l,m?m*s:s-l,"px"!==p||!1===t.autoRound||f?Ln:Rn),this._pt.u=p||0,d!==p&&(this._pt.b=a,this._pt.r=Cn);else if(u in T)ni.call(this,e,u,a,o);else{if(!(u in e)){re(u,o);continue}this.add(e,u,e[u],o,i,r)}S.push(u)}y&&on(this)},get:ti,aliases:An,getSetter:function(e,t,n){var i=An[t];return i&&i.indexOf(",")<0&&(t=i),t in xn&&t!==Gn&&(e._gsap.x||ti(e,"x"))?n&&vn===n?"scale"===t?Nn:kn:(vn=n||{})&&("scale"===t?Bn:Fn):e.style&&!H(e.style[t])?Dn:~t.indexOf("-")?In:Kt(e,t)},core:{_removeProperty:Kn,_getMatrix:hi}};un.utils.checkPrefix=Wn,_i=ye("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(xi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){xn[e]=1})),ye(xi,(function(e){C.units[e]="deg",si[e]=1})),An[_i[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+xi,ye("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");An[t[1]]=_i[t[0]]})),ye("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){C.units[e]="px"})),un.registerPlugin(wi);var Mi=un.registerPlugin(wi)||un;Mi.core.Tween},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(1);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"disposeMaterial",value:function(e){e.material&&e.material.dispose()}},{key:"getAnglePosition",value:function(e,t){return new i.Vector3(t*Math.cos(e),0,t*Math.sin(e))}},{key:"getEulerManRotation",value:function(e){return new i.Euler(0,Math.PI/2-e,0,"XYZ")}},{key:"getCameraZonePositionFinal",value:function(e,t,n,i){return{x:e*Math.cos(t),y:n,z:e*Math.sin(t),duration:i,ease:"power2.inOut"}}},{key:"createZones",value:function(e,t,n,i){for(var a=[],o=0;o<e;o++)a.push({begAngle:r.a.utils.wrap(0,2*Math.PI,t+o*(n-t)/e),endAngle:r.a.utils.wrap(0,2*Math.PI,t+(o+1)*(n-t)/e),centerAngle:r.a.utils.wrap(0,2*Math.PI,t+(2*o+1)*(n-t)/(2*e)),prefix:i+o.toString()});return a}},{key:"getCurrentZone",value:function(e,t,n,i,a,o){var s=r.a.utils.wrap(0,2*Math.PI,-e+a);if(s<t)return{zone:-1,zonePos:s=r.a.utils.clamp(0,1,r.a.utils.normalize(o,t,s))};if(s>n)return{zone:-2,zonePos:s=r.a.utils.clamp(0,1,r.a.utils.normalize(n,2*Math.PI-o,s))};s=r.a.utils.normalize(t,n,s);var l=r.a.parseEase("steps("+i.toString()+")"),c=r.a.utils.wrap(0,1,s*(i+1));return{zone:Math.round(l(s)*i),zonePos:c}}},{key:"LineTaper",value:function(e){return 1}},{key:"LineTaperer",value:function(e){return Math.sin(1-e)}},{key:"LineTapererEnd",value:function(e){return Math.sin(e)}},{key:"isEmptyOrSpaces",value:function(e){return!e||""===e.trim()}},{key:"getMouseDegrees",value:function(e,t,n,i,r){var a=0,o=0;return e<=i/2&&(a=n*((i/2-e)/(i/2)*100)/100*-1),e>=i/2&&(a=n*((e-i/2)/(i/2)*100)/100),t<=r/2&&(o=.5*n*((r/2-t)/(r/2)*100)/100*-1),t>=r/2&&(o=n*((t-r/2)/(r/2)*100)/100),{x:a,y:o}}},{key:"setZoom",value:function(e,t){transformOrigin=[0,0],t=t||instance.getContainer();for(var n=["webkit","moz","ms","o"],i="scale("+e+")",r=100*transformOrigin[0]+"% "+100*transformOrigin[1]+"%",a=0;a<n.length;a++)t.style[n[a]+"Transform"]=i,t.style[n[a]+"TransformOrigin"]=r;t.style.transform=i,t.style.transformOrigin=r}}],(n=null)&&a(t.prototype,n),o&&a(t,o),e}()},function(e,t,n){(function(){"use strict";var i,r,a,o=this.THREE||n(0);if(!o)throw new Error("MeshLine requires three.js");function s(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new o.BufferGeometry,this.widthCallback=null,this.matrixWorld=new o.Matrix4}function l(e,t,n,i,r){var a;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,n.set)n.set(e,i);else for(a=0;a<e.length;a++)n[a+i]=e[a];return n}function c(e){o.ShaderMaterial.call(this,{uniforms:Object.assign({},o.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new o.Color(16777215)},opacity:{value:1},resolution:{value:new o.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new o.Vector2(1,1)}}),vertexShader:o.ShaderChunk.meshline_vert,fragmentShader:o.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(e){this.uniforms.sizeAttenuation.value=e}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(e){this.uniforms.near.value=e}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(e){this.uniforms.far.value=e}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}s.prototype.setMatrixWorld=function(e){this.matrixWorld=e},s.prototype.setGeometry=function(e,t){if(this.widthCallback=t,this.positions=[],this.counters=[],e instanceof o.Geometry)for(var n=0;n<e.vertices.length;n++){var i=e.vertices[n];t=n/e.vertices.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(t),this.counters.push(t)}if(o.BufferGeometry,e instanceof Float32Array||e instanceof Array)for(n=0;n<e.length;n+=3){t=n/e.length;this.positions.push(e[n],e[n+1],e[n+2]),this.positions.push(e[n],e[n+1],e[n+2]),this.counters.push(t),this.counters.push(t)}this.process()},s.prototype.raycast=(i=new o.Matrix4,r=new o.Ray,a=new o.Sphere,function(e,t){var n=e.linePrecision,s=n*n,l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),a.copy(l.boundingSphere),a.applyMatrix4(this.matrixWorld),!1!==e.ray.intersectSphere(a)){i.getInverse(this.matrixWorld),r.copy(e.ray).applyMatrix4(i);var c=new o.Vector3,h=new o.Vector3,u=new o.Vector3,d=new o.Vector3,p=this instanceof o.LineSegments?2:1;if(l instanceof o.BufferGeometry){var m=l.index,f=l.attributes;if(null!==m)for(var g=m.array,b=f.position.array,v=0,y=g.length-1;v<y;v+=p){var x=g[v],_=g[v+1];c.fromArray(b,3*x),h.fromArray(b,3*_),r.distanceSqToSegment(c,h,d,u)>s||(d.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(d))<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else for(v=0,y=(b=f.position.array).length/3-1;v<y;v+=p)c.fromArray(b,3*v),h.fromArray(b,3*v+3),r.distanceSqToSegment(c,h,d,u)>s||(d.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(d))<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else if(l instanceof o.Geometry){var w=l.vertices,M=w.length;for(v=0;v<M-1;v+=p){var S;r.distanceSqToSegment(w[v],w[v+1],d,u)>s||(d.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(d))<e.near||S>e.far||t.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}}}}),s.prototype.compareV3=function(e,t){var n=6*e,i=6*t;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]},s.prototype.copyV3=function(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]},s.prototype.process=function(){var e,t,n=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var i=0;i<n;i++)this.side.push(1),this.side.push(-1);for(i=0;i<n;i++)e=this.widthCallback?this.widthCallback(i/(n-1)):1,this.width.push(e),this.width.push(e);for(i=0;i<n;i++)this.uvs.push(i/(n-1),0),this.uvs.push(i/(n-1),1);t=this.compareV3(0,n-1)?this.copyV3(n-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(i=0;i<n-1;i++)t=this.copyV3(i),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(i=1;i<n;i++)t=this.copyV3(i),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);t=this.compareV3(n-1,0)?this.copyV3(1):this.copyV3(n-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);for(i=0;i<n-1;i++){var r=2*i;this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new o.BufferAttribute(new Float32Array(this.positions),3),previous:new o.BufferAttribute(new Float32Array(this.previous),3),next:new o.BufferAttribute(new Float32Array(this.next),3),side:new o.BufferAttribute(new Float32Array(this.side),1),width:new o.BufferAttribute(new Float32Array(this.width),1),uv:new o.BufferAttribute(new Float32Array(this.uvs),2),index:new o.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new o.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},s.prototype.advance=function(e){var t=this.attributes.position.array,n=this.attributes.previous.array,i=this.attributes.next.array,r=t.length;l(t,0,n,0,r),l(t,6,t,0,r-6),t[r-6]=e.x,t[r-5]=e.y,t[r-4]=e.z,t[r-3]=e.x,t[r-2]=e.y,t[r-1]=e.z,l(t,6,i,0,r-6),i[r-6]=e.x,i[r-5]=e.y,i[r-4]=e.z,i[r-3]=e.x,i[r-2]=e.y,i[r-1]=e.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},o.ShaderChunk.meshline_vert=["",o.ShaderChunk.logdepthbuf_pars_vertex,o.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","",o.ShaderChunk.logdepthbuf_vertex,o.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",o.ShaderChunk.fog_vertex,"}"].join("\r\n"),o.ShaderChunk.meshline_frag=["",o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",o.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",o.ShaderChunk.fog_fragment,"}"].join("\r\n"),c.prototype=Object.create(o.ShaderMaterial.prototype),c.prototype.constructor=c,c.prototype.isMeshLineMaterial=!0,c.prototype.copy=function(e){return o.ShaderMaterial.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.near=e.near,this.far=e.far,this.dashArray.copy(e.dashArray),this.dashOffset.copy(e.dashOffset),this.dashRatio.copy(e.dashRatio),this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this},e.exports&&(t=e.exports={MeshLine:s,MeshLineMaterial:c}),t.MeshLine=s,t.MeshLineMaterial=c}).call(this)},function(e,t,n){"use strict";t.a="fonts/AcuminPro108.fnt"},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(74),r=n(75),a=n(76);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,r){var a,o=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var h=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===l)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var u=!0,d=0;d<l;d++)if(c(e,a+d)!==c(t,d)){u=!1;break}if(u)return a}return-1}function y(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function x(e,t,n,i){return H(U(t,e.length-n),e,n,i)}function _(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return _(e,t,n,i)}function M(e,t,n,i){return H(G(t),e,n,i)}function S(e,t,n,i){return H(function(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,r=n%256,a.push(r),a.push(i);return a}(t,e.length-n),e,n,i)}function T(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,l,c=e[r],h=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=n)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(a=e[r+1]))&&(l=(31&c)<<6|63&a)>127&&(h=l);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=u}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return h(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(i,r),h=e.slice(t,n),u=0;u<s;++u)if(c[u]!==h[u]){a=c[u],o=h[u];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function P(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=t;a<n;++a)r+=F(e[a]);return r}function C(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,n,i,r,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function O(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function D(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function I(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,i,a){return a||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,a){return a||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||z(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||z(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);z(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);z(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:U(new l(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function G(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(14))},function(e,t,n){var i;e.exports=((i=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),t(++n%r.children.length)}),!1);var a=(performance||Date).now(),o=a,s=0,l=e(new i.Panel("FPS","#0ff","#002")),c=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=e(new i.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){a=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-a,200),e>o+1e3&&(l.update(1e3*s/(e-o),100),o=e,s=0,h)){var t=performance.memory;h.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:r,setMode:t}}).Panel=function(e,t,n){var i=1/0,r=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,l=48*o,c=3*o,h=2*o,u=3*o,d=15*o,p=74*o,m=30*o,f=document.createElement("canvas");f.width=s,f.height=l,f.style.cssText="width:80px;height:48px";var g=f.getContext("2d");return g.font="bold "+9*o+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,l),g.fillStyle=t,g.fillText(e,c,h),g.fillRect(u,d,p,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(u,d,p,m),{dom:f,update:function(l,b){i=Math.min(i,l),r=Math.max(r,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,d),g.fillStyle=t,g.fillText(a(l)+" "+e+" ("+a(i)+"-"+a(r)+")",c,h),g.drawImage(f,u+o,d,p-o,m,u,d,p-o,m),g.fillRect(u+p-o,d,o,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(u+p-o,d,o,a((1-l/b)*m))}}},i)},function(e,t){e.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],i=0;i<e.length-1;i++)n.push(e[i],t[i]||"");return n.push(e[i]),n.join("")}},function(e,t,n){"use strict";t.a="img/disc.png"},function(e,t,n){"use strict";t.a="assets/Krtan.glb"},function(e){e.exports=JSON.parse('{"daty":[{"date":"1965","title":"Pierwsza próba przeszczepienia nerki","title2":"Pierwsza próba przeszczepienia nerki","month":"","town":"Wrocław","organ":"Kidney","texthtml":"<p><b>Profesor Wiktor Bross i&nbsp;prof. Władysław Wręźlewicz</b> podjęli pierwszą próbę przeszczepienia nerki.</p>","photoscount":1,"photos":[{"filename":"./img/1965.png","owner":"Fot.Polska Agencja Prasowa","description":"Prof.  Wiktor Bross"}]},{"date":"1966","title":"Pierwsze udane przeszczepienie nerki\\nod zmarłej osoby","title2":"Pierwsze udane przeszczepienie nerki od&nbsp;zmarłej osoby","month":"26 stycznia","town":"Warszawa","organ":"Kidney","texthtml":"<p>Operację przeprowadził <b>prof. Jan Nielubowicz</b> w&nbsp;I Klinice Chirurgicznej Akademii Medycznej w&nbsp;Warszawie, asystowali mu <b>prof. Wojciech Rowiński, Waldemar Olszewski, Jerzy Szczerbań. </b> Nadzór nefrologiczny nad przeszczepieniem miał <b>prof. Tadeusz Orłowski. </b></p><p>Przeszczepienie wykonano u&nbsp;18-letniej uczennicy szkoły pielęgniarskiej Danuty Milewskiej, która od&nbsp;dzieciństwa cierpiała na&nbsp;chorobę nerek. Operacja rozpoczęła się o&nbsp;17.00 i&nbsp;trwała zaledwie 57 minut. Wszczepiona nerka już po kilku minutach podjęła pracę. Ogłoszono sukces polskiej medycyny.</p><p>Z tej okazji 26 stycznia co&nbsp;roku obchodzony jest w&nbsp;naszym kraju jako Dzień Transplantacji.</p>","photoscount":3,"photos":[{"filename":"./img/1966-A.png","owner":"Fot.Polska Agencja Prasowa","description":"Prof. Wiktor Boss"},{"filename":"./img/1966-B.png","owner":"Fot.Polska Agencja Prasowa","description":""},{"filename":"./img/1966-C.png","owner":"Fot.Polska Agencja Prasowa","description":"Prof. Tadeusz Orłowski"}]},{"date":"1969","title":"Pierwsza próba przeszczepienia serca","title2":"Pierwsza próba przeszczepienia serca","month":"","town":"Łódź","organ":"Heart","texthtml":"<p>Zespół chirurgów kierowany przez prof.&nbsp;Jana Molla dokonał pierwszej próby przeszczepienia serca. Narząd pracował jedynie przez półtorej godziny.</p><p>W zespole chirurgów oprócz prof.&nbsp;Jana Molla byli także prof.&nbsp;Antonii Dziatkowiak i&nbsp;prof. Kazimierz Rybiński. Do pionierskiego przeszczepienia zespół przygotowywał się kilka miesięcy, przeprowadzając symulacje na&nbsp;zwierzętach oraz na&nbsp;zwłokach w&nbsp;zakładach anatomii.</p>","photoscount":1,"photos":[{"filename":"./img/1969.png","owner":"","description":"prof. Jan Moll"}]},{"date":"1985","title":"Pierwsze udane przeszczepienie serca","title2":"Pierwsze udane przeszczepienie serca","month":"5 listopada","town":"Zabrze","organ":"Heart","texthtml":"<p>Pierwsze udane przeszczepienie serca wykonał <b>prof. Zbigniew Religa</b> przy asyście <b>prof. Andrzeja Bochenka,  dr.&nbsp;Jerzego Wołczyka,  prof.&nbsp;Mariana Zembali</b> oraz <b>dr. n. med. Bogusława Ryfińskiego. </b></p><p>Zbigniew Religa był pionierem polskiej kardiochirurgii w&nbsp;wielu obszarach, oprócz przeprowadzenia pierwszego w&nbsp;kraju przeszczepienia serca, wykonał jako pierwszy operację wielonarządowego przeszczepienia serca i&nbsp;płuc, wprowadził do praktyki operacje leczące zatorowość płucną,  stworzył też prototyp sztucznego serca i&nbsp;zastawki biologicznej. Dziś serce przeszczepia się w&nbsp;sześciu ośrodkach w&nbsp;Polsce. Od&nbsp;1985 r. wykonano łącznie <b>2763</b> przeszczepień serca. </p>","photoscount":3,"photos":[{"filename":"./img/1985-A.png","owner":"","description":"prof. Zbigniew Religa"},{"filename":"./img/1985-B.png","owner":"","description":"Tadeusz Żytkiewicz-  najsłynniejszy pacjent prof.&nbsp;Religi. Z&nbsp;nowym sercem żył 30 lat."},{"filename":"./img/1985-C.png","owner":"","description":"Tadeusz Żytkiewicz-  najsłynniejszy pacjent prof.&nbsp;Religi. Z&nbsp;nowym sercem żył 30 lat."}]},{"date":"1987","title":"Pierwsza próba jednoczesnego\\nprzeszczepienia trzustki i nerki","title2":"Pierwsza próba jednoczesnego przeszczepienia trzustki&nbsp;i&nbsp;nerki","month":"","town":"Szczecin","organ":"Kidney_Trzustka","texthtml":"<p><b>Prof. Stanisław Zieliński</b> z&nbsp;II Kliniki Chirurgii Ogólnej i&nbsp;Transplantacyjnej Pomorskiej Akademii Medycznej w&nbsp;Szczecinie jako pierwszy w&nbsp;kraju podjął próbę (niestety nieudaną) jednoczesnego przeszczepienia trzustki i&nbsp;nerki. Nie zachowały się informacje odnośnie przebiegu samej operacji. </p>","photoscount":2,"photos":[{"filename":"./img/1987-A.png","owner":"Gazeta","description":"Prof. Stanisław Zieliński z&nbsp;pacjentką. Głos Szczeciński, 1983 r."},{"filename":"./img/1987-B.png","owner":"Gazeta","description":"Prof. Stanisław Zieliński z&nbsp;pacjentką. Głos Szczeciński, 1983 r."}]},{"date":"1987","title":"Pierwsza próba przeszczepienia wątroby","title2":"Pierwsza próba przeszczepienia wątroby","month":"","town":"Szczecin","organ":"Liver","texthtml":"<p><b>Profesor Stanisław Zieliński</b> z&nbsp;Pomorskiej Akademii Medycznej podjął się także prób przeszczepienia wątroby. Ich wyniki nie były jednak dobre, pierwsi chorzy zmarli w&nbsp;kilka dni po operacji. Nie podcięło to jednak skrzydeł szczecińskiemu zespołowi, gdzie obecnie z&nbsp;dobrymi wynikami prowadzony jest aktywny program leczenia przeszczepieniem nerki oraz leczenia przeszczepieniem wątroby.</p>","photoscount":1,"photos":[{"filename":"./img/1987-2.png","owner":"Gazeta","description":"Prof. Stanisław Zieliński z&nbsp;pacjentką. Głos Szczeciński, 1983 r."}]},{"date":"1988","title":"Pierwsze udane jednoczesne\\nprzeszczepienie trzustki i nerki","title2":"Pierwsze udane jednoczesne przeszczepienie trzustki&nbsp;i&nbsp;nerki","month":"4 lutego","town":"Warszawa","organ":"Kidney_Trzustka","texthtml":"<p>Operacja była wykonana pod kierunkiem <b>prof. Jacka Szmidta</b>, przy współpracy z&nbsp; <b>dr. Krzysztofem Madejem, dr.&nbsp;Sławomirem Frunze i&nbsp;prof.&nbsp;Sławomirem Nazarewskim</b> w&nbsp;ówczesnej Klinice Chirurgii Naczyń i&nbsp;Transplantologii Akademii Medycznej mieszczącej się w&nbsp;Centralnym Szpitalu Klinicznym ul. Banacha w&nbsp;Warszawie. Wsparcie zapewnili interniści-transplantolodzy z&nbsp;Instytutu Transplantologii, mieszczącego się w&nbsp;Państwowym Szpitalu Klinicznym nr 1 im. Dzieciątka Jezus. Chora przeżyła po transplantacji prawie 15 lat w&nbsp;dobrym stanie, bez konieczności otrzymywania insuliny i&nbsp;podłączania do sztucznej nerki.</p>","photoscount":1,"photos":[{"filename":"./img/1988.png","owner":"","description":"Prof. Sławomir Nazarewski, 2016 r.)"}]},{"date":"1990","title":"Pierwsze udane przeszczepienie\\nwątroby u dziecka","title2":"Pierwsze udane przeszczepienie wątroby u&nbsp;dziecka","month":"1 marca","town":"Warszawa","organ":"Liver","texthtml":"<p><b>Profesor Piotr Kaliciński</b> z&nbsp;Centrum Zdrowia Dziecka w&nbsp;Warszawie, przy współpracy <b>prof.&nbsp;dr.&nbsp;Rudolfa Pichlmayra</b> z&nbsp;renomowanego ośrodka transplantacyjnego w&nbsp;Niemczech, wykonał pierwsze udane przeszczepienie wątroby w&nbsp;Polsce.</p>","photoscount":1,"photos":[{"filename":"./img/1990.png","owner":"","description":"Prof. Piotr Kaliciński"}]},{"date":"1994","title":"Pierwsze udane przeszczepienie wątroby\\nu dorosłego biorcy","title2":"Pierwsze udane przeszczepienie wątroby  u&nbsp;dorosłego biorcy","month":"","town":"Warszawa","organ":"Liver","texthtml":"<p>Pierwsze przeszczepienie wątroby u&nbsp;osoby dorosłej wykonano w&nbsp;Klinice Chirurgii Ogólnej i&nbsp;Chorób Wątroby Akademii Medycznej w&nbsp;Warszawie pod kierunkiem <b>prof. Andrzeja Karwowskiego, </b> a&nbsp;operatorami byli <b>prof. Bogdan Michałowicz oraz doc. Jacek Pawlak. </b> Obecnie przeszczepienia wątroby wykonywane są w&nbsp;dziewięciu ośrodkach w&nbsp;Polsce. Do końca 2019 r. wykonano łącznie <b>5218</b> takich operacji.</p>","photoscount":1,"photos":[{"filename":"./img/1994.png","owner":"","description":"Prof. Bogdan Michałowicz"}]},{"date":"1998","title":"Pierwsze przeszczepienie\\npojedynczego płuca","title2":"Pierwsze przeszczepienie pojedynczego płuca","month":"","town":"Zabrze","organ":"lungs","texthtml":"<p>Przeszczep pojedynczego płuca po raz pierwszy w&nbsp;Polsce przeprowadził <b>prof. Marian Zembala</b> (uczeń profesora Religi) z&nbsp;zespołem. w&nbsp;Polsce jest obecnie sześć ośrodków przeszczepiających płuca. Do końca 2019 r. wykonano <b>317</b> takich operacji.</p>","photoscount":1,"photos":[{"filename":"./img/1998.png","owner":"","description":"Prof. Marian Zembala z&nbsp;pacjentem"}]},{"date":"1999","title":"Pierwsze przeszczepienie części wątroby\\npobranej od żywego dawcy","title2":"Pierwsze przeszczepienie części wątroby pobranej od&nbsp;żywego dawcy","month":"","town":"Warszawa","organ":"Liver","texthtml":"<p>Przeszczepienie wykonał <b>prof. Piotr Kaliciński</b> oraz <b>prof. Marek Krawczyk. </b> Biorczynią była 4-letnia dziewczynka z&nbsp;niedrożnością zewnątrzwątrobowych dróg żółciowych, której przeszczepiono fragment wątroby pobrany od&nbsp;jej ojca. Przeszczep był efektem współpracy z&nbsp;Kliniką Chirurgii Ogólnej i&nbsp;Chorób Wątroby Akademii Medycznej w&nbsp;Warszawie, gdzie dokonano pobrania fragmentu wątroby od&nbsp;ojca dziewczynki, oraz współpracy z&nbsp;ośrodkami francuskimi: szpitalem Neckera i&nbsp;szpitalem Beaujon w&nbsp;Paryżu.</p>","photoscount":1,"photos":[{"filename":"./img/1999.png","owner":"","description":"Prof. Marian Zembala z&nbsp;pacjentem"}]},{"date":"2000","title":"Pierwszy w Polsce skojarzony\\nprzeszczep wątroby i nerki","title2":"Pierwszy w&nbsp;Polsce skojarzony przeszczep wątroby i&nbsp;nerki","month":"","town":"Warszawa","organ":"Liver_Kidney","texthtml":"<p>Jednoczasowe przeszczepienie wątroby i&nbsp;nerki pacjentowi z&nbsp;niewydolnością obu tych narządów. Pierwszy w&nbsp;Polsce skojarzony przeszczep wątroby i&nbsp;nerki w&nbsp;Instytucie Centrum Zdrowia Dziecka wykonał zespół pod kierownictwem prof.&nbsp;Piotra Kalicińskiego</p>","photoscount":1,"photos":[{"filename":"./img/2000.png","owner":"","description":"Prof. Piotr Kaliciński"}]},{"date":"2001","title":"Pierwsze udane jednoczesne\\nprzeszczepienie płuc i serca ","title2":"Pierwsze udane jednoczesne przeszczepienie płuc i&nbsp;serca ","month":"","town":"Zabrze","organ":"Heart_Lungs","texthtml":"<p>Zakończone sukcesem jednoczesne przeszczepienie serca i&nbsp;płuc przeprowadzili lekarze ze Śląskiego Centrum Chorób Serca w&nbsp;Zabrzu pod przewodnictwem <b>prof. Mariana Zembali.</b> Pacjent, mieszkaniec Tarnowskich Gór, miał uszkodzenie serca wskutek wielokrotnych zatorów płucnych. Gdyby przeszczepiono mu tylko serce, płuca odmówiłyby posłuszeństwa.</p>","photoscount":1,"photos":[{"filename":"./img/2001-1.png","owner":"","description":"Prof. Marian Zembala z&nbsp;pacjentem"}]},{"date":"2001","title":"Pierwsze wielonarządowe\\nprzeszczepienie jelita i wątroby","title2":"Pierwsze wielonarządowe przeszczepienie jelita i&nbsp;wątroby","month":"","town":"Warszawa","organ":"Digestive_Liver","texthtml":"<p>Zabieg wykonał  <b>prof. Piotr Kaliciński</b> w&nbsp;Centrum Zdrowia Dziecka.</p>","photoscount":1,"photos":[{"filename":"./img/2001-2.png","owner":"","description":"Prof. Piotr Kaliciński wraz z&nbsp;zespołem"}]},{"date":"2004","title":"Pierwsze udane przeszczepienie trzustki\\nu osoby z uprzednio przeszczepioną nerką","title2":"Pierwsze udane przeszczepienie trzustki u&nbsp;osoby z&nbsp;uprzednio przeszczepioną nerką","month":"","town":"Warszawa","organ":"Trzustka","texthtml":"<p>Przeszczepienie wykonał zespół prowadzony przez <b>prof. Marka Durlika</b> w&nbsp;Centralnym Szpitalu Klinicznym Ministerstwa Spraw Wewnętrznych w&nbsp;Warszawie. Wskazaniem do tej rzadko wykonywanej operacji była cukrzyca typu I u&nbsp;chorego, któremu wcześniej przeszczepiono nerkę z&nbsp;powodu powikłań cukrzycy.</p>","photoscount":1,"photos":[{"filename":"./img/2004.png","owner":"","description":"Prof. Marek Durlik"}]},{"date":"2005","title":"Pierwsze przeszczepienie obu płuc","title2":"Pierwsze przeszczepienie obu płuc","month":"","town":"Zabrze","organ":"lungs2","texthtml":"<p>Lekarze ze Śląskiego Centrum Chorób Serca w&nbsp;Zabrzu przeszczepili płuca u&nbsp;pacjenta chorego na&nbsp;mukowiscydozę. Trzydziestoletni pacjent, u&nbsp;którego dokonano transplantacji obu płuc, cierpiał na&nbsp;skrajnie ciężką niewydolność oddechową, wynikającą z&nbsp;przebiegu nabytej genetycznie choroby. Operację wykonał wychowanek prof.&nbsp;Zembali, <b>dr Jacek Wojarski.</b></p>","photoscount":2,"photos":[{"filename":"./img/2005-A.png","owner":"","description":"Dr Jacek Wojarski"},{"filename":"./img/2005-B.png","owner":"","description":"prof. Marian Zembala"}]},{"date":"2006","title":"Pierwsze przeszczepienie kończyny górnej","title2":"Pierwsze przeszczepienie kończyny górnej","month":"","town":"Trzebnica","organ":"Hand","texthtml":"<p>Przeszczepienie wykonał w&nbsp;kwietniu 2006 r. zespół lekarzy i&nbsp;pielęgniarek pod kierownictwem <b>prof. Jerzego Jabłeckiego.</b> Nikt wcześniej nie wykonywał takich operacji w&nbsp;naszym kraju, a&nbsp;w&nbsp;Europie jest zaledwie kilka ośrodków, gdzie przeprowadza się tego rodzaju operacje.</p>","photoscount":2,"photos":[{"filename":"./img/2006-A.png","owner":"","description":"Prof. Jerzy Jabłecki"},{"filename":"./img/2006-B.png","owner":"","description":"Prof. Jerzy Jabłecki"}]},{"date":"2013","title":"Pierwsze przeszczepienie\\nwysepek trzustkowych","title2":"Pierwsze przeszczepienie wysepek trzustkowych","month":"","town":"Warszawa","organ":"Trzustka","texthtml":"<p>Pierwszy na&nbsp;świecie udany przeszczep wysp trzustkowych pod śluzówkę żołądka z&nbsp;użyciem endoskopu przeprowadził u&nbsp;pacjenta polski zespół chirurgów z&nbsp;Katedry i&nbsp;Kliniki Chirurgii Ogólnej i&nbsp;Transplantacyjnej Szpitala Klinicznego Dzieciątka Jezus w&nbsp;Warszawie. Lekarzom przewodził <b>prof. Andrzej Chmura.</b></p>","photoscount":1,"photos":[{"filename":"./img/2013-1.png","owner":"","description":""}]},{"date":"2013","title":"Pierwsze przeszczepienie twarzy","title2":"Pierwsze przeszczepienie twarzy","month":"","town":"Gliwice","organ":"Face","texthtml":"<p>W Instytucie Onkologii w&nbsp;Gliwicach odbyła się pierwsza operacja przeszczepienia twarzy w&nbsp;Polsce. Operacja trwała 25 godzin. Przeszczepienia dokonał <b>prof. Adam Maciejewski.</b> Dwa lata później w&nbsp;tym samym ośrodku prof.&nbsp;Maciejewski dokonał pierwszego przeszczepienia narządów szyi.</p>","photoscount":1,"photos":[{"filename":"./img/2013-2.png","owner":"","description":"Prof. Adam Maciejewski z&nbsp;pacjentem"}]},{"date":"2015","title":"Pierwszy przeszczep krtani\\n(narządów szyi) w Polsce","title2":"Pierwszy przeszczep krtani (narządów szyi) w&nbsp;Polsce","month":"","town":"Gliwice","organ":"Krtan","texthtml":"<p>Pierwszy przeszczep krtani (narządów szyi) w&nbsp;Polsce został przeprowadzony w&nbsp;Centrum Onkologii –&nbsp;Instytucie im. Marii Skłodowskiej-Curie w&nbsp;Gliwicach. Operacja obejmowała przeszczepienie krtani, tchawicy, gardła, przełyku i&nbsp;tarczycy. Pacjentem był 34-letni Michał. Na&nbsp;świecie przeprowadzono wcześniej dwa podobne zabiegi, ale ten był najbardziej rozległy. Zabieg wykonał zespół pod kierownictwem <b>prof. Adama Maciejewskiego.</b></p>","photoscount":1,"photos":[{"filename":"./img/2015-1.png","owner":"","description":""}]},{"date":"2015","title":"Pierwszy w Polsce tzw. przeszczep\\nłańcuchowy nerek","title2":"Pierwszy w&nbsp;Polsce tzw.&nbsp;przeszczep łańcuchowy nerek","month":"","town":"Warszawa","organ":"Kidneys","texthtml":"<p>W Klinice Chirurgii Ogólnej i&nbsp;Transplantacyjnej Szpitala Klinicznego Dzieciątka Jezus w&nbsp;Warszawie wykonano pierwszy w&nbsp;Polsce tzw. przeszczep łańcuchowy nerek pobranych od&nbsp;żywych, niespokrewnionych dawców. \\"Wymianę łańcuchową\\" przeprowadził zespół specjalistów w&nbsp;składzie: <b>prof. Andrzej Chmura, prof.&nbsp;Artur Kwiatkowski</b> oraz <b>dr Rafał Kieszek.</b></p>","photoscount":1,"photos":[{"filename":"./img/2015-2.png","owner":"","description":"Zespół Katedry i&nbsp;Kliniki Chirurgii Ogólnej i&nbsp;Transplantacyjnej Szpitala Klinicznego Dzieciatka Jezus w&nbsp;Warszawie"}]},{"date":"2016","title":"Pierwszy przeszczep kończyny górnej\\nu osoby urodzonej bez ręki","title2":"Pierwszy przeszczep kończyny górnej u&nbsp;osoby urodzonej bez&nbsp;ręki","month":"","town":"Wrocław","organ":"Hand","texthtml":"<p>W Klinice Chirurgii Urazowej i&nbsp;Chirurgii Ręki Uniwersyteckiego Szpitala Klinicznego we Wrocławiu dokonano przeszczepu kończyny górnej 32-letniemu mężczyźnie, który urodził się bez ręki. Była to pionierska operacja na&nbsp;świecie. Przeszczep odbył się dzięki zespołowi chirurgów z&nbsp;<b>dr. Adamem Domanasiewiczem</b> na&nbsp;czele.</p>","photoscount":2,"photos":[{"filename":"./img/2016-A.png","owner":"","description":"Dr Adam Domanasiewicz"},{"filename":"./img/2016-B.png","owner":"","description":"Dr Adam Domanasiewicz"}]},{"date":"2017","title":"Pierwsze w Polsce krzyżowe\\nprzeszczepienie nerek w dwóch różnych\\nklinikach równocześnie","title2":"Pierwsze w&nbsp;Polsce krzyżowe przeszczepienie nerek w&nbsp;dwóch różnych klinikach równocześnie","month":"","town":"Szczecin+Warszawa","organ":"Kidneys","texthtml":"<p>W Wojewódzkim Szpitalu Zespolonym w&nbsp;Szczecinie odbyła się transplantacja nerek od&nbsp;żywych dawców. Jednocześnie identyczny zabieg odbywał się w&nbsp;Klinice Chirurgii Ogólnej i&nbsp;Transplantacyjnej w&nbsp;Szpitalu Dzieciątka Jezus w&nbsp;Warszawie. Narządy transportowano helikopterem. Była to pierwsza tego typu, logistycznie trudna procedura w&nbsp;Polsce. Doszło do wymiany nerek pomiędzy parami, a&nbsp;jednocześnie do wymiany nerek pomiędzy ośrodkami transplantacyjnymi.</p>","photoscount":1,"photos":[{"filename":"./img/2017.png","owner":"","description":"Konferencja prasowa po udanym przeszczepieniu nerek"}]},{"date":"2018","title":"Pierwsza w Polsce operacja jednoczasowego\\nprzeszczepienia serca i wątroby","title2":"Pierwsza w&nbsp;Polsce operacja jednoczasowego przeszczepienia serca&nbsp;i&nbsp;wątroby","month":"","town":"Warszawa","organ":"Heart_Liver","texthtml":"<p>Pierwszą w&nbsp;Polsce operację jednoczasowego przeszczepienia serca i&nbsp;wątroby przeprowadziły dwa ściśle współpracujące ze sobą zespoły chirurgów z&nbsp;Katedry i&nbsp;Kliniki Chirurgii Ogólnej Transplantacyjnej i&nbsp;Wątroby WUM pod przewodnictwem <b>prof. Krzysztofa Zieniewicza</b> oraz z&nbsp;Kliniki Kardiochirurgii Instytutu Kardiologii w&nbsp;Aninie pod przewodnictwem <b>prof. Mariusza Kuśmierczyka.</b> Specjaliści operowali 51-letniego pacjenta.</p>","photoscount":1,"photos":[{"filename":"./img/2018.png","owner":"","description":"Pacjent po przeszczepieniu podczas konferencji prasowej"}]}]}')},function(e,t,n){"use strict";t.a="fonts/AcuminProB.fnt"},function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i,r,a,o,s;e.exports=(r=[],a=document,o=a.documentElement.doScroll,(s=(o?/^loaded|^c/:/^loaded|^i|^c/).test(a.readyState))||a.addEventListener("DOMContentLoaded",i=function(){for(a.removeEventListener("DOMContentLoaded",i),s=1;i=r.shift();)i()}),function(e){s?setTimeout(e,0):r.push(e)})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return J}));n(0);var i=n(17),r=n(18),a=n(3),o=n.n(a),s=n(1),l=n(8),c=n.n(l),h=(n(60),n(61),n(19)),u=n(9),d=n(20),p=n(21),m=n(22),f=n(23),g=n(24),b=n(25),v=n(26),y=n(27),x=n(28),_=n(29),w=n(30),M=n(31),S=n(32),T=n(33),E=n(34),A=n(35),L=n(36),P=n(10),C=n(37),R=n(38),z=n(11),O=n(39),D=n(2),I=n(41),k=n.n(I),N=n(42),B=n.n(N),F=n(43),U=(n(88),n(44)),G=(n(89),n(45)),H=(n(90),n(46)),j=n(4),V=n(47),W=n(12),X=n(48),Y=n(49),q=n(50);n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122);function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var J=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e,this.initThree(),this.initLoader(),this.initSceneConstants(),this.initCanvases(),this.initInteractions(),this.initAudio(),this.initEnvironment(),this.initSkybox(),this.initLights(),this.initTimelineScene(),this.addListeners(),console.log("[M] App initialized")}var n,a,l;return n=t,(a=[{key:"initThree",value:function(){this.renderer=new e.WebGLRenderer({antialias:!0}),this.pixelRatio=Math.min(2,window.devicePixelRatio),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!1,this.camera=new e.PerspectiveCamera(90,window.innerWidth/window.innerHeight,.01,3e3),this.camera.setViewOffset(window.innerWidth,window.innerHeight,0,-40,window.innerWidth,window.innerHeight),this.scene=new e.Scene,this.canvas=this.renderer.domElement,this.clock=new e.Clock(!0),this._modelsLoaded=!1;var t={DEBUG:this.toggleDebug.bind(this)};app.debugui.dgui.add(t,"DEBUG")}},{key:"initLoader",value:function(){this.assetloader=new O.a(this.app),this.renderer.domElement.addEventListener("ModelsLoaded",this.afterLoader.bind(this),!1)}},{key:"initSceneConstants",value:function(){this.currentCameraPos=new e.Vector3,this._clientClicking=!1,this.clientmouseX=0,this.clientmouseY=0,this.dollyStartX=0,this.dollyStartY=0,this.raycastingObjects=[],this.debugObjects=[],this.dates=[],this.cities=[],this.titles=[],this.anatomies=[],this.anatomies_wire=[],this.currentDate=null,this.currentAnatomy=null,this.currentAnatomyWire=null,this.currentTitle=null,this._currentZone=0,this._currentFadedIn=-1,this.currentSphere=null,this.currentDash=null,this.timelineRadius=10,this.numberOfDates=24,this.startAngle=Math.PI/1.6,this.endAngle=2*Math.PI-this.startAngle,this.introAngle=Math.PI/1.7,this.outroAngle=2*Math.PI-this.introAngle,this.spacingAngle=Math.PI/800,this.zone=D.a.createZones(this.numberOfDates,this.startAngle,this.endAngle,"zone_"),this._previousZone=0,this._currentZone=0,this.AnatomyRotationStart=new e.Vector2(0,0),this.AnatomyRotationEnd=new e.Vector2(0,0),this.AnatomyRotationDelta=new e.Vector2(0,0),this.AnatomyRotationDelta.x=0,this.STATE={NONE:-1,DATE_FOCUSED:0,DATE_UNFOCUSED:1,DATE_FOCUSING:2,DATE_UNFOCUSING:3},this.timelinestate=this.STATE.NONE,this.panelOpened=!1,this.atEnd=!1,this.atBeg=!1,this.MOUSESTATE={NONE:-1,ORBIT:0,ANATOMY_DRAG:1,INTERACTING:2},this.focusCounter,this.maxPolar=Math.PI/2-Math.PI/75,this.minPolar=Math.PI/2-Math.PI/6,this.polarDollyScale=.1,this.fogDensity=.05,this.particleUniforms=[],this.numParticles=812,this.minMovement=1,this.maxMovement=1,this.particleColor=new e.Color("rgb(175,188,175)"),this.particleColorAnatomy=new e.Color("rgb(130,130,130)"),this.jsondata=z,this.colorGreen=new e.Color("#30be8e"),this.colorGreenDark=new e.Color("#0e884b"),this.colorLine=new e.Color("rgb(173,173,173)"),this.colorDates=new e.Color("rgb(123,123,123)"),this.fontColor=new e.Color("rgb(83,83,83)"),this.colorGray=new e.Color("rgb(83,83,83)"),this.colorOrgans=new e.Color("rgb(183,183,183)"),this.colorBackground=new e.Color("rgb(210,210,210)"),this.colorAmbient=new e.Color("rgb(155,155,155)"),this.noise=(new e.TextureLoader).load(F.a),this.discsprite=(new e.TextureLoader).load(u.a),this.sphereMaterial=new e.PointsMaterial({color:this.colorLine,transparent:!0,size:.03,map:this.discsprite}),this.sphereMaterialCurrent=new e.PointsMaterial({color:this.colorLine,transparent:!0,size:.03,map:this.discsprite}),this.anatomyDotsMaterial=new e.PointsMaterial({color:this.particleColorAnatomy,transparent:!0,opacity:.2,size:.08,map:this.discsprite}),this.materialGreenDot=new e.PointsMaterial({color:this.colorGreen,transparent:!0,size:.03,map:this.discsprite}),this.materialGreen=new e.MeshPhongMaterial({color:this.colorGreen,shininess:.7,specular:16777215,transparent:!1,side:e.FrontSide}),this.materialGray=new e.MeshPhongMaterial({color:16777215,shininess:.7,specular:16777215,transparent:!1,side:e.FrontSide}),this.materialOrgans=new e.MeshPhongMaterial({displacementMap:this.noise,displacementScale:.3,color:this.colorOrgans,shininess:0,specular:0,transparent:!0,side:e.FrontSide}),this.materialWireframe=new e.MeshBasicMaterial({color:0,transparent:!0,wireframe:!0,opacity:.1}),this.materialDebug=new e.MeshBasicMaterial({color:65280,transparent:!0,opacity:.5}),this.attenuationEase=s.a.utils.pipe(s.a.utils.clamp(0,2),s.a.utils.wrapYoyo(0,1),s.a.parseEase("Power1.easeInOut")),this.attenuationVerticalEase=s.a.utils.pipe(s.a.utils.normalize(this.maxPolar,this.minPolar),s.a.parseEase("Power1.easeInOut")),this.fontFuturaCondReg=this.assetloader.fontloader.parse(h),this.futuraBFntCondB_texture=[],this.futuraBFntCondB_texture=this.assetloader.textureLoader.load(U.a),this.futuraBFntCondM_texture=this.assetloader.textureLoader.load(H.a),this.futuraBFntCond_texture=this.assetloader.textureLoader.load(G.a),this.AcuminPro108_texture=this.assetloader.textureLoader.load(V.a),this.AcuminProB_texture=this.assetloader.textureLoader.load(X.a),this.AcuminPro108L_texture=this.assetloader.textureLoader.load(q.a),this.init_tooltipOn=!1,this.app.debugui.folder_colors=this.app.debugui.dgui.addFolder("Colors")}},{key:"initInteractions",value:function(){this.controls=new i.a(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=this.maxPolar,this.controls.minPolarAngle=this.maxPolar,this.controls.screenSpacePanning=!1,this.controls.enablePan=!1,this.controls.enableDamping=!0,this.controls.enableZoom=!1,this.controls.target.set(0,-.103,0),this.controls.minDistance=11.15,this.controls.maxDistance=20,this.controls.dampingFactor=.05,this.controls.zoomSpeed=.2,this.controls.rotateSpeed=.045,this.controls.maxAzimuthAngle=Math.PI-this.introAngle+Math.PI/71,this.controls.minAzimuthAngle=-Math.PI+this.introAngle-Math.PI/71,this._polarDelta=0;var t=this.renderer.domElement;t.width/this.pixelRatio<768&&t.width<t.height?this.controls.rotateSpeed=.08:this.controls.rotateSpeed=.04,this.camera.position.set(this.controls.minDistance*Math.cos(-Math.PI/2-this.introAngle+Math.PI/10),0,16),this.currentCameraPos=this.camera.position,this.INTERACTIONSTATE={NONE:-1,ROTATE:0,DOLLY:1,ANATOMY_ROTATE:2,TOUCH_ROTATE:3,TOUCH_DOLLY_ROTATE:6},this.interaction_state=this.INTERACTIONSTATE.NONE,this.raycaster=new e.Raycaster,this.mouse=new e.Vector2,this.clientClickX=0,this.clientClickY=0,app.debugui.folder_camera=this.app.debugui.dgui.addFolder("Camera Settings"),app.debugui.folder_camera.add(this.controls,"minDistance",5,20),app.debugui.folder_camera.add(this.controls,"maxDistance",20,60),app.debugui.folder_camera.add(this.controls.target,"y",-5,5,.001)}},{key:"initCanvases",value:function(){this.uiWhereami=document.getElementById("whereami"),this.uiArrowLeft=document.getElementById("arrowleft"),this.uiArrowRight=document.getElementById("arrowright"),this.uiArrowLeftText=document.getElementById("uileft"),this.uiArrowRightText=document.getElementById("uiright"),this.uiVolumeToggle=document.getElementById("volumetoggle"),this.uiVolumeToggle.checked=!1,this.panelPopup=document.getElementById("panelPopup"),this.navfootfix=document.getElementById("navfootfix"),this.init_tooltip=document.getElementById("inittooltip"),this.videobutton=document.getElementById("videosbutton"),this.videopanel=document.getElementById("videopanel"),this.videoclose=document.getElementById("panelVideoClose"),this.initAplas()}},{key:"initEnvironment",value:function(){this.scene.fog=new e.FogExp2(this.colorBackground,this.fogDensity),this.scene.background=this.colorBackground,this.groundEmissiveIntensity=2.1,app.debugui.folder_environment=this.app.debugui.dgui.addFolder("Environment"),this.app.debugui.folder_environment.addThreeColor(this,"colorBackground").name("Background Color"),this.app.debugui.dgui.close(),this.app.debugui.folder_environment.add(this,"fogDensity",0,.2).onChange(function(e){this.scene.fog.density=this.fogDensity}.bind(this))}},{key:"initSkybox",value:function(){var t=(new e.TextureLoader).load(d.a),n=(new e.TextureLoader).load(p.a);t.wrapS=e.RepeatWrapping,n.wrapT=e.RepeatWrapping,n.wrapS=e.RepeatWrapping;var i=new e.MeshBasicMaterial({map:t,side:e.BackSide,fog:!1}),r=new e.MeshBasicMaterial({map:n,side:e.BackSide,fog:!1}),a=[];a.push(i),a.push(i),a.push(r),a.push(r),a.push(i),a.push(i);var o=new e.CubeGeometry(2e3,2e3,2e3),s=new e.MeshFaceMaterial(a);this.skyBox=new e.Mesh(o,s),this.scene.add(this.skyBox)}},{key:"initLights",value:function(){this.ambientLight=new e.AmbientLight(this.colorAmbient),this.scene.add(this.ambientLight),this.ambientLight.intensity=1,this.spotLight=new e.SpotLight(16777215),this.spotLight.name="Spot Light",this.spotLight.angle=Math.PI/4,this.spotLight.position.set(0,10,10),this.spotLight.penumbra=.2,this.spotLight.castShadow=!0,this.spotLight.shadow.camera.near=5,this.spotLight.shadow.camera.far=40,this.spotLight.shadow.mapSize.width=1024,this.spotLight.shadow.mapSize.height=1024,this.spotLight.shadow.bias=-.001,this.spotLight.shadow.radius=2,this.spotLight.intensity=1;var t=new e.CameraHelper(this.spotLight.shadow.camera);t.visible=!1,this.debugObjects.push(t),this.spotLight.add(t),this.lightGroup=new e.Group,this.lightGroup.add(this.spotLight),this.scene.add(this.lightGroup),app.debugui.folder_lights=this.app.debugui.dgui.addFolder("Lights"),app.debugui.folder_environment.addThreeColor(this.ambientLight,"color").name("Ambient color"),app.debugui.folder_environment.add(this.ambientLight,"intensity",0,20).name("Ambient intensity"),app.debugui.folder_lights.addThreeColor(this.spotLight,"color").name("Spotlight color"),app.debugui.folder_lights.add(this.spotLight,"intensity",0,10).name("Spotlight Intensity"),app.debugui.folder_lights.add(this.spotLight,"angle",-3.14,3.14).name("Spotlight Angle"),app.debugui.folder_lights.add(this.spotLight,"penumbra",0,10).name("Penumbra"),app.debugui.folder_lights.add(this.spotLight.position,"x",0,20).name("x"),app.debugui.folder_lights.add(this.spotLight.position,"y",0,20).name("y"),app.debugui.folder_lights.add(this.spotLight.shadow.camera,"near",0,20).name("near"),app.debugui.folder_lights.add(this.spotLight.shadow.camera,"far",0,50).name("far")}},{key:"initTimelineScene",value:function(){this.initTimeline(),this.initParticles(),this.initZoneSpheres(),this.initZoneDates(),this.initCentralObject(),this.initAnatomyModels(),this.initTitle();var t=new e.SphereGeometry(.1,8,8),n=new e.MeshBasicMaterial({color:3355443});this.debugsphere=new e.Mesh(t,n),this.debugsphere.position.set(0,0,0),this.debugsphere.name="this.debugsphere",this.debugsphere.visible=!1,this.debugObjects.push(this.debugsphere),this.scene.add(this.debugsphere)}},{key:"initTitle",value:function(){var t=1.3;this.renderer.domElement.width/this.pixelRatio<1024&&(t=1);var n=new e.Vector3(this.timelineRadius*Math.cos(this.outroAngle-Math.PI/2+Math.PI/314),.56*t,this.timelineRadius*Math.sin(this.outroAngle-Math.PI/2+Math.PI/314));this.makeBfontWriting("Minęły 54 lata od pierwszej w Polsce udanej\ntransplantacji narządu. 26 stycznia 1966 roku\nProfesorowie Jan Nielubowicz (chirurg) i Tadeusz\nOrłowski przeszczepili nerkę pobraną\nod osoby zmarłej.\n\nOd tego czasu polska medycyna transplantacyjna\nstale się rozwija. Stopniowo do praktyki klinicznej\nwłączono przeszczepianie kolejnych narządów:\nserca, wątroby, trzustki, płuc, a także kończyn czy\ntwarzy. Uruchomiono programy pobierania\ni przeszczepiania narządów od żywych dawców\n- nerek, fragmentów wątroby.\n        \nPoznaj kamienie milowe przeszczepiania\nnarządów w Polsce.",j.a,this.AcuminPro108_texture,38e-5*t,2300,120,0,n,"right",3355443,.85,"introtitle",this.scene);var i=new e.Vector3(this.timelineRadius*Math.cos(this.outroAngle-Math.PI/2+Math.PI/314),.025,this.timelineRadius*Math.sin(this.outroAngle-Math.PI/2+Math.PI/314));this.makeBfontWriting("Historia medycyny\ntransplantacyjnej",W.a,this.AcuminProB_texture,9e-4,1800,100,0,i,"right",this.colorGreen,1,"intro",this.scene);var r,a=new e.BoxBufferGeometry(1,1,.01,1,1);(r=new e.Mesh(a,this.materialDebug)).scale.set(1*t,1.1*t,1*t),r.rotation.y=-1.345,r.position.set(n.x-.05*t,n.y-.15*t,n.z-.35*t),r.name="intersectBeggining",r.visible=!1,this.debugObjects.push(r),this.raycastingObjects.push(r),this.scene.add(r),n=new e.Vector3(this.timelineRadius*Math.cos(this.introAngle-Math.PI/2-Math.PI/440),.3717*t,this.timelineRadius*Math.sin(this.introAngle-Math.PI/2-Math.PI/440)),i=new e.Vector3(this.timelineRadius*Math.cos(this.introAngle-Math.PI/2-Math.PI/(86/Math.pow(t,.8))),.122*t,this.timelineRadius*Math.sin(this.introAngle-Math.PI/2-Math.PI/(86/Math.pow(t,.8)))),this.makeBfontWriting("Obecnie, w 30 ośrodkach transplantacyjnych w Polsce\n        rocznie przeszczepia się 1500 różnych narządów.\n\n        Do końca 2019 roku przeszczepiono łącznie ponad\n        34000 narządów.\n        \n        Przed nami kolejne osiągnięcia i uratowane życia\n        dzięki dawcom i specjalistom. Solidarnie dla\n        transplantacji. \n        \n        Więcej o leczeniu przeszczepieniem\n        i idei dawstwa na",j.a,this.AcuminPro108_texture,38e-5*t,2500,120,0,n,"left",3355443,.85,"outrotitle",this.scene),this.makeBfontWriting("zgodanazycie.pl",j.a,this.AcuminPro108_texture,38e-5*t,1e3,120,0,i,"left",this.colorGreen,1,"outro",this.scene),a=new e.BoxBufferGeometry(1,1,.01,1,1),(r=new e.Mesh(a,this.materialDebug)).scale.set(1*t,.8*t,1*t),r.rotation.y=1.345,r.position.set(n.x+.08*t,n.y+.1*t,n.z-.37*t),r.name="intersectEnd",r.visible=!1,this.debugObjects.push(r),this.raycastingObjects.push(r),this.scene.add(r)}},{key:"initTimeline",value:function(){this.timelineMeshes=[],this.LineMaterial=new o.a.MeshLineMaterial({color:this.colorLine,resolution:n,opacity:.9,sizeAttenuation:!0,lineWidth:.03,fog:!0,depthWrite:!0,depthTest:!0,near:this.camera.near,far:this.camera.far,transparent:!0,side:e.DoubleSide}),this.LineEndsMaterial=new o.a.MeshLineMaterial({color:this.colorGreen,resolution:n,opacity:.8,sizeAttenuation:!0,lineWidth:.03,fog:!0,depthWrite:!0,depthTest:!0,near:this.camera.near,far:this.camera.far,transparent:!0,side:e.DoubleSide});for(var t,n=new e.Vector2(this.renderer.domElement.width,this.renderer.domElement.height),i=new e.Geometry,r=new o.a.MeshLine,a=this.introAngle;a<this.zone[0].centerAngle-this.spacingAngle;a+=Math.PI/300){var s=new e.Vector3(this.timelineRadius*Math.cos(a-Math.PI/2),0,this.timelineRadius*Math.sin(a-Math.PI/2));i.vertices.push(s)}for(s=new e.Vector3(this.timelineRadius*Math.cos(this.zone[0].centerAngle-this.spacingAngle-Math.PI/2),0,this.timelineRadius*Math.sin(this.zone[0].centerAngle-this.spacingAngle-Math.PI/2)),i.vertices.push(s),r.setGeometry(i,D.a.LineTapererEnd),t=new e.Mesh(r.geometry,this.LineEndsMaterial),this.timelineMeshes.push(t),i=new e.Geometry,r=new o.a.MeshLine,a=this.zone[this.zone.length-1].centerAngle+this.spacingAngle;a<=this.outroAngle-this.spacingAngle;a+=Math.PI/300)s=new e.Vector3(this.timelineRadius*Math.cos(a-Math.PI/2),0,this.timelineRadius*Math.sin(a-Math.PI/2)),i.vertices.push(s);s=new e.Vector3(this.timelineRadius*Math.cos(this.outroAngle-this.spacingAngle-Math.PI/2),0,this.timelineRadius*Math.sin(this.outroAngle-this.spacingAngle-Math.PI/2)),i.vertices.push(s),r.setGeometry(i,D.a.LineTaperer),t=new e.Mesh(r.geometry,this.LineEndsMaterial),this.timelineMeshes.push(t);for(var l=0;l<this.zone.length-1;l++){for(i=new e.Geometry,r=new o.a.MeshLine,a=this.zone[l].centerAngle+this.spacingAngle;a<this.zone[l+1].centerAngle-this.spacingAngle;a+=Math.PI/300)s=new e.Vector3(this.timelineRadius*Math.cos(a-Math.PI/2),0,this.timelineRadius*Math.sin(a-Math.PI/2)),i.vertices.push(s);s=new e.Vector3(this.timelineRadius*Math.cos(this.zone[l+1].centerAngle-this.spacingAngle-Math.PI/2),0,this.timelineRadius*Math.sin(this.zone[l+1].centerAngle-this.spacingAngle-Math.PI/2)),i.vertices.push(s),r.setGeometry(i,D.a.LineTaper),t=new e.Mesh(r.geometry,this.LineMaterial),this.timelineMeshes.push(t)}for(a=0;a<this.timelineMeshes.length;a++)this.scene.add(this.timelineMeshes[a]);app.debugui.folder_timeline=this.app.debugui.dgui.addFolder("Timeline"),this.app.debugui.folder_environment.add(this.LineMaterial,"lineWidth",0,.1,.005).name("line width"),this.app.debugui.folder_environment.add(this.LineEndsMaterial,"lineWidth",0,.1,.005).name("line width ends")}},{key:"initZoneDates",value:function(){for(var t=0;t<this.zone.length;t++){var n=new e.Vector3((.1+this.timelineRadius)*Math.cos(this.zone[t].centerAngle-Math.PI/2),0,(.1+this.timelineRadius)*Math.sin(this.zone[t].centerAngle-Math.PI/2)),i=this.makeWriting(this.jsondata.daty[this.zone.length-1-t].date,.15,.001,n,this.colorDates,1,!0,!0);i.name="date_"+t.toString(),i.myAngle=this.zone[t].centerAngle,i.myZone=t,this.dates.push(i);var r=new e.Vector3(0,-.04,0),a=6e-4;"Szczecin+Warszawa"==this.jsondata.daty[this.zone.length-1-t].town&&window.innerHeight>window.innerWidth&&(a=4e-4),this.makeBfontWriting(this.jsondata.daty[this.zone.length-1-t].town,Y.a,this.AcuminPro108L_texture,a,2e3,128,10,r,"center",this.colorDates,0,"city_"+t.toString(),i.textgroup)}for(var o=0;o<this.dates.length;o++)this.scene.add(this.dates[o])}},{key:"initAplas",value:function(){this.timelineAplas=[],this.panelPopupClose=[],this.panelPrev=[],this.panelNext=[],this.slideIndex=[];for(var e=0;e<this.zone.length;e++){var t=document.createElement("div");t.className="apla-wrap",t.classNameWithDot=".apla-wrap",t.id="apla_"+e.toString();var n=this.jsondata.daty[this.zone.length-1-e].month;n=D.a.isEmptyOrSpaces(n)?this.jsondata.daty[this.zone.length-1-e].town:n+" | "+this.jsondata.daty[this.zone.length-1-e].town;var i="";if(1==this.jsondata.daty[this.zone.length-1-e].photoscount){i+='\n                                <div class="slideshow-table">\n                                <div class="left-content">\n                                </div>\n                                <div class="slideshow-container">';for(var r=0;r<this.jsondata.daty[this.zone.length-1-e].photos.length;r++)i=i+'<div class="mySlides fade slide_'+e.toString()+' ">\n                    <img src="'+this.jsondata.daty[this.zone.length-1-e].photos[r].filename+'" style="width:100%">\n                    </div>';i+='</div>\n                <div class="right-content">\n                </div>\n                </div>'}else if(this.jsondata.daty[this.zone.length-1-e].photoscount>1){for(i=i+'\n                                <div class="slideshow-table">\n                                <div class="left-content">\n                                    <a class="prev" id="slideprev_'+e.toString()+'">&#x003C;</a>\n                                </div>\n                                <div class="slideshow-container">',r=0;r<this.jsondata.daty[this.zone.length-1-e].photos.length;r++)i=i+'<div class="mySlides fade slide_'+e.toString()+' ">\n                    <img src="'+this.jsondata.daty[this.zone.length-1-e].photos[r].filename+'" style="width:100%">\n                    </div>';i=i+'</div>\n                <div class="right-content">\n                    <a class="next" id="slidenext_'+e.toString()+'">&#x003E;</a>\n                </div>\n                </div>'}var a='<div class="apla">\n                                <div class="headr">\n                                    <div class="close-container" id="panelPopupClose_'+e.toString()+'">\n                                        <div class="leftright"></div>\n                                        <div class="rightleft"></div>\n                                    </div>\n                                    <h3>'+this.jsondata.daty[this.zone.length-1-e].title2+"</h3>\n                                \n                                <h2>"+this.jsondata.daty[this.zone.length-1-e].date+"</h2></div>"+i+'<div class = "textual"><p>'+n+"</p>\n                            <p>"+this.jsondata.daty[this.zone.length-1-e].texthtml+"</p>\n                            </div></div>";t.innerHTML=a,this.app.htmlcontainer.appendChild(t),this.timelineAplas.push(t),this.panelPopupClose.push(document.getElementById("panelPopupClose_"+e.toString())),this.panelPrev.push(document.getElementById("slideprev_"+e.toString())),this.panelNext.push(document.getElementById("slidenext_"+e.toString())),this.slideIndex.push(1)}this.resizeAplas()}},{key:"resizeAplas",value:function(){var e=this.renderer.domElement,t=Math.max(.75,e.height/this.pixelRatio*78e-5+.27);if(e.width/this.pixelRatio>768)for(var n=0;n<this.zone.length;n++)this.timelineAplas[n].style.transform="translate(-50%, -50%) scale("+t+","+t+")";else for(console.log("less"),n=0;n<this.zone.length;n++)this.timelineAplas[n].style.transform="translate(0%, 0%) scale(1.0)"}},{key:"initZoneSpheres",value:function(){this.initialSphereSize=.02,this.timelineSpheres=[];for(var t=0;t<this.zone.length;t++){var n=new e.BufferGeometry,i=new Float32Array([0,0,0]);n.setAttribute("position",new e.Float32BufferAttribute(i,3));var r=new e.Points(n,this.sphereMaterial);r.position.set(this.timelineRadius*Math.cos(this.zone[t].centerAngle-Math.PI/2),0,this.timelineRadius*Math.sin(this.zone[t].centerAngle-Math.PI/2)),r.name="sphere_"+t.toString(),r.visible=!0,r.originalPosition=new e.Vector3,r.originalPosition.copy(r.position),this.timelineSpheres.push(r)}this.LineDashedMaterial=new o.a.MeshLineMaterial({color:16777215,resolution:s,opacity:1,sizeAttenuation:!0,lineWidth:.01,dashArray:.01,depthWrite:!0,depthTest:!0,near:this.camera.near,far:this.camera.far,transparent:!0,visibility:0,side:e.DoubleSide});for(var a,s=new e.Vector2(this.renderer.domElement.width,this.renderer.domElement.height),l=(n=new e.Geometry,0);l<1;l+=.05){var c=new e.Vector3(r.originalPosition.x*(1.1-l),0,r.originalPosition.y*(1.1-l));n.vertices.push(c)}for(t=0;t<this.zone.length;t++){var h=new o.a.MeshLine;h.setGeometry(n,D.a.LineTaper),(a=new e.Mesh(h.geometry,this.LineDashedMaterial)).rotation.set(0,-Math.PI/2-this.zone[t].centerAngle,0),a.name="dashline_"+t.toString(),a.visible=!0,this.timelineSpheres[t].dashedLine=a}for(l=0;l<this.timelineSpheres.length;l++)this.scene.add(this.timelineSpheres[l]),this.scene.add(this.timelineSpheres[l].dashedLine)}},{key:"initCentralObject",value:function(){this.central_anchor=new e.Group,this.central_anchor.fadeOutAnims=[],this.central_anchor.fadeInAnims=[],this.central_anchor.central_dot=new e.Group;var t=new e.CircleGeometry(1,32);this.central_anchor.central_dot.material_1=new e.MeshBasicMaterial({color:this.colorGreen,transparent:!0,opacity:.25}),this.central_anchor.central_dot.material_2=new e.MeshBasicMaterial({color:this.colorGreen,transparent:!0,opacity:.25}),this.central_anchor.central_dot.material_3=new e.MeshBasicMaterial({color:this.colorGreen,transparent:!0,opacity:.25}),this.central_anchor.central_dot.material_4=new e.MeshBasicMaterial({color:this.colorGreen,transparent:!0,opacity:.25}),this.central_anchor.central_dot.material_5=new e.MeshBasicMaterial({color:this.colorGreen,transparent:!0,opacity:1});var n=new e.Mesh(t,this.central_anchor.central_dot.material_1);n.scale.set(1,1,1),n.position.z-=.05,this.central_anchor.central_dot.add(n),s.a.fromTo(n.scale,{x:.2,y:.2},{x:1.2,y:1.2,duration:4,delay:0,ease:"power2.in",repeat:-1}),s.a.fromTo(n.material,{opacity:.5},{opacity:0,duration:4,delay:0,ease:"power2.in",repeat:-1}),(n=new e.Mesh(t,this.central_anchor.central_dot.material_2)).scale.set(.75,.75,.75),n.position.z-=.048,this.central_anchor.central_dot.add(n),s.a.fromTo(n.scale,{x:.2,y:.2},{x:1.2,y:1.2,duration:4,delay:-1,ease:"power2.in",repeat:-1}),s.a.fromTo(n.material,{opacity:.5},{opacity:0,duration:4,delay:-1,ease:"power2.in",repeat:-1}),(n=new e.Mesh(t,this.central_anchor.central_dot.material_3)).scale.set(.5,.5,.5),n.position.z-=.046,this.central_anchor.central_dot.add(n),s.a.fromTo(n.scale,{x:.2,y:.2},{x:1.2,y:1.2,duration:4,delay:-2,ease:"power2.in",repeat:-1}),s.a.fromTo(n.material,{opacity:.5},{opacity:0,duration:4,delay:-2,ease:"power2.in",repeat:-1}),(n=new e.Mesh(t,this.central_anchor.central_dot.material_4)).scale.set(.4,.4,.4),n.position.z-=.044,this.central_anchor.central_dot.add(n),s.a.fromTo(n.scale,{x:.2,y:.2},{x:1.2,y:1.2,duration:4,delay:-3,ease:"power2.in",repeat:-1}),s.a.fromTo(n.material,{opacity:.5},{opacity:0,duration:4,delay:-3,ease:"power2.in",repeat:-1}),this.central_anchor.hovercircle=new e.Mesh(t,this.central_anchor.central_dot.material_5),this.central_anchor.hovercircle.scale.set(.2,.2,.2),this.central_anchor.hovercircle.position.z=.6,this.central_anchor.hovercircle.position.y=.02,this.central_anchor.central_dot.add(this.central_anchor.hovercircle),this.central_anchor.hovercircle.visible=!1;var i=new e.SphereBufferGeometry(1,8,8),r=new e.Mesh(i,this.materialDebug);r.scale.set(1,1,1),r.name="intersect_dot",r.visible=!1,this.debugObjects.push(r),this.raycastingObjects.push(r),this.central_anchor.add(r),this.central_anchor.add(this.central_anchor.central_dot),this.central_anchor.titleAnchor=new e.Object3D,this.central_anchor.titleAnchor.position.y=1.99,this.central_anchor.add(this.central_anchor.titleAnchor),this.central_anchor.rotator=new e.Object3D,this.central_anchor.add(this.central_anchor.rotator),this.central_anchor.rotator.rotation.x=.25,this.scene.add(this.central_anchor);var a=new e.Mesh(i,this.materialDebug);a.scale.set(3.2,3.2,3.2),a.position.set(0,6,0),a.name="intersectRotator",a.visible=!1,this.debugObjects.push(a),this.raycastingObjects.push(a),this.central_anchor.rotator.add(a);var o=new e.BoxBufferGeometry(1,1,.1,1,1),l=new e.Mesh(o,this.materialDebug);l.scale.set(10,1.6,1),l.position.set(0,1.9,0),l.name="intersect_dot",l.visible=!1,this.debugObjects.push(l),this.raycastingObjects.push(l),this.central_anchor.add(l),(l=new e.Mesh(o,this.materialDebug)).scale.set(5,.8,1),l.position.set(3,0,0),l.name="intersect_dot",l.visible=!1,this.debugObjects.push(l),this.raycastingObjects.push(l),this.central_anchor.add(l),(l=new e.Mesh(o,this.materialDebug)).scale.set(.3,.04,.1),l.rotation.y=1.345,l.position.set(this.timelineRadius*Math.cos(this.introAngle-Math.PI/2-Math.PI/65),.12,this.timelineRadius*Math.sin(this.introAngle-Math.PI/2-Math.PI/65)),l.name="intersectAddress",l.visible=!1,this.debugObjects.push(l),this.raycastingObjects.push(l),this.scene.add(l);for(var c=0;c<this.zone.length;c++)this.makeBfontWriting(this.jsondata.daty[this.zone.length-1-c].title,W.a,this.AcuminProB_texture,.0062,2248,90,0,new e.Vector3,"center",this.colorDates,0,"title_"+c.toString(),this.central_anchor.titleAnchor);this.makeBfontWriting("dowiedz się więcej",j.a,this.AcuminPro108_texture,.004,1200,128,0,new e.Vector3(1,.09,0),"left",this.colorAmbient,0,"click-for-more-test",this.central_anchor.central_dot),this.makeBfontWriting("< ",j.a,this.AcuminPro108_texture,.004,300,128,0,new e.Vector3(.7,.09,0),"left",this.colorAmbient,0,"click-for-more-test3",this.central_anchor.central_dot),this.scaleeee=1,app.debugui.folder_models=this.app.debugui.dgui.addFolder("Model Settings"),this.app.debugui.folder_models.add(this,"scaleeee",0,1,.01).name("scale ").onChange(function(e){this.zone_title.style.opacity=e,this.materialOrgans.opacity=e,this.materialWireframe.opacity=e/10,this.updateWithMovement()}.bind(this)),this.app.debugui.folder_models.add(this.central_anchor.position,"z",-90,0,.1).name("position ").onChange(function(e){this.updateWithMovement()}.bind(this))}},{key:"fadeOutTooltip",value:function(){console.log("fadingo out"),this.init_tooltipOn&&(this.init_tooltipOn=!1,console.log("fadingo outtgygg"),s.a.to(this.init_tooltip,{opacity:0,duration:.5,ease:"power2.out"}),document.removeEventListener("mousedown",this.fadeOutListener,!1),document.removeEventListener("wheel",this.fadeOutListener,!1),document.removeEventListener("touchstart",this.fadeOutListener,!1))}},{key:"afterLoader",value:function(){this.model_lung_outline=this.scene.getObjectByName("model_lung_wireframe"),this.currentModel=null,this.backgroundMusic=this.scene.getObjectByName("BackgroundAudio"),void 0!==this.backgroundMusic&&this.backgroundMusic.play(),this.click_for_more=this.scene.getObjectByName("click-for-more-test"),this.click_for_more3=this.scene.getObjectByName("click-for-more-test3"),this.intoTitle=this.scene.getObjectByName("introtitle"),this.into=this.scene.getObjectByName("intro"),this.outrotitle=this.scene.getObjectByName("outrotitle"),this.outro=this.scene.getObjectByName("outro"),this.intoTitle.rotation.y=-1.3341268149454832,this.intoTitle.rotation.x=-.1795632826398653,this.intoTitle.rotation.z=-.1746604038041546,this.into.rotation.y=-1.3341268149454832,this.into.rotation.x=-.1795632826398653,this.into.rotation.z=-.1746604038041546,this.outrotitle.rotation.y=1.3341268149454832,this.outro.rotation.y=1.3341268149454832;for(var e=0;e<this.zone.length;e++)this.dates[e].city=this.scene.getObjectByName("city_"+e.toString()),this.titles.push(this.scene.getObjectByName("title_"+e.toString())),this.anatomies.push(this.scene.getObjectByName("model_"+z.daty[this.zone.length-1-e].organ));console.log(this.anatomies),this.central_anchor.position.x=this.timelineRadius*Math.cos(this.outroAngle-Math.PI/2),this.central_anchor.position.z=this.timelineRadius*Math.sin(this.outroAngle-Math.PI/2),this.central_anchor.scale.setScalar(.1),this.central_anchor.central_dot.scale.setScalar(.5),this.central_anchor.central_dot.material_1.color.r=this.colorGray.r,this.central_anchor.central_dot.material_1.color.g=this.colorGray.g,this.central_anchor.central_dot.material_1.color.b=this.colorGray.b,this.central_anchor.central_dot.material_2.color.r=this.colorGray.r,this.central_anchor.central_dot.material_2.color.g=this.colorGray.g,this.central_anchor.central_dot.material_2.color.b=this.colorGray.b,this.central_anchor.central_dot.material_3.color.r=this.colorGray.r,this.central_anchor.central_dot.material_3.color.g=this.colorGray.g,this.central_anchor.central_dot.material_3.color.b=this.colorGray.b,this.central_anchor.central_dot.material_4.color.r=this.colorGray.r,this.central_anchor.central_dot.material_4.color.g=this.colorGray.g,this.central_anchor.central_dot.material_4.color.b=this.colorGray.b,this.updateWithMovement(),this.switchZone(),this.updateWithMovement(),this.resizeAplas(),this.fadeOutListener=this.fadeOutTooltip.bind(this),s.a.to(this.camera.position,{x:.99*this.controls.minDistance*Math.cos(-Math.PI/2-this.introAngle+Math.PI/100),y:0,z:.99*this.controls.minDistance*Math.sin(-Math.PI/2-this.introAngle+Math.PI/71),duration:3,ease:"power1.inOut",onComplete:function(){this._modelsLoaded=!0,this.init_tooltipOn=!0,s.a.to(this.init_tooltip,{opacity:1,duration:.5,ease:"power2.out"}),document.addEventListener("mousedown",this.fadeOutListener,!1),document.addEventListener("touchstart",this.fadeOutListener,!1),document.addEventListener("wheel",this.fadeOutListener,!1),this.addListenersAFterAnimation()}.bind(this)}),app.debugui.folder_titles=this.app.debugui.dgui.addFolder("Titles"),this.app.debugui.folder_titles.add(this.intoTitle.rotation,"x",-Math.PI,Math.PI,.01),this.app.debugui.folder_titles.add(this.intoTitle.rotation,"y",-Math.PI,Math.PI,.01),this.app.debugui.folder_titles.add(this.intoTitle.rotation,"z",-Math.PI,Math.PI,.01)}},{key:"initParticles",value:function(){this.simparPositions=new Float32Array(3*this.numParticles*2);var t=(new e.TextureLoader).load(u.a);this.particleUniforms={texx:{type:"t",value:t},color:{value:this.particleColor},time:{value:1},fogDensity:{value:.1},fogColor:{value:this.colorBackground},pointSize:{value:5},pointSize_min:{value:.4},simplex_scale:{value:1},fbm2d_scale:{value:50},fbm2d_octaves:{value:6},point_loc_noise:{value:1},opacity_noise:{value:.5},frequency:{value:.3},noise_mov_offset:{value:100},noise_mov_decay:{value:2},noise_mov_decay_min:{value:.01},noise_elevation:{value:50},noise_elevation_min:{value:1},noise_elevation_offset:{value:1}};for(var n=0,i=.1,r=Math.round(0*Math.sqrt(this.numParticles)),a=0,o=(Math.sqrt(5)+1)/2,s=0;s<this.numParticles;s++)i=s>this.numParticles-r?1:Math.sqrt(s+.5)/Math.sqrt(this.numParticles-(r+1)/2),a=s*Math.PI*o,i=Math.exp(4*i),this.simparPositions[n]=i*Math.cos(a),this.simparPositions[n+1]=0,this.simparPositions[n+2]=i*Math.sin(a),n+=3;for(s=0;s<this.numParticles;s++)i=s>this.numParticles-r?1:Math.sqrt(s+.5)/Math.sqrt(this.numParticles-(r+1)/2),a=s*Math.PI*o,i=Math.exp(4*i),this.simparPositions[n]=i*Math.cos(a),this.simparPositions[n+1]=-2,this.simparPositions[n+2]=i*Math.sin(a),n+=3;var l=new e.BufferGeometry;l.setAttribute("position",new e.BufferAttribute(this.simparPositions,3));var h=new e.ShaderMaterial({uniforms:this.particleUniforms,vertexShader:c()(f.a),fragmentShader:c()(m.a)});h.alphaTest=.5,h.transparent=!0,this.particles=new e.Points(l,h),this.particles.name="particles",this.scene.add(this.particles),this.particles.position.y=-2,app.debugui.folder_particles=this.app.debugui.dgui.addFolder("Particles"),this.app.debugui.folder_particles.addThreeColor(this.particleUniforms.color,"value").name("Particle Color"),this.app.debugui.folder_particles.add(this.particles.position,"y",-10,10,.1).name("particles position"),this.app.debugui.folder_particles.add(this.particleUniforms.fogDensity,"value",0,.1,.001).name("fog density"),this.app.debugui.folder_particles.add(this.particleUniforms.pointSize,"value",0,20).name("Size"),this.app.debugui.folder_particles.add(this.particleUniforms.pointSize_min,"value",0,20).name("min Size "),this.app.debugui.folder_particles.add(this.particleUniforms.simplex_scale,"value",0,10,.1).name("simplex_scale"),this.app.debugui.folder_particles.add(this.particleUniforms.fbm2d_scale,"value",0,500,1).name("fbm2d_scale"),this.app.debugui.folder_particles.add(this.particleUniforms.fbm2d_octaves,"value",1,10,1).name("fbm2d_octaves"),this.app.debugui.folder_particles.add(this.particleUniforms.point_loc_noise,"value",0,20,.1).name("point_loc_noise"),this.app.debugui.folder_particles.add(this.particleUniforms.opacity_noise,"value",0,1,.01).name("opacity_noise"),this.app.debugui.folder_particles.add(this.particleUniforms.frequency,"value",0,10).name("frequency"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_mov_offset,"value",0,1e3,.5).name("noise_mov_offset"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_mov_decay,"value",0,5,.1).name("noise_mov_decay"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_mov_decay_min,"value",0,10,.001).name("noise_mov_decay_min"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_elevation,"value",0,300,.1).name("noise_elevation"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_elevation_min,"value",0,5,.01).name("noise_elevation_min"),this.app.debugui.folder_particles.add(this.particleUniforms.noise_elevation_offset,"value",0,100).name("noise_elevation_offset")}},{key:"loadModelGltf",value:function(t,n,i,r,a,o,s,l){var c=this,h=new e.Object3D;return this.assetloader.gltfLoader.load(t,(function(t){(h=t.scene).name=n,h.traverse(D.a.disposeMaterial),h.traverse((function(t){if(t.isMesh){if(0==o){t.material=c.materialOrgans,new e.Points(t.geometry,c.anatomyDotsMaterial);var n=new e.Mesh(t.geometry,c.materialWireframe);h.add(n)}else t.material=c.materialWireframe;t.geometry.computeBoundingBox(),h.boundingSize=new e.Vector3,t.geometry.boundingBox.getSize(h.boundingSize);var i=new e.BoxBufferGeometry(h.boundingSize.x,h.boundingSize.y,h.boundingSize.z,1,1,1),r=new e.MeshBasicMaterial({color:65280,transparent:!0,opacity:.5}),a=new e.Mesh(i,r);a.geometry.computeBoundingBox(),a.position.y=t.geometry.boundingBox.min.y+h.boundingSize.y/2,a.position.x=t.geometry.boundingBox.min.x+h.boundingSize.x/2,a.position.z=t.geometry.boundingBox.min.z+h.boundingSize.z/2,a.visible=!1,a.name="intersectBox",c.debugObjects.push(a),h.add(a),h.visible=l}})),h.rotation.copy(r),h.position.copy(i),h.scale.set(a,a,a),void 0===s?c.scene.add(h):s.add(h)}),(function(e){}),(function(e){console.log("An error on gltf loading"),console.log("Error",e.name),console.log("Error",e.message)})),h}},{key:"makeBfontWriting",value:function(t,n,i,r,a,o,s,l,c,h,u,d,p){B()(n,function(n,m){var f=k()({width:a,lineHeight:o,letterSpacing:s,align:c,font:m});f.update(t);var g=new e.MeshBasicMaterial({transparent:!0,map:i,opacity:u,depthTest:!1,side:e.DoubleSide,color:h}),b=new e.Group;b.textMesh=new e.Mesh(f,g);var v=f.layout;b.textMesh.position.y=v.height/2,b.add(b.textMesh),"left"==c||("center"==c?b.textMesh.position.x=-v.width/2:"right"==c&&(b.textMesh.position.x=-v.width)),b.scale.set(r,-r,-r),b.position.copy(l),p.add(b),b.name=d}.bind(this))}},{key:"makeWriting",value:function(t,n,i,r,a,o,s,l,c){var h=new e.Group;h.textgroup=new e.Group;var u=new e.TextGeometry(t,{font:this.fontFuturaCondReg,size:n,height:i,curveSegments:12,bevelEnabled:!1}),d=[new e.MeshBasicMaterial({color:a,flatShading:!0,transparent:!0,opacity:o}),new e.MeshBasicMaterial({color:a,flatShading:!1,transparent:!0,opacity:o})];(u=(new e.BufferGeometry).fromGeometry(u)).computeBoundingBox(),h.boundingSize=new e.Vector3,u.boundingBox.getSize(h.boundingSize),h.textMesh=new e.Mesh(u,d);var p=h.boundingSize.x/2+u.boundingBox.min.x;if(h.textMesh.position.x-=p,h.textMesh.name="textMesh",h.textMesh.castShadow=!1,l){var m=new e.PlaneGeometry(h.boundingSize.x,h.boundingSize.y,1),f=new e.MeshBasicMaterial({color:this.colorBackground,transparent:!0,opacity:0});h.plane=new e.Mesh(m,f),h.plane.position.y=u.boundingBox.min.y+h.boundingSize.y/2,h.textgroup.add(h.plane)}var g=new e.BoxBufferGeometry(h.boundingSize.x,h.boundingSize.y,3*h.boundingSize.z),b=new e.Mesh(g,this.materialDebug);return b.position.y=u.boundingBox.min.y+h.boundingSize.y/2,b.visible=!1,b.name="intersectBox",this.debugObjects.push(b),h.textgroup.add(b),h.textgroup.add(h.textMesh),h.add(h.textgroup),h.position.copy(r),h.originalPosition=r,h.rotation.x=0,h.rotation.y=0,void 0===c?this.scene.add(h):c.add(h),s&&this.raycastingObjects.push(b),h}},{key:"importAudio",value:function(t,n,i,a,o){var s;if(o){(s=new e.PositionalAudio(this.audioListener)).setRefDistance(1),s.setDirectionalCone(this.innerConeAudio,this.outerConeAudio,0);var l=new r.a(s,5);l.visible=!1,l.position.y=.01,this.scene.add(l),this.debugObjects.push(l),s.add(l)}else s=new e.Audio(this.audioListener);s.name=n,this.assetloader.audioLoader.load(t,function(e){s.setBuffer(e),s.setLoop(a),s.setVolume(i),this.scene.add(s)}.bind(this),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"),console.log("Error",e.name),console.log("Error",e.message)}))}},{key:"initAudio",value:function(){this.muted=!1,this.hidden="hidden",this.visibilityChange="visibilitychange",void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange",console.log(this.hidden)):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange",console.log(this.hidden)):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange",console.log(this.hidden)),this.audioListener=new e.AudioListener,this.camera.add(this.audioListener),this.importAudio(g.a,"BackgroundAudio",.05,!0,!1)}},{key:"switchZone",value:function(){if(this._modelsLoaded){if(-1!=this._currentZone&&-2!=this._currentZone){this.central_anchor.position.x=0,this.central_anchor.position.z=0,this.currentDate=this.dates[this._currentZone],this.currentSphere=this.timelineSpheres[this._currentZone],this.currentDash=this.timelineSpheres[this._currentZone].dashedLine,this.currentTitle=this.titles[this._currentZone],this.currentAnatomy=this.anatomies[this._currentZone];for(var e=0;e<this.timelineSpheres.length;e++)this.timelineSpheres[e].material=this.sphereMaterial,this.timelineSpheres[e].dashedLine.visible=!1;this.currentSphere.material=this.materialGreenDot,this.currentDash.visible=!0,this.atBeg&&(this.atBeg=!1),this.atEnd&&(this.atEnd=!1)}else this.currentDate=null,this.currentSphere=null,this.currentDash=null,this.currentTitle=null,this.currentAnatomy=null,this.currentAnatomyWire=null;-1==this._currentZone&&(this.atBeg=!0),-2==this._currentZone&&(this.atEnd=!0)}}},{key:"updateDates",value:function(){for(var e=0;e<this.dates.length;e++)this.dates[e].rotation.y=this.controls.getAzimuthalAngle(),this.dates[e].textgroup.position.x=-this.dates[e].boundingSize.x*Math.sin(-this.controls.getAzimuthalAngle()-this.dates[e].myAngle)}},{key:"lookOnMouseAnatomy",value:function(t,n,i,r){var a=D.a.getMouseDegrees(t,n,r,window.innerWidth,window.innerHeight);i.rotation.y=e.Math.degToRad(a.x),i.rotation.x=e.Math.degToRad(a.y/10)}},{key:"updateWithMovement",value:function(){this.updateDates(),this.central_anchor.rotation.y=this.controls.getAzimuthalAngle(),this.currentAngle=this.controls.getAzimuthalAngle();var e=D.a.getCurrentZone(this.currentAngle,this.startAngle,this.endAngle,this.numberOfDates-1,Math.PI,this.introAngle);this._currentZone=e.zone,this._currentZoneAttenuation=this.attenuationEase(2*e.zonePos),this._previousZone!==this._currentZone&&this._modelsLoaded&&(null!==this.currentDate&&(this.currentDate.position.z=this.currentDate.originalPosition.z,this.currentDate.position.x=this.currentDate.originalPosition.x,this.currentDate.scale.x=1,this.currentDate.scale.y=1,this.currentDate.scale.z=1,this.currentDate.plane.material.opacity=0,this.currentDate.city.textMesh.material.opacity=0),null!==this.currentSphere&&(this.materialGreenDot.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,0),this.materialGreenDot.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,0),this.materialGreenDot.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,0),this.central_anchor.central_dot.material_1.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,0),this.central_anchor.central_dot.material_1.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,0),this.central_anchor.central_dot.material_1.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,0),this.central_anchor.central_dot.material_2.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,0),this.central_anchor.central_dot.material_2.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,0),this.central_anchor.central_dot.material_2.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,0),this.central_anchor.central_dot.material_3.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,0),this.central_anchor.central_dot.material_3.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,0),this.central_anchor.central_dot.material_3.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,0),this.central_anchor.central_dot.material_4.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,0),this.central_anchor.central_dot.material_4.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,0),this.central_anchor.central_dot.material_4.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,0),this.currentSphere.position.z=this.currentSphere.originalPosition.z,this.currentSphere.position.x=this.currentSphere.originalPosition.x,this.currentSphere.scale.set(1,1,1)),null!==this.currentDash&&(this.currentDash.material.uniforms.visibility.value=0),this._previousZone=this._currentZone,this.switchZone()),this._modelsLoaded&&(null!==this.currentDate&&(this.currentDate.position.z=this.currentDate.originalPosition.z+this.currentDate.originalPosition.z*this._currentZoneAttenuation*.03,this.currentDate.position.x=this.currentDate.originalPosition.x+this.currentDate.originalPosition.x*this._currentZoneAttenuation*.03,this.currentDate.scale.x=1+.5*this._currentZoneAttenuation,this.currentDate.scale.y=1+.5*this._currentZoneAttenuation,this.currentDate.scale.z=1+.5*this._currentZoneAttenuation,this.currentDate.plane.material.opacity=0*this._currentZoneAttenuation,this.currentDate.city.textMesh.material.opacity=this._currentZoneAttenuation),null!==this.currentSphere&&(this.currentSphere.position.z=this.currentSphere.originalPosition.z-this.currentSphere.originalPosition.z*this._currentZoneAttenuation,this.currentSphere.position.x=this.currentSphere.originalPosition.x-this.currentSphere.originalPosition.x*this._currentZoneAttenuation,this.currentSphere.scale.set(1+30*this._currentZoneAttenuation,1+30*this._currentZoneAttenuation,1+30*this._currentZoneAttenuation),this.central_anchor.central_dot.scale.setScalar(.6*(1+this._currentZoneAttenuation)),this.materialGreenDot.size=.03*(1+15*this._currentZoneAttenuation),this.materialGreenDot.color.r=s.a.utils.interpolate(this.colorLine.r,this.colorGreen.r,this._currentZoneAttenuation),this.materialGreenDot.color.g=s.a.utils.interpolate(this.colorLine.g,this.colorGreen.g,this._currentZoneAttenuation),this.materialGreenDot.color.b=s.a.utils.interpolate(this.colorLine.b,this.colorGreen.b,this._currentZoneAttenuation),this.central_anchor.central_dot.material_1.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,this._currentZoneAttenuation),this.central_anchor.central_dot.material_1.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,this._currentZoneAttenuation),this.central_anchor.central_dot.material_1.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,this._currentZoneAttenuation),this.central_anchor.central_dot.material_2.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,this._currentZoneAttenuation),this.central_anchor.central_dot.material_2.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,this._currentZoneAttenuation),this.central_anchor.central_dot.material_2.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,this._currentZoneAttenuation),this.central_anchor.central_dot.material_3.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,this._currentZoneAttenuation),this.central_anchor.central_dot.material_3.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,this._currentZoneAttenuation),this.central_anchor.central_dot.material_3.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,this._currentZoneAttenuation),this.central_anchor.central_dot.material_4.color.r=s.a.utils.interpolate(this.colorGray.r,this.colorGreen.r,this._currentZoneAttenuation),this.central_anchor.central_dot.material_4.color.g=s.a.utils.interpolate(this.colorGray.g,this.colorGreen.g,this._currentZoneAttenuation),this.central_anchor.central_dot.material_4.color.b=s.a.utils.interpolate(this.colorGray.b,this.colorGreen.b,this._currentZoneAttenuation)),null!==this.currentDash&&(this.currentDash.material.uniforms.visibility.value=this._currentZoneAttenuation),-1==this._currentZone&&(this.atBeg=!0,this.central_anchor.position.x=s.a.utils.interpolate(0,this.timelineRadius*Math.cos(this.introAngle-Math.PI/2),1-e.zonePos),this.central_anchor.position.z=s.a.utils.interpolate(0,this.timelineRadius*Math.sin(this.introAngle-Math.PI/2),1-e.zonePos),this.central_anchor.scale.set(.1+.9*e.zonePos,.1+.9*e.zonePos,.1+.9*e.zonePos)),-2==this._currentZone&&(this.atEnd=!0,this.central_anchor.position.x=s.a.utils.interpolate(0,this.timelineRadius*Math.cos(this.outroAngle-Math.PI/2),e.zonePos),this.central_anchor.position.z=s.a.utils.interpolate(0,this.timelineRadius*Math.sin(this.outroAngle-Math.PI/2),e.zonePos),this.central_anchor.scale.set(1-.9*e.zonePos,1-.9*e.zonePos,1-.9*e.zonePos)))}},{key:"initializeFocusTimelines",value:function(){for(var e=0;e<this.zone.length;e++){var t=new s.a.timeline({paused:!0});t.startingZone=Object.assign({},{value:e}),console.log(t.startingZone),console.log(t.startingZone.value),t.to(this.materialOrgans,{opacity:1,duration:1.3,onEnter:function(){console.log("Fading in zone:"),console.log(t.startingZone.value),console.log(this.anatomies[t.startingZone.value]),this.anatomies[t.startingZone.value].visible=!0,this.timelinestate=this.STATE.DATE_FOCUSING}.bind(this),onComplete:function(){this.timelinestate=this.STATE.DATE_FOCUSED}.bind(this)},0).to(this.materialWireframe,{opacity:.1,duration:1.3},0).to(this.anatomyDotsMaterial,{opacity:.2,duration:1.3},0).to(this.click_for_more.textMesh.material,{opacity:1,duration:1.3},0).to(this.click_for_more3.textMesh.material,{opacity:1,duration:1.3},0).to(this.titles[t.startingZone.value].textMesh.material,{opacity:1,duration:1.3},0),this.central_anchor.fadeInAnims.push(t),console.log(this.central_anchor.fadeInAnims[e])}for(e=0;e<this.zone.length;e++){var n=new s.a.timeline({paused:!0});n.startingZone=Object.assign({},{value:e}),n.to(this.materialOrgans,{opacity:0,duration:1.3,onEnter:function(){console.log("Fading out zone:"),console.log(n.startingZone.value),console.log(this.anatomies[n.startingZone.value]),this.timelinestate=this.STATE.DATE_UNFOCUSING}.bind(this),onComplete:function(){this.timelinestate=this.STATE.DATE_UNFOCUSED,this.anatomies[n.startingZone.value].visible=!1}.bind(this)},0).to(this.materialWireframe,{opacity:0,duration:1.3},0).to(this.anatomyDotsMaterial,{opacity:0,duration:1.3},0).to(this.click_for_more.textMesh.material,{opacity:0,duration:1.3},0).to(this.titles[n.startingZone.value].textMesh.material,{opacity:0,duration:1.3},0),this.central_anchor.fadeOutAnims.push(n),console.log(this.central_anchor.fadeInAnims[e])}}},{key:"fadeOutFocusArea",value:function(){if(null!==this._currentZone&&-1!==this._currentZone&&this._currentZone<this.zone.length&&this._currentFadedIn>=0){this.timelinestate=this.STATE.DATE_UNFOCUSING;var e=Object.assign({},{value:this._currentFadedIn});console.log("[S.OUT] fading out to:"+e.value.toString()),s.a.to(this.materialOrgans,{opacity:0,duration:.7,ease:"power1.in",onEnter:function(){}.bind(this),onComplete:function(){this.timelinestate=this.STATE.DATE_UNFOCUSED,this.anatomies[e.value].visible=!1,console.log("[E.OUT] faded out to:"+e.value.toString())}.bind(this)}),s.a.fromTo(this.central_anchor.rotator.rotation,{y:this.central_anchor.rotator.rotation.y},{y:this.central_anchor.rotator.rotation.y+2.1,duration:.7,ease:"power1.in"}),s.a.to(this.materialOrgans,{displacementScale:.3,duration:.7,ease:"power1.in"}),s.a.to(this.materialWireframe,{opacity:0,duration:.7}),s.a.to(this.anatomyDotsMaterial,{opacity:0,duration:.7}),s.a.to(this.click_for_more.textMesh.material,{opacity:0,duration:.7}),s.a.to(this.click_for_more3.textMesh.material,{opacity:0,duration:.7}),null!==this.titles[e.value]&&s.a.to(this.titles[e.value].textMesh.material,{opacity:0,duration:.7})}}},{key:"fadeInFocusArea",value:function(){this.timelinestate=this.STATE.DATE_FOCUSING;var e=Object.assign({},{value:this._currentZone});console.log("[S.IN] fading in to:"+e.value.toString()),this.anatomies[e.value].visible=!0,s.a.to(this.materialWireframe,{opacity:.1,duration:.4,onComplete:function(){this.timelinestate=this.STATE.DATE_FOCUSED,console.log("[E.IN] faded in to:"+e.value.toString()),this._currentFadedIn=e.value}.bind(this)}),s.a.to(this.materialOrgans,{displacementScale:0,opacity:1,duration:.4*3,ease:"power2.out"}),s.a.fromTo(this.central_anchor.rotator.rotation,{y:-2.1},{y:0,duration:.4*3,ease:"power2.out"}),s.a.to(this.anatomyDotsMaterial,{opacity:.2,duration:.4}),s.a.to(this.click_for_more.textMesh.material,{opacity:1,duration:.4}),s.a.to(this.click_for_more3.textMesh.material,{opacity:1,duration:.4}),null!==this.titles[e.value]&&s.a.to(this.titles[e.value].textMesh.material,{opacity:1,duration:.4}),null!=this.currentAnatomy&&this.lookOnMouseAnatomy(this.clientmouseX,this.clientmouseY,this.currentAnatomy,15)}},{key:"updateTimelineFocus",value:function(e){this._currentZone>=0&&(this._currentZoneAttenuation>.9?(this.focusCounter+=10*e,this.focusCounter=Math.min(this.focusCounter,1.1)):this.focusCounter=0),this.focusCounter>1&&(this.timelinestate==this.STATE.DATE_UNFOCUSED||this.timelinestate==this.STATE.NONE)?this.fadeInFocusArea():0!=this.focusCounter||this.timelinestate!=this.STATE.DATE_FOCUSED&&this.timelinestate!=this.STATE.NONE||this.fadeOutFocusArea()}},{key:"update",value:function(){var e=this.camera.position.distanceTo(this.controls.target)*Math.sin(this.controls.maxPolarAngle);window.innerWidth>768&&(this.scene.position.x+=.01*(Math.cos(-this.controls.getAzimuthalAngle())*this.mouse.x*.04-this.scene.position.x),this.scene.position.z+=.01*(Math.sin(-this.controls.getAzimuthalAngle())*this.mouse.x*.04-this.scene.position.z),this.scene.position.y+=.01*(.04*-this.mouse.y-this.scene.position.y)),void 0!==this.zone[this._currentZone]&&1!=this._clientClicking&&(this.camera.position.x+=.03*(e*Math.cos(-Math.PI/2+this.zone[this._currentZone].centerAngle)-this.camera.position.x),this.camera.position.z+=.03*(e*Math.sin(-Math.PI/2+this.zone[this._currentZone].centerAngle)-this.camera.position.z));var t=this.clock.getDelta();this.clock.elapsedTime,this.particleUniforms.time.value+=t,this.controls.update(),this._modelsLoaded&&(this.controls.enableDamping?(this.controls.maxPolarAngle=Math.max(this.minPolar,Math.min(this.maxPolar,this.controls.maxPolarAngle+this._polarDelta*this.controls.dampingFactor*.1)),this.controls.minPolarAngle=this.controls.maxPolarAngle,this._polarDelta*=1-this.controls.dampingFactor):(this.controls.maxPolarAngle=Math.min(this.minPolar,this.controls.maxPolarAngle+this._polarDelta),this.controls.minPolarAngle=Math.max(this.maxPolar,this.controls.maxPolarAngle),this._polarDelta=0),this.updateTimelineFocus(t),this.AnatomyRotationDelta.x*=1-this.controls.dampingFactor,this.central_anchor.rotator.rotation.y+=2*Math.PI*this.AnatomyRotationDelta.x/this.renderer.domElement.clientHeight),this.setBackgrounds()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"moveToZone",value:function(e){e>=0&&e<this.zone.length&&(this.panelOpened&&this.onPanelClick(),s.a.to(this.camera.position,D.a.getCameraZonePositionFinal(this.controls.minDistance,-Math.PI/2+this.zone[e].centerAngle,0,1))),-1==e&&(this.panelOpened&&this.onPanelClick(),console.log(e),s.a.to(this.camera.position,D.a.getCameraZonePositionFinal(this.controls.minDistance,-Math.PI/2+this.introAngle-Math.PI/71,0,1))),-2==e&&(this.panelOpened&&this.onPanelClick(),console.log(e),s.a.to(this.camera.position,D.a.getCameraZonePositionFinal(this.controls.minDistance,-Math.PI/2+this.outroAngle+Math.PI/71,0,1)))}},{key:"moveToZoneLeft",value:function(){this._currentZone>=-1&&this._currentZone<this.zone.length-1?this.moveToZone(this._currentZone+1):this.zone.length-1&&this.moveToZone(-2)}},{key:"moveToZoneRight",value:function(){this._currentZone>0&&this._currentZone<this.zone.length?this.moveToZone(this._currentZone-1):-2==this._currentZone?this.moveToZone(this.zone.length-1):0==this._currentZone&&this.moveToZone(-1)}},{key:"moveToZoneCurrent",value:function(){console.log(this._currentZone),this.moveToZone(this._currentZone)}},{key:"setBackgrounds",value:function(){this.scene.fog.color=this.colorBackground}},{key:"toggleDebug",value:function(){for(var e=0;e<this.debugObjects.length;e++)this.debugObjects[e].visible=!this.debugObjects[e].visible}},{key:"onMouseMove",value:function(e){if(this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.clientmouseX=e.clientX,this.clientmouseY=e.clientY,this.raycaster.setFromCamera(this.mouse,this.camera),this._modelsLoaded){if(null!=this.currentAnatomy&&this.lookOnMouseAnatomy(e.clientX,e.clientY,this.currentAnatomy,15),this.interaction_state==this.INTERACTIONSTATE.ANATOMY_ROTATE)this.AnatomyRotationEnd.set(e.clientX,e.clientY),this.AnatomyRotationDelta.subVectors(this.AnatomyRotationEnd,this.AnatomyRotationStart).multiplyScalar(1),this.central_anchor.rotator.rotation.y+=2*Math.PI*this.AnatomyRotationDelta.x/this.renderer.domElement.clientHeight,this.renderer.domElement.style.cursor="grabbing",this.AnatomyRotationStart.copy(this.AnatomyRotationEnd);else if(this.interaction_state==this.INTERACTIONSTATE.ROTATE)this.renderer.domElement.style.cursor="grabbing";else if(this.interaction_state==this.INTERACTIONSTATE.NONE){var t=this.raycaster.intersectObjects(this.raycastingObjects,!0);t.length>0?(this.debugsphere.position.copy(t[0].point),"intersectBox"==t[0].object.name||"intersectRotator"==t[0].object.name&&this._currentZone>-1?this.renderer.domElement.style.cursor="pointer":"intersect_dot"==t[0].object.name&&this.timelinestate==this.STATE.DATE_FOCUSED?(this.renderer.domElement.style.cursor="pointer",this.central_anchor.hovercircle.visible||(this.central_anchor.hovercircle.visible=!0)):"intersectAddress"==t[0].object.name||"intersectBeggining"==t[0].object.name||"intersectEnd"==t[0].object.name?this.renderer.domElement.style.cursor="pointer":this.renderer.domElement.style.cursor="grab"):(this.renderer.domElement.style.cursor="grab",this.central_anchor.hovercircle.visible&&(this.central_anchor.hovercircle.visible=!1))}1==this.panelOpened&&(this.renderer.domElement.style.cursor="auto")}}},{key:"onTouchMove",value:function(e){switch(e.preventDefault(),e.touches.length){case 1:this.lastTouchX=e.touches[0].pageX,this.lastTouchY=e.touches[0].pageY;var t=this.lastTouchX,n=this.lastTouchY;this.onMouseMove({clientX:t,clientY:n});break;case 2:var i=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;Math.sqrt(i*i+r*r),Math.sqrt(this.dollyStartX*this.dollyStartX+this.dollyStartY*this.dollyStartY),this.dollyStartX=e.touches[0].pageX-e.touches[1].pageX,this.dollyStartY=e.touches[0].pageY-e.touches[1].pageY;break;default:this.lastTouchX=e.touches[0].pageX,this.lastTouchY=e.touches[0].pageY,t=this.lastTouchX,n=this.lastTouchY,this.onMouseMove({clientX:t,clientY:n})}}},{key:"onMouseDown",value:function(e){this.resize(),this.clientClickX=e.clientX,this.clientClickY=e.clientY,this._clientClicking=!0,this.interaction_state=this.INTERACTIONSTATE.ROTATE;var t={x:this.clientClickX/window.innerWidth*2-1,y:-this.clientClickY/window.innerHeight*2+1};if(1==this.panelOpened)return this.onPanelClick(),void(this.panelOpened=!1);this.raycaster.setFromCamera(t,this.camera);var n=this.raycaster.intersectObjects(this.raycastingObjects,!0);n.length>0&&this._currentZone>-1&&"intersectRotator"==n[0].object.name&&(console.log("Anatomy!"),this.interaction_state=this.INTERACTIONSTATE.ANATOMY_ROTATE,this.controls.enabled=!1,this.AnatomyRotationStart.set(this.clientClickX,this.clientClickY))}},{key:"onTouchStart",value:function(e){switch(console.log("ontouchstart"),console.log(e),e.preventDefault(),e.touches.length){case 1:this.lastTouchX=e.touches[0].pageX,this.lastTouchY=e.touches[0].pageY;var t=this.lastTouchX,n=this.lastTouchY;this.onMouseDown({clientX:t,clientY:n});break;case 2:this.lastTouchX=.5*(e.touches[0].pageX+e.touches[1].pageX),this.lastTouchY=.5*(e.touches[0].pageY+e.touches[1].pageY),this.dollyStartX=e.touches[0].pageX-e.touches[1].pageX,this.dollyStartY=e.touches[0].pageY-e.touches[1].pageY,this.interaction_state=this.INTERACTIONSTATE.ROTATE,this.controls.enabled=!0;break;default:this.lastTouchX=e.touches[0].pageX,this.lastTouchY=e.touches[0].pageY,t=this.lastTouchX,n=this.lastTouchY,onMouseDown({clientX:t,clientY:n})}}},{key:"onMouseUp",value:function(e){this._clientClicking=!1;var t=e.clientX,n=e.clientY;if(this.controls.enabled=!0,this.controls.enabled=!0,this.interaction_state=this.INTERACTIONSTATE.NONE,!(Math.abs(t-this.clientClickX)>2||Math.abs(n-this.clientClickY)>2)){this.mouse.x=this.clientClickX/window.innerWidth*2-1,this.mouse.y=-this.clientClickY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var i=this.raycaster.intersectObjects(this.raycastingObjects,!0);if(i.length>0){if("intersect_dot"==i[0].object.name){console.log(this.zone[this._currentZone].centerAngle),console.log(Math.PI-this.currentAngle),console.log(Math.PI-this.controls.getAzimuthalAngle()),0==this.panelOpened&&this._currentZone>=0&&this._currentZone<this.zone.length&&(this.timelineAplas[this._currentZone].style.opacity=1,this.timelineAplas[this._currentZone].style["pointer-events"]="auto",this.panelOpened=!0);var r=i[0].object}"intersectBox"==i[0].object.name&&(r=i[0].object,console.log(r.name),console.log(r.parent.parent.name),this.moveToZone(r.parent.parent.myZone)),"intersectRotator"==i[0].object.name&&0==this.panelOpened&&this._currentZone>=0&&this._currentZone<this.zone.length&&(this.timelineAplas[this._currentZone].style.opacity=1,this.timelineAplas[this._currentZone].style["pointer-events"]="auto",this.panelOpened=!0),"intersectAddress"==i[0].object.name&&window.open("https://zgodanazycie.pl/","_blank"),"intersectBeggining"==i[0].object.name&&-2!=this._currentZone&&this.moveToZone(-2),"intersectEnd"==i[0].object.name&&-1!=this._currentZone&&this.moveToZone(-1)}}}},{key:"onTouchEnd",value:function(e){e.preventDefault(),console.log(e);var t=this.lastTouchX,n=this.lastTouchY;this.onMouseUp({clientX:t,clientY:n})}},{key:"addListenersAFterAnimation",value:function(){this.uiArrowLeft.addEventListener("click",this.moveToZoneLeft.bind(this),!1),this.uiArrowRight.addEventListener("click",this.moveToZoneRight.bind(this),!1)}},{key:"addListeners",value:function(){this.renderer.domElement.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.renderer.domElement.addEventListener("wheel",this.onMouseWheel.bind(this),!1),this.renderer.domElement.addEventListener("mouseup",this.onMouseUp.bind(this),!1),this.renderer.domElement.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.renderer.domElement.addEventListener("touchend",this.onTouchEnd.bind(this),!1),this.renderer.domElement.addEventListener("touchmove",this.onTouchMove.bind(this),!1),document.addEventListener("mousemove",this.onMouseMove.bind(this),!1),document.addEventListener(this.visibilityChange,this.handleVisibilityChange.bind(this),!1),this.controls.addEventListener("change",this.updateWithMovement.bind(this),!1),this.uiVolumeToggle.addEventListener("click",this.toggleMute.bind(this),!1);for(var e=0;e<this.zone.length;e++)this.panelPopupClose[e].addEventListener("click",this.onPanelClick.bind(this),!1),null!=this.panelPrev[e]&&this.panelPrev[e].addEventListener("click",this.onPrevClick.bind(this,e),!1),null!=this.panelNext[e]&&this.panelNext[e].addEventListener("click",this.onNextClick.bind(this,e),!1),this.showPhoto(1,e);this.videobutton.addEventListener("click",this.onVideosOpen.bind(this),!1),this.videoclose.addEventListener("click",this.onVideosClosed.bind(this),!1)}},{key:"resize",value:function(){if(this.renderer){window.scrollTo(0,.001),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.fovHeight=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z,this.renderer.setSize(window.innerWidth,window.innerHeight),window.scrollTo(0,.001),this.updateWithMovement(),this._modelsLoaded&&this.resizeAplas();var e=this.renderer.domElement;e.width/this.pixelRatio<768&&e.width<e.height?this.controls.rotateSpeed=.08:this.controls.rotateSpeed=.04,void 0!==this.navfootfix&&this.navfootfix.setAttribute("style","height:"+window.innerHeight+"px"),setTimeout(this.lateResize.bind(this),400)}}},{key:"lateResize",value:function(){this.renderer&&(this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),window.scrollTo(0,.001),this.updateWithMovement(),this._modelsLoaded&&this.resizeAplas())}},{key:"handleMouseWheel",value:function(e){e.deltaY<0?this.moveToZoneLeft():e.deltaY>0&&this.moveToZoneRight(),this.update()}},{key:"onMouseWheel",value:function(e){this.handleMouseWheel(e)}},{key:"onVideosOpen",value:function(){this.videopanel.style.transform="translateX(0%)"}},{key:"onVideosClosed",value:function(){this.videopanel.style.transform="translateX(120%)"}},{key:"onPanelClick",value:function(){this._currentZone>=0&&this._currentZone<this.zone.length&&(this.timelineAplas[this._currentZone].style.opacity=0,this.timelineAplas[this._currentZone].style["pointer-events"]="none",this.panelOpened=!1)}},{key:"onPrevClick",value:function(e){this.plusPhoto(1,e),console.log(e)}},{key:"onNextClick",value:function(e){this.plusPhoto(-1,e),console.log(e)}},{key:"plusPhoto",value:function(e,t){this.showPhoto(this.slideIndex[t]+=e,t)}},{key:"showPhoto",value:function(e,t){var n,i=document.getElementsByClassName("slide_"+t.toString());if(null!=i){for(e>i.length&&(this.slideIndex[t]=1),e<1&&(this.slideIndex[t]=i.length),n=0;n<i.length;n++)i[n].style.display="none";i[this.slideIndex[t]-1].style.display="block"}}},{key:"handleVisibilityChange",value:function(){console.log("visibility changed"),console.log(document[this.hidden]),document[this.hidden]?0==this.muted&&(console.log("not muted"),this.audioListener.setMasterVolume(0)):0==this.muted&&this.audioListener.setMasterVolume(1)}},{key:"toggleMute",value:function(){this.audioListener.getMasterVolume()>.5?(this.muted=!0,this.audioListener.setMasterVolume(0)):(null==this.backgroundMusic&&(this.backgroundMusic=this.scene.getObjectByName("BackgroundAudio"),null!=this.backgroundMusic&&this.backgroundMusic.play()),this.audioListener.setMasterVolume(1),this.muted=!1)}},{key:"initAnatomyModels",value:function(){this.model_current=new e.Object3D;var t=new e.Vector3(0,2,0),n=new e.Euler(0,0,0);this.loadModelGltf(v.a,"model_lungs2",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(b.a,"model_lungs",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(y.a,"model_Digestive_Liver",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(x.a,"model_Face",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(_.a,"model_Hand",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(w.a,"model_Heart",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(M.a,"model_Heart_Liver",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(S.a,"model_Heart_Lungs",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(T.a,"model_Kidney",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(E.a,"model_Kidneys",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(A.a,"model_Kidney_Trzustka",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(L.a,"model_Liver_Kidney",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(P.a,"model_Krtan",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(P.a,"model_Krtan",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(C.a,"model_Liver",t,n,3,!1,this.central_anchor.rotator,!1),this.loadModelGltf(R.a,"model_Trzustka",t,n,3,!1,this.central_anchor.rotator,!1)}}])&&Z(n.prototype,a),l&&Z(n,l),t}()}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0),r=function(e,t){var n,r,a,o,s;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new i.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN},this.touches={ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),p=d.NONE},this.update=(n=new i.Vector3,r=(new i.Quaternion).setFromUnitVectors(e.up,new i.Vector3(0,1,0)),a=r.clone().inverse(),o=new i.Vector3,s=new i.Quaternion,function(){var e=l.object.position;return n.copy(e).sub(l.target),n.applyQuaternion(r),f.setFromVector3(n),l.autoRotate&&p===d.NONE&&C(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(f.theta+=g.theta*l.dampingFactor,f.phi+=g.phi*l.dampingFactor):(f.theta+=g.theta,f.phi+=g.phi),f.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,f.theta)),f.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=b,f.radius=Math.max(l.minDistance,Math.min(l.maxDistance,f.radius)),!0===l.enableDamping?l.target.addScaledVector(v,l.dampingFactor):l.target.add(v),n.setFromSpherical(f),n.applyQuaternion(a),e.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor,v.multiplyScalar(1-l.dampingFactor)):(g.set(0,0,0),v.set(0,0,0)),b=1,!!(y||o.distanceToSquared(l.object.position)>m||8*(1-s.dot(l.object.quaternion))>m)&&(l.dispatchEvent(c),o.copy(l.object.position),s.copy(l.object.quaternion),y=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",ee,!1),l.domElement.removeEventListener("mousedown",X,!1),l.domElement.removeEventListener("wheel",Z,!1),l.domElement.removeEventListener("touchstart",K,!1),l.domElement.removeEventListener("touchend",$,!1),l.domElement.removeEventListener("touchmove",Q,!1),document.removeEventListener("mousemove",Y,!1),document.removeEventListener("mouseup",q,!1),l.domElement.removeEventListener("keydown",J,!1)};var l=this,c={type:"change"},h={type:"start"},u={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=d.NONE,m=1e-6,f=new i.Spherical,g=new i.Spherical,b=1,v=new i.Vector3,y=!1,x=new i.Vector2,_=new i.Vector2,w=new i.Vector2,M=new i.Vector2,S=new i.Vector2,T=new i.Vector2,E=new i.Vector2,A=new i.Vector2,L=new i.Vector2;function P(){return Math.pow(.95,l.zoomSpeed)}function C(e){g.theta-=e}function R(e){g.phi-=e}var z,O=(z=new i.Vector3,function(e,t){z.setFromMatrixColumn(t,0),z.multiplyScalar(-e),v.add(z)}),D=function(){var e=new i.Vector3;return function(t,n){!0===l.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),I=function(){var e=new i.Vector3;return function(t,n){var i=l.domElement;if(l.object.isPerspectiveCamera){var r=l.object.position;e.copy(r).sub(l.target);var a=e.length();a*=Math.tan(l.object.fov/2*Math.PI/180),O(2*t*a/i.clientHeight,l.object.matrix),D(2*n*a/i.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(O(t*(l.object.right-l.object.left)/l.object.zoom/i.clientWidth,l.object.matrix),D(n*(l.object.top-l.object.bottom)/l.object.zoom/i.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function k(e){l.object.isPerspectiveCamera?b/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function N(e){l.object.isPerspectiveCamera?b*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function B(e){x.set(e.clientX,e.clientY)}function F(e){M.set(e.clientX,e.clientY)}function U(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}}function G(e){if(1==e.touches.length)M.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);M.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);E.set(0,i)}function j(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,n)}w.subVectors(_,x).multiplyScalar(l.rotateSpeed);var i=l.domElement;C(2*Math.PI*w.x/i.clientHeight),R(2*Math.PI*w.y/i.clientHeight),x.copy(_)}function V(e){if(1==e.touches.length)S.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);S.set(t,n)}T.subVectors(S,M).multiplyScalar(l.panSpeed),I(T.x,T.y),M.copy(S)}function W(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);A.set(0,i),L.set(0,Math.pow(A.y/E.y,l.zoomSpeed)),k(L.y),E.copy(A)}function X(e){if(!1!==l.enabled){var t;switch(e.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),e.button){case 0:t=l.mouseButtons.LEFT;break;case 1:t=l.mouseButtons.MIDDLE;break;case 2:t=l.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.MOUSE.DOLLY:if(!1===l.enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),p=d.DOLLY;break;case i.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;F(e),p=d.PAN}else{if(!1===l.enableRotate)return;B(e),p=d.ROTATE}break;case i.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enableRotate)return;B(e),p=d.ROTATE}else{if(!1===l.enablePan)return;F(e),p=d.PAN}break;default:p=d.NONE}p!==d.NONE&&(document.addEventListener("mousemove",Y,!1),document.addEventListener("mouseup",q,!1),l.dispatchEvent(h))}}function Y(e){if(!1!==l.enabled)switch(e.preventDefault(),p){case d.ROTATE:if(!1===l.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),w.subVectors(_,x).multiplyScalar(l.rotateSpeed);var t=l.domElement;C(2*Math.PI*w.x/t.clientHeight),R(2*Math.PI*w.y/t.clientHeight),x.copy(_),l.update()}(e);break;case d.DOLLY:if(!1===l.enableZoom)return;!function(e){A.set(e.clientX,e.clientY),L.subVectors(A,E),L.y>0?k(P()):L.y<0&&N(P()),E.copy(A),l.update()}(e);break;case d.PAN:if(!1===l.enablePan)return;!function(e){S.set(e.clientX,e.clientY),T.subVectors(S,M).multiplyScalar(l.panSpeed),I(T.x,T.y),M.copy(S),l.update()}(e)}}function q(e){!1!==l.enabled&&(document.removeEventListener("mousemove",Y,!1),document.removeEventListener("mouseup",q,!1),l.dispatchEvent(u),p=d.NONE)}function Z(e){!1===l.enabled||!1===l.enableZoom||p!==d.NONE&&p!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),l.dispatchEvent(h),function(e){e.deltaY<0?N(P()):e.deltaY>0&&k(P()),l.update()}(e),l.dispatchEvent(u))}function J(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){var t=!1;switch(e.keyCode){case l.keys.UP:I(0,l.keyPanSpeed),t=!0;break;case l.keys.BOTTOM:I(0,-l.keyPanSpeed),t=!0;break;case l.keys.LEFT:I(l.keyPanSpeed,0),t=!0;break;case l.keys.RIGHT:I(-l.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),l.update())}(e)}function K(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(l.touches.ONE){case i.TOUCH.ROTATE:if(!1===l.enableRotate)return;U(e),p=d.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(!1===l.enablePan)return;G(e),p=d.TOUCH_PAN;break;default:p=d.NONE}break;case 2:switch(l.touches.TWO){case i.TOUCH.DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&H(e),l.enablePan&&G(e)}(e),p=d.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&H(e),l.enableRotate&&U(e)}(e),p=d.TOUCH_DOLLY_ROTATE;break;default:p=d.NONE}break;default:p=d.NONE}p!==d.NONE&&l.dispatchEvent(h)}}function Q(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),p){case d.TOUCH_ROTATE:if(!1===l.enableRotate)return;j(e),l.update();break;case d.TOUCH_PAN:if(!1===l.enablePan)return;V(e),l.update();break;case d.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&W(e),l.enablePan&&V(e)}(e),l.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&W(e),l.enableRotate&&j(e)}(e),l.update();break;default:p=d.NONE}}function $(e){!1!==l.enabled&&(l.dispatchEvent(u),p=d.NONE)}function ee(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",ee,!1),l.domElement.addEventListener("mousedown",X,!1),l.domElement.addEventListener("wheel",Z,!1),l.domElement.addEventListener("touchstart",K,!1),l.domElement.addEventListener("touchend",$,!1),l.domElement.addEventListener("touchmove",Q,!1),l.domElement.addEventListener("keydown",J,!1),-1===l.domElement.tabIndex&&(l.domElement.tabIndex=0),this.update()};r.prototype=Object.create(i.EventDispatcher.prototype),r.prototype.constructor=r;var a=function(e,t){r.call(this,e,t),this.mouseButtons.LEFT=i.MOUSE.PAN,this.mouseButtons.RIGHT=i.MOUSE.ROTATE,this.touches.ONE=i.TOUCH.PAN,this.touches.TWO=i.TOUCH.DOLLY_ROTATE};(a.prototype=Object.create(i.EventDispatcher.prototype)).constructor=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var a=new i.BufferGeometry,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,s=new Float32Array(3*(3*o+3));a.setAttribute("position",new i.BufferAttribute(s,3));var l=new i.LineBasicMaterial({color:65280}),c=new i.LineBasicMaterial({color:16776960});i.Line.call(this,a,[c,l]),this.type="PositionalAudioHelper",this.update()}r.prototype=Object.create(i.Line.prototype),r.prototype.constructor=r,r.prototype.update=function(){var e,t,n=this.audio,r=this.range,a=this.divisionsInnerAngle,o=this.divisionsOuterAngle,s=i.MathUtils.degToRad(n.panner.coneInnerAngle),l=i.MathUtils.degToRad(n.panner.coneOuterAngle),c=s/2,h=l/2,u=0,d=0,p=this.geometry,m=p.attributes.position;function f(n,i,a,o){var s=(i-n)/a;for(m.setXYZ(u,0,0,0),d++,e=n;e<i;e+=s)t=u+d,m.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),m.setXYZ(t+1,Math.sin(Math.min(e+s,i))*r,0,Math.cos(Math.min(e+s,i))*r),m.setXYZ(t+2,0,0,0),d+=3;p.addGroup(u,d,o),u+=d,d=0}p.clearGroups(),f(-h,-c,o,0),f(-c,c,a,1),f(c,h,o,0),m.needsUpdate=!0,s===l&&(this.material[0].visible=!1)},r.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()}},function(e){e.exports=JSON.parse('{"glyphs":{"0":{"ha":508,"x_min":0,"x_max":0,"o":"m 463 494 b 253 -12 463 353 458 -12 b 46 443 60 -12 46 307 b 269 939 46 590 63 939 b 463 494 461 939 463 626 m 379 525 b 265 860 379 601 378 860 b 129 449 139 860 129 538 b 169 144 129 358 136 228 b 258 67 186 104 210 67 b 338 136 303 67 324 100 b 379 525 376 238 379 414 "},"1":{"ha":508,"x_min":0,"x_max":0,"o":"m 225 0 l 225 846 l 106 846 l 106 926 l 311 926 l 311 0 "},"2":{"ha":508,"x_min":0,"x_max":0,"o":"m 65 674 b 253 939 65 807 94 939 b 442 733 375 939 442 850 b 319 361 442 597 379 479 l 178 82 l 431 82 l 431 0 l 51 0 l 242 392 b 354 733 294 499 354 611 b 257 860 354 796 329 860 b 150 690 161 860 150 767 l 150 674 l 65 674 "},"3":{"ha":508,"x_min":0,"x_max":0,"o":"m 69 710 b 246 939 71 825 113 939 b 431 725 378 939 431 846 b 325 513 431 636 413 554 b 443 249 432 467 443 350 b 250 -12 443 117 407 -12 b 58 217 107 -12 58 88 l 58 254 l 143 254 b 251 71 143 175 146 71 b 360 265 353 71 360 190 b 204 469 360 372 329 469 l 163 469 l 163 546 l 199 546 b 313 586 246 546 281 549 b 347 719 342 621 347 675 b 246 856 347 788 326 856 b 149 710 158 856 150 778 "},"4":{"ha":508,"x_min":0,"x_max":0,"o":"m 379 249 l 379 0 l 294 0 l 294 249 l 51 249 l 51 336 l 294 926 l 379 926 l 379 328 l 449 328 l 449 249 m 294 328 b 293 515 294 390 293 453 b 304 790 293 607 296 699 b 251 631 290 736 272 683 l 132 328 "},"5":{"ha":508,"x_min":0,"x_max":0,"o":"m 182 563 b 231 567 199 565 214 567 b 442 274 388 567 442 406 b 211 -12 442 138 381 -12 b 67 33 158 -12 108 3 l 90 118 b 215 71 126 90 169 71 b 354 275 325 71 354 194 b 199 483 354 371 322 483 b 85 467 154 483 117 474 l 139 926 l 415 926 l 415 846 l 215 846 "},"6":{"ha":508,"x_min":0,"x_max":0,"o":"m 246 642 b 182 493 224 590 217 585 b 272 525 218 519 247 525 b 378 485 325 525 360 501 b 444 250 438 428 444 311 b 381 33 444 146 421 72 b 257 -12 357 10 315 -12 b 138 32 207 -12 168 3 b 64 276 72 94 64 199 b 88 457 64 340 71 393 b 144 613 103 514 122 558 l 276 926 l 367 926 m 147 257 b 193 90 147 201 157 125 b 261 63 208 75 236 63 b 326 92 286 63 311 75 b 361 256 340 107 361 144 b 319 424 361 351 343 399 b 254 451 304 439 282 451 b 189 422 224 451 201 436 b 147 257 175 407 147 365 "},"7":{"ha":508,"x_min":0,"x_max":0,"o":"m 172 0 l 82 0 l 343 846 l 76 846 l 76 926 l 457 926 "},"8":{"ha":508,"x_min":0,"x_max":0,"o":"m 449 261 b 249 -12 449 129 407 -12 b 58 264 94 -12 58 139 b 176 513 58 356 81 474 b 79 711 101 560 79 626 b 265 939 79 829 133 939 b 440 710 396 939 440 822 b 343 513 440 628 418 556 b 449 261 436 461 449 357 m 357 704 b 258 860 357 769 340 860 b 163 717 179 860 163 781 b 261 551 163 651 176 551 b 357 704 342 551 357 640 m 365 274 b 254 474 365 347 351 474 b 143 265 157 474 143 338 b 253 67 143 193 157 67 b 365 274 360 67 365 196 "},"9":{"ha":508,"x_min":0,"x_max":0,"o":"m 322 433 b 231 401 294 414 265 401 b 64 679 90 401 64 571 b 249 939 64 803 99 939 b 444 671 401 939 444 799 b 371 336 444 556 415 442 l 231 0 l 142 0 m 361 669 b 247 865 361 743 344 865 b 146 664 160 865 146 729 b 254 475 146 593 160 475 b 361 669 349 475 361 599 "}," ":{"ha":324,"x_min":0,"x_max":0,"o":""},"!":{"ha":329,"x_min":0,"x_max":0,"o":"m 122 232 l 122 926 l 206 926 l 206 232 m 226 53 b 164 -10 226 18 199 -10 b 101 53 131 -10 101 19 b 164 115 101 88 129 115 b 226 53 199 115 226 88 "},"\\"":{"ha":424,"x_min":0,"x_max":0,"o":"m 331 553 l 272 553 l 258 926 l 344 926 m 151 553 l 93 553 l 79 926 l 165 926 "},"#":{"ha":833,"x_min":0,"x_max":0,"o":"m 779 575 l 625 575 l 593 369 l 749 369 l 738 297 l 582 297 l 538 0 l 456 0 l 501 297 l 294 297 l 250 0 l 169 0 l 214 297 l 56 297 l 67 369 l 225 369 l 257 575 l 99 575 l 108 647 l 268 647 l 310 926 l 390 926 l 347 647 l 554 647 l 597 926 l 678 926 l 636 647 l 790 647 m 336 575 l 306 369 l 513 369 l 543 575 "},"$":{"ha":508,"x_min":0,"x_max":0,"o":"m 382 818 b 260 860 346 842 304 860 b 124 718 176 860 124 800 b 464 244 124 472 464 531 b 281 -8 464 118 396 13 l 281 -126 l 213 -126 l 213 -11 b 57 68 144 0 107 19 l 107 128 b 242 67 146 96 190 67 b 383 240 329 67 383 144 b 43 713 383 460 43 417 b 213 935 43 828 100 907 l 213 1043 l 281 1043 l 281 938 b 425 883 333 935 382 913 "},"%":{"ha":714,"x_min":0,"x_max":0,"o":"m 189 0 l 125 0 l 526 926 l 590 926 m 536 411 b 503 397 521 411 511 407 b 479 232 485 378 479 336 b 503 65 479 126 485 85 b 536 51 511 56 521 51 b 569 65 550 51 560 54 b 593 232 588 85 593 126 b 569 397 593 336 588 378 b 536 411 561 407 551 411 m 658 231 b 614 21 658 143 656 61 b 536 -7 589 -4 560 -7 b 460 21 513 -7 485 -4 b 415 231 418 61 415 143 b 460 440 415 318 418 400 b 536 468 485 465 513 468 b 614 440 560 468 589 465 b 658 231 656 400 658 318 m 176 875 b 143 861 161 875 151 871 b 119 696 125 842 119 800 b 143 529 119 590 125 549 b 176 515 151 519 161 515 b 210 529 190 515 200 518 b 233 696 228 549 233 590 b 210 861 233 800 228 842 b 176 875 201 871 192 875 m 299 694 b 254 485 299 607 296 525 b 176 457 229 460 200 457 b 100 485 153 457 125 460 b 56 694 58 525 56 607 b 100 904 56 782 58 864 b 176 932 125 929 153 932 b 254 904 200 932 229 929 b 299 694 296 864 299 782 "},"&":{"ha":617,"x_min":0,"x_max":0,"o":"m 593 208 b 511 113 568 175 540 143 l 568 0 l 478 0 l 450 51 b 297 -12 406 11 358 -12 b 74 239 161 -12 74 111 b 211 506 74 354 129 431 b 126 756 174 572 126 660 b 310 939 126 858 207 939 b 476 767 407 939 476 863 b 313 492 476 639 389 558 l 472 189 b 536 267 496 214 517 239 m 393 769 b 306 864 393 819 357 864 b 206 758 247 864 206 815 b 274 557 206 674 242 613 b 393 769 332 604 393 672 m 249 431 b 154 238 199 378 154 313 b 293 71 154 160 207 71 b 411 125 339 71 378 96 "},"\'":{"ha":243,"x_min":0,"x_max":0,"o":"m 151 553 l 93 553 l 79 926 l 165 926 "},"(":{"ha":361,"x_min":0,"x_max":0,"o":"m 239 -251 b 74 386 135 -68 74 176 b 239 1024 74 596 135 840 l 306 992 b 153 386 222 800 153 597 b 306 -219 153 175 222 -28 "},")":{"ha":361,"x_min":0,"x_max":0,"o":"m 124 1024 b 288 386 229 838 288 600 b 124 -251 288 172 229 -65 l 56 -219 b 208 386 153 -29 208 171 b 56 992 208 601 153 801 "},"*":{"ha":510,"x_min":0,"x_max":0,"o":"m 294 800 l 392 665 l 351 636 l 254 771 l 157 636 l 117 665 l 215 800 l 57 851 l 72 899 l 231 847 l 231 1013 l 279 1013 l 279 847 l 438 899 l 453 851 "},"+":{"ha":694,"x_min":0,"x_max":0,"o":"m 386 424 l 386 179 l 308 179 l 308 424 l 46 424 l 46 497 l 308 497 l 308 740 l 386 740 l 386 497 l 649 497 l 649 424 "},",":{"ha":246,"x_min":0,"x_max":0,"o":"m 68 -197 l 8 -169 l 104 115 l 190 76 "},"-":{"ha":331,"x_min":0,"x_max":0,"o":"m 69 324 l 69 404 l 261 404 l 261 324 "},".":{"ha":246,"x_min":0,"x_max":0,"o":"m 185 53 b 122 -10 185 18 157 -10 b 60 53 89 -10 60 19 b 122 115 60 88 88 115 b 185 53 157 115 185 88 "},"/":{"ha":567,"x_min":0,"x_max":0,"o":"m 26 -240 l -54 -240 l 489 1013 l 568 1013 "},":":{"ha":246,"x_min":0,"x_max":0,"o":"m 185 568 b 122 506 185 533 157 506 b 60 568 89 506 60 535 b 122 631 60 603 88 631 b 185 568 157 631 185 603 m 185 53 b 122 -10 185 18 157 -10 b 60 53 89 -10 60 19 b 122 115 60 88 88 115 b 185 53 157 115 185 88 "},";":{"ha":251,"x_min":0,"x_max":0,"o":"m 190 568 b 128 506 190 533 163 506 b 65 568 93 506 65 533 b 128 631 65 603 93 631 b 190 568 163 631 190 603 m 68 -197 l 8 -169 l 104 115 l 190 76 "},"<":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 422 l 46 492 l 649 767 l 649 688 l 132 457 l 649 226 l 649 147 "},"=":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 542 l 46 613 l 649 613 l 649 542 m 46 338 l 46 408 l 649 408 l 649 338 "},">":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 147 l 46 226 l 563 457 l 46 688 l 46 767 l 649 492 l 649 422 "},"?":{"ha":461,"x_min":0,"x_max":0,"o":"m 74 757 b 233 939 74 863 118 939 b 356 885 279 939 328 924 b 388 724 389 839 388 778 b 226 454 388 601 385 460 l 226 232 l 144 232 l 144 529 b 190 528 160 529 175 528 b 261 540 211 528 242 529 b 303 735 308 569 303 685 b 231 864 303 786 299 864 b 157 692 144 864 157 750 l 74 692 m 251 53 b 189 -10 251 18 224 -10 b 126 53 156 -10 126 19 b 189 115 126 88 154 115 b 251 53 224 115 251 88 "},"@":{"ha":1018,"x_min":0,"x_max":0,"o":"m 861 54 b 543 -18 760 6 656 -18 b 46 461 260 -18 46 172 b 526 938 46 731 258 938 b 965 526 765 938 965 774 b 944 394 965 482 958 438 b 739 197 917 306 843 197 b 639 294 681 197 642 238 b 465 193 600 232 540 193 b 271 417 340 193 271 301 b 514 700 271 556 364 700 b 672 583 596 700 647 660 l 692 682 l 750 682 l 693 382 b 683 317 689 360 683 339 b 743 247 683 281 703 247 b 894 414 822 247 875 349 b 910 525 904 450 910 488 b 526 882 910 744 738 882 b 104 460 289 882 104 697 b 219 163 104 351 144 242 b 542 36 307 69 417 36 b 843 107 651 36 744 61 m 647 494 b 519 640 647 574 606 640 b 338 419 406 640 338 522 b 476 253 338 335 383 253 b 647 494 599 253 647 393 "},"A":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 "},"B":{"ha":488,"x_min":0,"x_max":0,"o":"m 211 926 b 347 894 258 926 308 924 b 418 690 403 853 418 756 b 304 475 418 596 396 518 b 440 247 424 443 440 358 b 364 39 440 171 428 89 b 218 0 319 4 272 0 l 76 0 l 76 926 m 208 517 b 331 686 321 517 331 594 b 217 851 331 774 326 851 l 163 851 l 163 517 m 208 74 b 351 250 326 74 351 146 b 213 440 351 343 324 440 l 163 440 l 163 74 "},"C":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 "},"D":{"ha":515,"x_min":0,"x_max":0,"o":"m 185 926 b 450 685 363 926 424 854 b 463 449 461 607 463 528 b 386 74 463 336 461 164 b 190 0 335 13 267 0 l 76 0 l 76 926 m 203 79 b 374 390 369 79 374 265 b 367 631 374 468 374 547 b 199 847 357 742 335 847 l 163 847 l 163 79 "},"E":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 "},"F":{"ha":410,"x_min":0,"x_max":0,"o":"m 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 0 l 76 0 l 76 926 l 371 926 l 371 847 "},"G":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 "},"H":{"ha":535,"x_min":0,"x_max":0,"o":"m 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 374 557 l 374 926 l 460 926 l 460 0 "},"I":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 "},"J":{"ha":311,"x_min":0,"x_max":0,"o":"m 235 133 b 233 93 235 119 235 107 b 101 -14 226 18 172 -14 b 1 11 65 -14 33 -4 l 1 100 b 88 61 28 78 53 61 b 149 154 147 61 149 110 l 149 926 l 235 926 "},"K":{"ha":457,"x_min":0,"x_max":0,"o":"m 349 0 l 163 467 l 163 0 l 76 0 l 76 926 l 163 926 l 163 506 l 349 926 l 444 926 l 244 485 l 446 0 "},"L":{"ha":365,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 79 l 363 79 l 363 0 "},"M":{"ha":693,"x_min":0,"x_max":0,"o":"m 579 0 l 514 601 b 506 769 508 657 508 714 b 486 601 503 713 496 657 l 383 0 l 313 0 b 203 692 275 231 229 460 b 197 769 200 718 200 743 l 197 738 b 189 603 197 693 194 647 l 114 0 l 29 0 l 160 926 l 233 926 l 333 290 b 351 144 340 242 349 193 b 368 288 354 193 360 240 l 476 926 l 550 926 l 664 0 "},"N":{"ha":538,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 "},"O":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 "},"P":{"ha":457,"x_min":0,"x_max":0,"o":"m 188 926 b 422 669 374 926 422 844 b 197 443 422 507 360 443 l 163 443 l 163 0 l 76 0 l 76 926 m 219 522 b 335 686 328 522 335 599 b 204 847 335 783 315 847 l 163 847 l 163 522 "},"Q":{"ha":561,"x_min":0,"x_max":0,"o":"m 440 -68 l 385 18 b 279 -12 353 -4 318 -12 b 53 463 67 -12 53 311 b 281 939 53 615 67 939 b 508 472 496 939 508 626 b 440 81 508 357 501 181 l 508 -25 m 389 161 b 421 457 417 256 421 358 b 414 632 421 515 419 574 b 282 856 407 711 388 856 b 140 464 138 856 140 563 b 283 71 140 364 138 71 b 339 89 304 71 322 75 l 257 217 l 325 261 "},"R":{"ha":522,"x_min":0,"x_max":0,"o":"m 392 0 l 176 453 l 176 0 l 82 0 l 82 926 l 199 926 b 358 900 253 926 310 926 b 458 678 442 856 458 764 b 275 444 458 550 415 456 l 490 0 m 233 521 b 363 683 344 521 363 586 b 222 847 363 790 340 847 l 176 847 l 176 521 "},"S":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 "},"T":{"ha":368,"x_min":0,"x_max":0,"o":"m 226 847 l 226 0 l 140 0 l 140 847 l 1 847 l 1 926 l 365 926 l 365 847 "},"U":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 "},"V":{"ha":453,"x_min":0,"x_max":0,"o":"m 264 0 l 188 0 l 1 926 l 90 926 l 207 313 b 228 126 218 251 222 189 b 251 310 233 188 240 249 l 363 926 l 451 926 "},"W":{"ha":703,"x_min":0,"x_max":0,"o":"m 538 0 l 458 0 l 368 601 b 351 774 360 658 354 717 b 347 721 349 756 349 739 b 332 599 346 679 339 639 l 228 0 l 150 0 l 1 926 l 90 926 l 174 343 b 185 239 179 308 182 274 b 190 169 186 215 186 193 b 217 350 196 231 207 290 l 315 926 l 390 926 l 476 340 b 489 239 482 307 485 272 b 499 169 492 215 494 193 b 522 344 506 228 514 286 l 613 926 l 700 926 "},"X":{"ha":442,"x_min":0,"x_max":0,"o":"m 349 0 l 257 263 b 221 394 242 306 229 350 b 182 260 211 349 197 304 l 94 0 l 1 0 l 182 471 l 1 926 l 94 926 l 176 697 b 221 535 196 644 211 590 b 265 692 229 589 247 640 l 349 926 l 440 926 l 264 471 l 440 0 "},"Y":{"ha":439,"x_min":0,"x_max":0,"o":"m 268 401 l 268 0 l 182 0 l 182 401 l 1 926 l 94 926 l 181 661 b 225 490 192 628 213 553 b 265 660 231 526 239 572 l 344 926 l 438 926 "},"Z":{"ha":388,"x_min":0,"x_max":0,"o":"m 117 79 l 351 79 l 351 0 l 11 0 l 268 847 l 36 847 l 36 926 l 376 926 "},"[":{"ha":371,"x_min":0,"x_max":0,"o":"m 101 -240 l 101 1013 l 325 1013 l 325 949 l 183 949 l 183 -176 l 325 -176 l 325 -240 "},"\\\\":{"ha":567,"x_min":0,"x_max":0,"o":"m 78 1013 l 621 -240 l 540 -240 l -1 1013 "},"]":{"ha":371,"x_min":0,"x_max":0,"o":"m 46 -240 l 46 -176 l 188 -176 l 188 949 l 46 949 l 46 1013 l 269 1013 l 269 -240 "},"^":{"ha":694,"x_min":0,"x_max":0,"o":"m 563 517 l 346 864 l 131 517 l 43 517 l 296 926 l 399 926 l 651 517 "},"_":{"ha":694,"x_min":0,"x_max":0,"o":"m 0 -172 l 0 -103 l 694 -103 l 694 -172 "},"`":{"ha":694,"x_min":0,"x_max":0,"o":"m 347 704 l 188 847 l 263 907 l 396 740 "},"a":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 "},"b":{"ha":446,"x_min":0,"x_max":0,"o":"m 147 579 b 247 631 175 614 201 631 b 400 322 399 631 400 433 b 254 -10 400 189 396 -10 b 147 50 206 -10 176 14 l 147 0 l 69 0 l 69 1013 l 147 1013 m 319 343 b 228 568 319 406 318 568 b 140 314 147 568 140 438 b 179 75 140 260 140 114 b 229 54 193 60 208 54 b 315 197 301 54 310 143 b 319 343 319 246 319 294 "},"c":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 "},"d":{"ha":446,"x_min":0,"x_max":0,"o":"m 299 0 l 299 50 b 192 -10 271 13 240 -10 b 46 306 49 -10 46 197 b 200 631 46 426 46 631 b 299 579 244 631 271 614 l 299 1013 l 376 1013 l 376 0 m 306 310 b 218 568 306 440 299 568 b 128 347 129 568 128 408 b 132 197 128 296 128 247 b 217 54 136 143 144 54 b 268 75 238 54 254 60 b 306 310 306 113 306 258 "},"e":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 "},"f":{"ha":283,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 22 549 l 22 621 l 93 621 l 93 869 b 208 1028 93 949 114 1028 b 278 1014 232 1028 256 1024 l 278 928 b 221 956 261 942 243 956 b 171 879 175 956 171 914 l 171 621 l 278 621 l 278 549 "},"g":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 "},"h":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 494 147 454 l 147 0 l 69 0 l 69 1013 l 147 1013 l 147 571 b 268 631 178 606 219 631 b 389 471 369 631 389 558 l 389 0 "},"i":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 165 815 b 108 758 165 785 140 758 b 50 815 76 758 50 785 b 108 875 50 849 75 875 b 165 815 140 875 165 847 "},"j":{"ha":221,"x_min":0,"x_max":0,"o":"m 72 -250 l 72 621 l 153 621 l 153 -250 m 171 815 b 113 758 171 785 144 758 b 54 815 81 758 54 785 b 113 875 54 849 79 875 b 171 815 146 875 171 849 "},"k":{"ha":417,"x_min":0,"x_max":0,"o":"m 340 0 l 147 297 l 147 0 l 69 0 l 69 1013 l 147 1013 l 147 368 l 303 621 l 390 621 l 213 343 l 439 0 "},"l":{"ha":218,"x_min":0,"x_max":0,"o":"m 69 0 l 69 1013 l 149 1013 l 149 0 "},"m":{"ha":706,"x_min":0,"x_max":0,"o":"m 636 0 l 558 0 l 558 460 b 486 567 558 511 550 567 b 392 397 396 567 392 465 l 392 0 l 313 0 l 313 458 b 247 567 313 504 308 567 b 147 385 150 567 147 457 l 147 0 l 69 0 l 69 621 l 147 621 l 147 569 b 268 631 181 604 218 631 b 382 558 321 631 358 604 b 510 631 415 603 451 631 b 636 476 610 631 636 565 "},"n":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 496 147 454 l 147 0 l 69 0 l 69 621 l 147 621 l 147 571 b 268 631 178 606 219 631 b 389 460 372 631 389 544 l 389 0 "},"o":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 "},"p":{"ha":446,"x_min":0,"x_max":0,"o":"m 147 579 b 246 631 174 614 201 631 b 400 322 399 631 400 435 b 254 -10 400 189 396 -10 b 147 50 206 -10 176 14 l 147 -250 l 69 -250 l 69 621 l 147 621 m 319 343 b 228 568 319 406 318 568 b 140 314 147 568 140 438 b 179 75 140 260 140 114 b 229 54 193 60 208 54 b 315 197 301 54 310 143 b 319 343 319 246 319 294 "},"q":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 -250 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 426 54 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 -250 m 314 314 b 226 568 314 444 306 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 "},"r":{"ha":271,"x_min":0,"x_max":0,"o":"m 253 540 b 147 376 149 540 147 457 l 147 0 l 69 0 l 69 621 l 147 621 l 147 540 b 253 631 168 586 199 628 "},"s":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 "},"t":{"ha":276,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 26 549 l 26 621 l 93 621 l 93 797 l 171 797 l 171 621 l 275 621 l 275 549 "},"u":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 "},"v":{"ha":383,"x_min":0,"x_max":0,"o":"m 236 0 l 151 0 l 10 621 l 90 621 l 172 250 b 194 117 182 206 189 161 b 217 247 201 160 208 204 l 293 621 l 374 621 "},"w":{"ha":610,"x_min":0,"x_max":0,"o":"m 460 0 l 379 0 b 300 517 353 172 322 344 b 288 419 294 483 293 453 l 219 0 l 139 0 l 14 621 l 93 621 l 163 244 b 181 114 171 201 176 157 b 199 242 183 156 192 199 l 261 621 l 342 621 b 419 114 368 453 400 283 b 440 246 426 157 432 201 l 517 621 l 596 621 "},"x":{"ha":388,"x_min":0,"x_max":0,"o":"m 290 0 l 222 176 b 192 268 211 207 199 238 b 164 175 186 238 175 206 l 97 0 l 10 0 l 151 318 l 25 621 l 111 621 b 199 358 142 535 179 449 b 290 621 217 450 256 535 l 378 621 l 239 318 l 378 0 "},"y":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 "},"z":{"ha":376,"x_min":0,"x_max":0,"o":"m 119 72 l 329 72 l 329 0 l 7 0 l 251 549 l 39 549 l 39 621 l 369 621 "},"{":{"ha":694,"x_min":0,"x_max":0,"o":"m 478 -240 b 292 -33 331 -240 292 -171 l 292 224 b 211 356 292 288 281 338 l 211 418 b 292 546 278 436 292 483 l 292 824 b 501 1013 292 975 360 1013 l 501 946 b 369 818 404 944 369 918 l 369 542 b 285 385 369 467 357 418 b 369 224 356 350 369 297 l 369 -40 b 501 -174 369 -142 399 -174 l 501 -240 "},"|":{"ha":694,"x_min":0,"x_max":0,"o":"m 308 -347 l 308 1042 l 386 1042 l 386 -347 "},"}":{"ha":696,"x_min":0,"x_max":0,"o":"m 204 -240 l 204 -174 b 336 -40 307 -174 336 -142 l 336 224 b 421 385 336 297 350 350 b 336 542 349 418 336 467 l 336 818 b 204 946 336 918 301 944 l 204 1013 b 414 824 346 1013 414 975 l 414 546 b 494 418 414 483 428 436 l 494 356 b 414 224 425 338 414 288 l 414 -33 b 228 -240 414 -171 375 -240 "},"~":{"ha":926,"x_min":0,"x_max":0,"o":"m 796 972 b 604 825 757 894 699 825 b 310 922 501 825 406 922 b 179 818 246 922 207 868 l 131 849 b 315 999 169 926 218 999 b 613 901 424 999 518 901 b 746 1001 679 901 715 949 "}," ":{"ha":324,"x_min":0,"x_max":0,"o":""},"¡":{"ha":329,"x_min":0,"x_max":0,"o":"m 226 568 b 164 506 226 533 199 506 b 101 568 131 506 101 535 b 164 631 101 603 129 631 b 226 568 199 631 226 603 m 122 -306 l 122 389 l 206 389 l 206 -306 "},"¢":{"ha":508,"x_min":0,"x_max":0,"o":"m 386 189 b 329 163 369 175 350 167 l 329 35 l 261 35 l 261 163 b 117 467 139 208 117 353 b 172 722 117 550 128 650 b 261 792 197 763 218 778 l 261 907 l 329 907 l 329 793 b 386 775 349 790 368 783 l 386 682 b 307 724 365 704 339 724 b 200 472 208 724 200 543 b 306 231 200 406 213 231 b 386 286 342 231 367 260 "},"£":{"ha":508,"x_min":0,"x_max":0,"o":"m 478 100 b 436 4 475 63 458 25 b 358 -26 417 -14 389 -26 b 281 -1 332 -26 304 -17 l 233 29 b 171 56 199 51 182 56 b 135 39 158 56 144 49 b 113 0 126 31 117 14 l 40 42 b 89 108 51 65 69 90 b 160 138 107 126 133 138 b 182 135 167 138 175 136 b 218 246 215 185 218 232 b 151 414 218 301 192 360 l 42 414 l 42 472 l 124 472 b 83 564 108 501 92 539 b 60 701 67 610 60 656 b 125 882 60 758 72 829 b 272 939 160 917 211 939 b 403 888 335 939 376 914 b 464 738 435 857 463 804 l 383 721 b 344 826 382 753 371 800 b 268 856 332 839 308 856 b 189 826 229 856 204 840 b 147 706 172 810 147 775 b 171 583 147 661 157 622 b 221 472 183 547 206 501 l 367 472 l 367 414 l 250 414 b 301 264 290 356 301 304 b 285 172 301 235 297 204 b 250 113 282 165 271 140 l 310 71 b 357 56 328 60 343 56 b 393 79 375 56 385 63 b 406 124 400 93 404 113 "},"¤":{"ha":926,"x_min":0,"x_max":0,"o":"m 143 493 b 215 690 143 569 169 631 l 86 819 l 132 865 l 261 736 b 463 811 322 783 383 811 b 664 738 540 811 604 785 l 792 864 l 838 819 l 710 692 b 782 492 756 631 782 569 b 710 294 782 415 756 354 l 839 165 l 794 119 l 665 249 b 464 175 606 203 540 175 b 264 247 389 175 324 203 l 136 119 l 90 165 l 218 293 b 143 493 171 351 143 418 m 217 493 b 463 246 217 358 328 246 b 710 493 599 246 710 357 b 463 740 710 629 599 740 b 217 493 328 740 217 628 "},"¥":{"ha":508,"x_min":0,"x_max":0,"o":"m 299 374 l 299 0 l 219 0 l 219 374 l 22 374 l 22 432 l 211 432 l 179 522 l 22 522 l 22 581 l 160 581 l 40 926 l 129 926 l 217 656 b 258 490 235 601 249 546 b 300 660 268 547 283 604 l 379 926 l 468 926 l 356 581 l 486 581 l 486 522 l 336 522 l 307 432 l 486 432 l 486 374 "},"¦":{"ha":694,"x_min":0,"x_max":0,"o":"m 308 479 l 308 1042 l 386 1042 l 386 479 m 308 -347 l 308 215 l 386 215 l 386 -347 "},"§":{"ha":510,"x_min":0,"x_max":0,"o":"m 350 838 b 257 954 344 894 324 954 b 163 832 192 954 163 889 b 411 563 163 681 344 668 b 451 385 442 513 451 443 b 324 144 451 290 426 176 b 428 -54 396 100 428 33 b 256 -250 428 -157 367 -250 b 100 -147 186 -250 128 -211 b 79 -44 86 -115 82 -79 l 160 -44 b 254 -175 163 -106 179 -175 b 350 -50 322 -175 350 -110 b 58 393 350 168 58 54 b 199 635 58 493 90 604 b 83 838 125 683 83 746 b 258 1028 83 942 150 1028 b 406 944 319 1028 375 997 b 433 838 425 911 431 875 m 372 374 b 254 583 372 454 361 583 b 138 390 157 583 138 465 b 254 196 138 314 154 196 b 372 374 354 196 372 293 "},"¨":{"ha":694,"x_min":0,"x_max":0,"o":"m 496 774 b 436 713 496 740 469 713 b 376 774 403 713 376 740 b 436 833 376 807 403 833 b 496 774 469 833 496 807 m 318 774 b 258 713 318 740 292 713 b 199 774 225 713 199 740 b 258 833 199 807 225 833 b 318 774 292 833 318 807 "},"©":{"ha":1050,"x_min":0,"x_max":0,"o":"m 1004 463 b 525 -17 1004 199 789 -17 b 46 463 261 -17 46 199 b 526 943 46 728 261 943 b 1004 463 790 943 1004 725 m 949 463 b 526 893 949 696 763 893 b 101 463 289 893 101 699 b 525 33 101 229 290 33 b 949 463 761 33 949 228 m 603 204 b 518 178 578 188 549 178 b 406 235 474 178 433 200 b 354 457 358 294 354 383 b 524 749 354 569 375 749 b 599 729 558 749 568 739 l 603 728 l 603 651 b 528 682 581 667 556 682 b 428 465 431 682 428 533 b 522 244 428 401 429 244 b 603 276 551 244 579 261 "},"ª":{"ha":333,"x_min":0,"x_max":0,"o":"m 208 517 l 208 542 b 143 511 190 521 169 511 b 43 725 43 511 43 654 b 149 932 43 800 43 932 b 208 906 172 932 193 924 l 208 926 l 268 926 l 268 517 m 49 413 l 49 458 l 268 458 l 268 413 m 213 721 b 160 883 213 790 211 883 b 104 718 104 883 104 772 b 158 560 104 667 106 560 b 190 572 171 560 181 564 b 213 721 213 596 213 689 "},"«":{"ha":451,"x_min":0,"x_max":0,"o":"m 351 60 l 201 329 l 351 590 l 406 561 l 274 329 l 406 92 m 197 60 l 46 329 l 197 590 l 250 561 l 118 329 l 250 92 "},"¬":{"ha":694,"x_min":0,"x_max":0,"o":"m 569 0 l 569 299 l 46 299 l 46 371 l 649 371 l 649 0 "},"­":{"ha":331,"x_min":0,"x_max":0,"o":"m 69 324 l 69 404 l 261 404 l 261 324 "},"®":{"ha":1050,"x_min":0,"x_max":0,"o":"m 599 182 l 481 426 l 481 182 l 413 182 l 413 744 l 486 744 b 649 589 601 744 649 707 b 543 444 649 518 622 450 l 669 182 m 510 504 b 578 593 571 504 578 539 b 501 683 578 651 568 683 l 481 683 l 481 504 m 949 463 b 526 893 949 696 763 893 b 101 463 289 893 101 699 b 525 33 101 229 290 33 b 949 463 761 33 949 228 m 1004 463 b 525 -17 1004 199 789 -17 b 46 463 261 -17 46 199 b 526 943 46 728 261 943 b 1004 463 790 943 1004 725 "},"¯":{"ha":694,"x_min":0,"x_max":0,"o":"m 192 722 l 192 799 l 503 799 l 503 722 "},"°":{"ha":694,"x_min":0,"x_max":0,"o":"m 539 746 b 347 558 539 642 450 558 b 156 746 244 558 156 642 b 347 933 156 851 243 933 b 539 746 451 933 539 851 m 485 746 b 347 881 485 822 422 881 b 210 746 272 881 210 822 b 347 611 210 671 274 611 b 485 746 421 611 485 671 "},"±":{"ha":694,"x_min":0,"x_max":0,"o":"m 386 475 l 386 231 l 308 231 l 308 475 l 46 475 l 46 549 l 308 549 l 308 793 l 386 793 l 386 549 l 649 549 l 649 475 m 46 99 l 46 172 l 649 172 l 649 99 "},"²":{"ha":350,"x_min":0,"x_max":0,"o":"m 54 768 b 174 935 54 851 69 935 b 297 804 254 935 297 882 b 221 586 297 726 257 653 l 135 426 l 290 426 l 290 369 l 42 369 l 164 608 b 235 807 194 668 235 738 b 176 879 235 846 219 879 b 114 779 119 879 114 824 b 115 768 114 775 114 772 "},"³":{"ha":350,"x_min":0,"x_max":0,"o":"m 56 790 b 169 935 56 865 83 935 b 290 806 250 935 290 883 b 231 678 290 747 281 711 b 297 528 289 644 297 590 b 171 364 297 438 274 364 b 49 529 65 364 49 442 l 110 529 b 171 421 110 482 110 421 b 236 528 229 421 236 482 b 143 649 236 594 219 649 l 114 649 l 114 701 b 229 797 192 701 229 708 b 171 876 229 839 219 876 b 114 790 117 876 114 835 "},"´":{"ha":694,"x_min":0,"x_max":0,"o":"m 347 704 l 299 740 l 432 907 l 507 847 "},"µ":{"ha":694,"x_min":0,"x_max":0,"o":"m 540 0 l 540 131 b 336 -18 499 39 442 -18 b 150 89 253 -18 193 19 l 150 -250 l 72 -250 l 72 621 l 150 621 l 150 282 b 176 135 150 231 151 181 b 339 44 208 76 274 44 b 501 139 410 44 464 81 b 540 297 533 190 540 238 l 540 621 l 618 621 l 618 0 "},"¶":{"ha":772,"x_min":0,"x_max":0,"o":"m 599 863 l 599 -139 l 529 -139 l 529 863 l 375 863 l 375 -139 l 304 -139 l 304 435 l 282 435 b 26 678 139 435 26 531 b 329 926 26 860 167 926 l 676 926 l 676 863 "},"·":{"ha":283,"x_min":0,"x_max":0,"o":"m 222 476 b 142 396 222 432 186 396 b 60 476 97 396 60 432 b 142 558 60 522 96 558 b 222 476 186 558 222 521 "},"¸":{"ha":685,"x_min":0,"x_max":0,"o":"m 314 -257 l 264 -228 l 357 -51 l 421 -86 "},"¹":{"ha":351,"x_min":0,"x_max":0,"o":"m 153 371 l 153 869 l 76 869 l 76 926 l 215 926 l 215 371 "},"º":{"ha":333,"x_min":0,"x_max":0,"o":"m 288 719 b 169 511 288 639 276 511 b 47 722 63 511 47 640 b 169 932 47 803 64 932 b 288 719 276 932 288 800 m 51 413 l 51 458 l 283 458 l 283 413 m 226 721 b 168 876 226 760 224 876 b 107 717 108 876 107 758 b 168 565 107 676 110 565 b 226 721 224 565 226 682 "},"»":{"ha":451,"x_min":0,"x_max":0,"o":"m 256 60 l 201 92 l 333 329 l 201 561 l 256 590 l 406 329 m 100 60 l 46 92 l 178 329 l 46 561 l 100 590 l 250 329 "},"¼":{"ha":864,"x_min":0,"x_max":0,"o":"m 772 147 l 772 0 l 710 0 l 710 147 l 558 147 l 558 203 l 711 556 l 772 556 l 772 201 l 815 201 l 815 147 m 154 371 l 154 869 l 78 869 l 78 926 l 217 926 l 217 371 m 710 201 b 713 431 710 276 710 351 b 619 201 685 353 650 278 m 265 0 l 201 0 l 603 926 l 667 926 "},"½":{"ha":864,"x_min":0,"x_max":0,"o":"m 567 399 b 575 486 567 428 567 458 b 686 564 590 538 633 564 b 810 433 767 564 810 511 b 738 225 810 363 775 294 l 647 57 l 803 57 l 803 0 l 554 0 l 676 239 b 747 438 707 299 747 368 b 689 510 747 476 732 510 b 626 410 632 510 626 454 b 628 399 626 406 626 403 m 265 0 l 201 0 l 603 926 l 667 926 m 154 371 l 154 869 l 78 869 l 78 926 l 217 926 l 217 371 "},"¾":{"ha":863,"x_min":0,"x_max":0,"o":"m 771 147 l 771 0 l 708 0 l 708 147 l 556 147 l 556 203 l 710 556 l 771 556 l 771 201 l 813 201 l 813 147 m 56 790 b 169 935 56 865 83 935 b 290 806 250 935 290 883 b 231 678 290 747 281 711 b 297 528 289 644 297 590 b 171 364 297 438 274 364 b 49 529 65 364 49 442 l 110 529 b 171 421 110 482 110 421 b 236 528 229 421 236 482 b 143 649 236 594 219 649 l 114 649 l 114 701 b 229 797 192 701 229 708 b 171 876 229 839 219 876 b 114 790 117 876 114 835 m 708 201 b 711 431 708 278 708 354 b 617 201 682 353 649 278 m 265 0 l 201 0 l 603 926 l 667 926 "},"¿":{"ha":460,"x_min":0,"x_max":0,"o":"m 333 568 b 271 506 333 533 306 506 b 208 568 236 506 208 533 b 271 631 208 603 236 631 b 333 568 306 631 333 603 m 386 -136 b 226 -318 386 -242 340 -318 b 106 -264 181 -318 133 -301 b 74 -103 72 -218 74 -157 b 233 167 74 19 75 161 l 233 390 l 315 390 l 315 92 b 269 93 300 92 285 93 b 199 81 249 93 218 92 b 157 -112 151 53 157 -62 b 231 -243 157 -165 161 -243 b 304 -117 297 -243 304 -175 l 304 -71 l 386 -71 "},"À":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 236 992 l 76 1135 l 151 1194 l 285 1028 "},"Á":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 226 992 l 178 1028 l 311 1194 l 386 1135 "},"Â":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 328 992 l 225 1088 l 122 992 l 69 1044 l 225 1193 l 383 1044 "},"Ã":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 386 1114 b 292 1000 383 1060 354 1000 b 167 1047 243 1000 199 1047 b 144 1013 147 1047 144 1028 l 67 1013 b 164 1119 72 1068 103 1119 b 283 1075 207 1119 254 1075 b 307 1114 306 1075 307 1097 "},"Ä":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 371 1061 b 311 1000 371 1028 344 1000 b 251 1061 278 1000 251 1028 b 311 1121 251 1094 278 1121 b 371 1061 344 1121 371 1094 m 193 1061 b 133 1000 193 1028 167 1000 b 74 1061 100 1000 74 1028 b 133 1121 74 1094 100 1121 b 193 1061 167 1121 193 1094 "},"Å":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 338 1103 b 226 992 338 1042 288 992 b 115 1103 165 992 115 1042 b 226 1214 115 1164 165 1214 b 338 1103 288 1214 338 1164 m 282 1103 b 226 1158 282 1133 257 1158 b 171 1103 196 1158 171 1133 b 226 1047 171 1072 196 1047 b 282 1103 257 1047 282 1072 "},"Æ":{"ha":642,"x_min":0,"x_max":0,"o":"m 367 0 l 336 190 l 126 190 l 93 0 l 1 0 l 183 926 l 492 926 l 507 847 l 308 847 l 367 521 l 554 521 l 569 442 l 381 442 l 446 79 l 642 79 l 654 0 m 258 656 b 238 826 249 713 240 769 b 211 657 228 769 221 714 l 140 264 l 324 264 "},"Ç":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 m 257 -257 l 207 -228 l 300 -51 l 364 -86 "},"È":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 250 992 l 90 1135 l 165 1194 l 299 1028 "},"É":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 203 992 l 154 1028 l 288 1194 l 363 1135 "},"Ê":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 331 992 l 228 1088 l 125 992 l 72 1044 l 228 1193 l 386 1044 "},"Ë":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 378 1061 b 318 1000 378 1028 351 1000 b 258 1061 285 1000 258 1028 b 318 1121 258 1094 285 1121 b 378 1061 351 1121 378 1094 m 200 1061 b 140 1000 200 1028 174 1000 b 81 1061 107 1000 81 1028 b 140 1121 81 1094 107 1121 b 200 1061 174 1121 200 1094 "},"Ì":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 119 992 l -40 1135 l 35 1194 l 168 1028 "},"Í":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 119 992 l 71 1028 l 204 1194 l 279 1135 "},"Î":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 221 992 l 118 1088 l 15 992 l -37 1044 l 118 1193 l 276 1044 "},"Ï":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 268 1061 b 208 1000 268 1028 242 1000 b 149 1061 175 1000 149 1028 b 208 1121 149 1094 175 1121 b 268 1061 242 1121 268 1094 m 90 1061 b 31 1000 90 1028 64 1000 b -29 1061 -3 1000 -29 1028 b 31 1121 -29 1094 -3 1121 b 90 1061 64 1121 90 1094 "},"Ð":{"ha":515,"x_min":0,"x_max":0,"o":"m 185 926 b 449 696 353 926 421 861 b 463 465 461 621 463 542 b 438 174 463 389 460 246 b 190 0 397 46 324 0 l 76 0 l 76 446 l 11 446 l 11 515 l 76 515 l 76 926 m 203 79 b 310 118 243 79 281 88 b 375 417 374 185 375 317 b 350 735 375 492 371 665 b 200 847 325 814 285 847 l 163 847 l 163 515 l 288 515 l 288 446 l 163 446 l 163 79 "},"Ñ":{"ha":538,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 m 429 1114 b 335 1000 426 1060 397 1000 b 210 1047 286 1000 242 1047 b 188 1013 190 1047 188 1028 l 110 1013 b 207 1119 115 1068 146 1119 b 326 1075 250 1119 297 1075 b 350 1114 349 1075 350 1097 "},"Ò":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 306 992 l 146 1135 l 221 1194 l 354 1028 "},"Ó":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 281 992 l 232 1028 l 365 1194 l 440 1135 "},"Ô":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 382 992 l 279 1088 l 176 992 l 124 1044 l 279 1193 l 438 1044 "},"Õ":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 440 1114 b 346 1000 438 1060 408 1000 b 221 1047 297 1000 253 1047 b 199 1013 201 1047 199 1028 l 121 1013 b 218 1119 126 1068 157 1119 b 338 1075 261 1119 308 1075 b 361 1114 360 1075 361 1097 "},"Ö":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 429 1061 b 369 1000 429 1028 403 1000 b 310 1061 336 1000 310 1028 b 369 1121 310 1094 336 1121 b 429 1061 403 1121 429 1094 m 251 1061 b 192 1000 251 1028 225 1000 b 132 1061 158 1000 132 1028 b 192 1121 132 1094 158 1121 b 251 1061 225 1121 251 1094 "},"×":{"ha":694,"x_min":0,"x_max":0,"o":"m 399 460 l 586 274 l 535 221 l 347 408 l 160 221 l 108 274 l 296 460 l 108 647 l 160 700 l 347 513 l 535 700 l 586 647 "},"Ø":{"ha":594,"x_min":0,"x_max":0,"o":"m 483 788 b 525 461 519 692 525 564 b 299 -12 525 306 517 -12 b 147 71 232 -12 183 15 l 107 -11 l 53 15 l 113 139 b 69 467 75 239 69 361 b 296 939 69 618 83 939 b 449 856 360 939 415 911 l 488 938 l 542 911 m 403 768 b 299 856 386 817 354 856 b 157 479 158 856 157 576 b 171 250 157 403 160 326 m 194 158 b 297 71 213 111 242 71 b 432 304 408 71 425 222 b 438 469 436 358 438 414 b 425 675 438 538 433 607 "},"Ù":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 271 992 l 111 1135 l 186 1194 l 319 1028 "},"Ú":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 271 992 l 222 1028 l 356 1194 l 431 1135 "},"Û":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 372 992 l 269 1088 l 167 992 l 114 1044 l 269 1193 l 428 1044 "},"Ü":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 419 1061 b 360 1000 419 1028 393 1000 b 300 1061 326 1000 300 1028 b 360 1121 300 1094 326 1121 b 419 1061 393 1121 419 1094 m 242 1061 b 182 1000 242 1028 215 1000 b 122 1061 149 1000 122 1028 b 182 1121 122 1094 149 1121 b 242 1061 215 1121 242 1094 "},"Ý":{"ha":439,"x_min":0,"x_max":0,"o":"m 268 401 l 268 0 l 182 0 l 182 401 l 1 926 l 94 926 l 181 661 b 225 490 192 628 213 553 b 265 660 231 526 239 572 l 344 926 l 438 926 m 208 992 l 160 1028 l 293 1194 l 368 1135 "},"Þ":{"ha":457,"x_min":0,"x_max":0,"o":"m 163 764 b 422 515 350 764 422 713 b 199 282 422 350 368 282 l 163 282 l 163 0 l 76 0 l 76 926 l 163 926 m 219 361 b 335 515 321 361 335 428 b 206 685 335 615 321 685 l 163 685 l 163 361 "},"ß":{"ha":467,"x_min":0,"x_max":0,"o":"m 76 783 b 240 1028 76 899 93 1028 b 408 789 371 1028 408 924 b 319 581 408 696 394 614 b 357 558 333 575 346 568 b 419 282 419 507 419 357 b 244 0 419 181 407 0 l 215 0 l 215 78 l 239 78 b 335 217 317 78 329 156 b 339 333 339 261 339 307 b 240 540 339 401 338 540 l 215 540 l 215 621 l 239 621 b 328 775 319 621 328 692 b 239 956 328 856 319 956 b 157 793 157 956 157 851 l 157 0 l 76 0 l 76 540 l 6 540 l 6 621 l 76 621 "},"à":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 250 704 l 90 847 l 165 907 l 299 740 "},"á":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 208 704 l 160 740 l 293 907 l 368 847 "},"â":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 324 704 l 221 800 l 118 704 l 65 757 l 221 906 l 379 757 "},"ã":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 382 826 b 288 713 379 772 350 713 b 163 760 239 713 194 760 b 140 725 143 760 140 740 l 63 725 b 160 832 68 781 99 832 b 279 788 203 832 250 788 b 303 826 301 788 303 810 "},"ä":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 371 774 b 311 713 371 740 344 713 b 251 774 278 713 251 740 b 311 833 251 807 278 833 b 371 774 344 833 371 807 m 193 774 b 133 713 193 740 167 713 b 74 774 100 713 74 740 b 133 833 74 807 100 833 b 193 774 167 833 193 807 "},"å":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 326 815 b 215 704 326 754 276 704 b 104 815 154 704 104 754 b 215 926 104 876 154 926 b 326 815 276 926 326 876 m 271 815 b 215 871 271 846 246 871 b 160 815 185 871 160 846 b 215 760 160 785 185 760 b 271 815 246 760 271 785 "},"æ":{"ha":706,"x_min":0,"x_max":0,"o":"m 385 297 b 493 63 385 229 397 63 b 576 215 565 63 575 160 l 650 215 b 489 -10 647 119 604 -10 b 354 93 421 -10 381 38 b 204 -10 328 32 272 -10 b 46 208 86 -10 46 108 b 201 414 46 308 86 414 b 313 363 244 414 286 396 l 313 381 b 192 558 313 463 292 558 b 83 508 149 558 114 533 l 83 594 b 196 631 117 618 153 631 b 354 526 269 631 324 593 b 488 631 376 581 425 631 b 658 297 643 631 657 411 m 581 363 b 482 558 581 424 564 558 b 388 363 404 558 388 419 m 314 201 b 215 350 314 264 294 350 b 122 208 139 350 122 269 b 215 64 122 149 139 64 b 314 201 290 64 314 140 "},"ç":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 m 185 -257 l 135 -228 l 228 -51 l 292 -86 "},"è":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 250 704 l 90 847 l 165 907 l 299 740 "},"é":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 208 704 l 160 740 l 293 907 l 368 847 "},"ê":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 322 704 l 219 800 l 117 704 l 64 757 l 219 906 l 378 757 "},"ë":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 369 774 b 310 713 369 740 343 713 b 250 774 276 713 250 740 b 310 833 250 807 276 833 b 369 774 343 833 369 807 m 192 774 b 132 713 192 740 165 713 b 72 774 99 713 72 740 b 132 833 72 807 99 833 b 192 774 165 833 192 807 "},"ì":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 110 704 l -50 847 l 25 907 l 158 740 "},"í":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 110 704 l 61 740 l 194 907 l 269 847 "},"î":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 211 704 l 108 800 l 6 704 l -47 757 l 108 906 l 267 757 "},"ï":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 258 774 b 199 713 258 740 232 713 b 139 774 165 713 139 740 b 199 833 139 807 165 833 b 258 774 232 833 258 807 m 81 774 b 21 713 81 740 54 713 b -39 774 -12 713 -39 740 b 21 833 -39 807 -12 833 b 81 774 54 833 81 807 "},"ð":{"ha":449,"x_min":0,"x_max":0,"o":"m 292 907 b 371 750 332 857 354 811 b 401 311 399 613 401 424 b 357 67 401 235 397 136 b 229 -10 329 21 283 -10 b 46 311 68 -10 46 189 b 224 631 46 426 68 631 b 310 583 261 631 290 617 b 233 868 301 706 293 792 l 143 807 l 110 860 l 188 911 b 69 979 153 940 113 963 l 101 1028 b 246 950 161 1008 196 988 l 338 1007 l 371 956 m 321 311 b 224 558 321 375 318 558 b 126 311 131 558 126 371 b 226 63 126 247 128 63 b 293 115 258 63 281 88 b 321 311 314 164 321 258 "},"ñ":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 496 147 454 l 147 0 l 69 0 l 69 621 l 147 621 l 147 571 b 268 631 178 606 219 631 b 389 460 372 631 389 544 l 389 0 m 403 826 b 308 713 400 772 371 713 b 183 760 260 713 215 760 b 161 725 164 760 161 740 l 83 725 b 181 832 89 781 119 832 b 300 788 224 832 271 788 b 324 826 322 788 324 810 "},"ò":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 250 704 l 90 847 l 165 907 l 299 740 "},"ó":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 214 704 l 165 740 l 299 907 l 374 847 "},"ô":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 329 704 l 226 800 l 124 704 l 71 757 l 226 906 l 385 757 "},"õ":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 388 826 b 293 713 385 772 356 713 b 168 760 244 713 200 760 b 146 725 149 760 146 740 l 68 725 b 165 832 74 781 104 832 b 285 788 208 832 256 788 b 308 826 307 788 308 810 "},"ö":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 376 774 b 317 713 376 740 350 713 b 257 774 283 713 257 740 b 317 833 257 807 283 833 b 376 774 350 833 376 807 m 199 774 b 139 713 199 740 172 713 b 79 774 106 713 79 740 b 139 833 79 807 106 833 b 199 774 172 833 199 807 "},"÷":{"ha":694,"x_min":0,"x_max":0,"o":"m 406 718 b 347 658 406 686 379 658 b 289 718 315 658 289 686 b 347 776 289 750 315 776 b 406 718 379 776 406 750 m 46 424 l 46 497 l 649 497 l 649 424 m 406 203 b 347 143 406 171 379 143 b 289 203 315 143 289 171 b 347 261 289 235 315 261 b 406 203 379 261 406 235 "},"ø":{"ha":488,"x_min":0,"x_max":0,"o":"m 393 521 b 422 307 418 453 422 379 b 249 -10 422 189 407 -10 b 124 51 197 -10 154 11 l 89 -4 l 46 21 l 96 107 b 67 310 74 171 67 242 b 247 631 67 429 89 631 b 365 572 296 631 335 611 l 399 631 l 442 604 m 315 499 b 246 558 303 529 282 558 b 147 308 151 558 147 374 b 154 196 147 271 150 233 m 172 125 b 246 64 185 93 208 64 b 342 306 336 64 342 243 b 333 422 342 344 338 383 "},"ù":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 250 704 l 90 847 l 165 907 l 299 740 "},"ú":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 222 704 l 174 740 l 307 907 l 382 847 "},"û":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 335 704 l 232 800 l 129 704 l 76 757 l 232 906 l 390 757 "},"ü":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 382 774 b 322 713 382 740 356 713 b 263 774 289 713 263 740 b 322 833 263 807 289 833 b 382 774 356 833 382 807 m 204 774 b 144 713 204 740 178 713 b 85 774 111 713 85 740 b 144 833 85 807 111 833 b 204 774 178 833 204 807 "},"ý":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 197 704 l 149 740 l 282 907 l 357 847 "},"þ":{"ha":450,"x_min":0,"x_max":0,"o":"m 147 579 b 246 631 174 614 201 631 b 400 322 399 631 400 435 b 254 -10 400 189 396 -10 b 147 50 206 -10 176 14 l 147 -250 l 69 -250 l 69 1013 l 147 1013 m 319 343 b 228 568 319 406 318 568 b 140 314 149 568 140 444 b 179 75 140 260 140 114 b 229 54 193 60 208 54 b 315 197 301 54 310 143 b 319 343 319 246 319 294 "},"ÿ":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 363 774 b 303 713 363 740 336 713 b 243 774 269 713 243 740 b 303 833 243 807 269 833 b 363 774 336 833 363 807 m 185 774 b 125 713 185 740 158 713 b 65 774 92 713 65 740 b 125 833 65 807 92 833 b 185 774 158 833 185 807 "},"Ā":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 71 1010 l 71 1086 l 382 1086 l 382 1010 "},"ā":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 75 722 l 75 799 l 386 799 l 386 722 "},"Ă":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 397 1125 b 226 997 388 1035 308 997 b 56 1125 144 997 65 1035 l 122 1125 b 226 1068 140 1082 183 1068 b 331 1125 269 1068 313 1082 "},"ă":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 389 832 b 218 704 379 742 300 704 b 47 832 136 704 57 742 l 114 832 b 218 775 132 789 175 775 b 322 832 261 775 304 789 "},"Ą":{"ha":451,"x_min":0,"x_max":0,"o":"m 265 926 l 450 0 l 422 0 b 375 -54 407 -15 386 -37 b 356 -104 357 -79 356 -97 b 368 -133 356 -117 361 -126 b 400 -143 374 -137 383 -143 b 442 -132 411 -143 426 -140 l 442 -199 b 386 -211 424 -207 407 -211 b 311 -183 364 -211 335 -208 b 288 -121 294 -165 288 -142 b 311 -54 288 -92 300 -69 b 358 0 324 -37 344 -14 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 m 249 592 b 222 810 239 642 229 710 b 172 433 217 738 204 606 l 142 265 l 310 265 "},"ą":{"ha":454,"x_min":0,"x_max":0,"o":"m 382 621 l 382 0 l 364 0 b 319 -50 363 -3 336 -25 b 301 -99 315 -57 301 -76 b 315 -131 301 -115 310 -125 b 347 -142 324 -137 336 -142 b 396 -128 361 -142 381 -136 l 396 -193 b 335 -208 375 -204 356 -208 b 267 -189 301 -208 279 -199 b 235 -122 246 -172 235 -147 b 257 -57 235 -96 249 -71 b 301 0 268 -39 286 -17 l 301 50 b 196 -10 278 10 238 -10 b 99 40 158 -10 125 4 b 50 308 63 89 50 175 l 50 317 b 110 592 50 396 50 529 b 204 631 133 617 165 631 b 301 579 246 631 281 611 l 301 621 m 310 331 b 267 550 310 424 310 510 b 222 568 253 563 239 568 b 176 549 203 568 190 563 b 131 347 140 510 131 438 l 131 293 b 172 75 131 160 147 103 b 221 54 185 61 199 54 b 272 75 246 54 263 64 b 310 314 293 96 310 144 "},"Ć":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 m 306 992 l 257 1028 l 390 1194 l 465 1135 "},"ć":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 m 222 704 l 174 740 l 307 907 l 382 847 "},"Ĉ":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 m 407 992 l 304 1088 l 201 992 l 149 1044 l 304 1193 l 463 1044 "},"ĉ":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 m 324 704 l 221 800 l 118 704 l 65 757 l 221 906 l 379 757 "},"Ċ":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 m 358 1064 b 294 1000 358 1029 329 1000 b 232 1064 260 1000 232 1029 b 294 1126 232 1099 260 1126 b 358 1064 329 1126 358 1099 "},"ċ":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 m 282 776 b 218 713 282 742 253 713 b 156 776 183 713 156 742 b 218 839 156 811 183 839 b 282 776 253 839 282 811 "},"Č":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 m 304 992 l 149 1140 l 201 1193 l 304 1097 l 407 1193 l 463 1140 "},"č":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 m 221 704 l 65 853 l 118 906 l 221 810 l 324 906 l 379 853 "},"Ď":{"ha":515,"x_min":0,"x_max":0,"o":"m 185 926 b 450 685 363 926 424 854 b 463 449 461 607 463 528 b 386 74 463 336 461 164 b 190 0 335 13 267 0 l 76 0 l 76 926 m 203 79 b 374 390 369 79 374 265 b 367 631 374 468 374 547 b 199 847 357 742 335 847 l 163 847 l 163 79 m 221 992 l 65 1140 l 118 1193 l 221 1097 l 324 1193 l 379 1140 "},"ď":{"ha":586,"x_min":0,"x_max":0,"o":"m 299 0 l 299 50 b 192 -10 271 13 240 -10 b 46 306 49 -10 46 197 b 200 631 46 426 46 631 b 299 579 244 631 271 614 l 299 1013 l 376 1013 l 376 0 m 306 310 b 218 568 306 440 299 568 b 128 347 129 568 128 408 b 132 197 128 296 128 247 b 217 54 136 143 144 54 b 268 75 238 54 254 60 b 306 310 306 113 306 258 m 497 672 l 443 699 l 519 939 l 600 900 "},"Đ":{"ha":515,"x_min":0,"x_max":0,"o":"m 185 926 b 449 696 353 926 421 861 b 463 465 461 621 463 542 b 438 174 463 389 460 246 b 190 0 397 46 324 0 l 76 0 l 76 446 l 11 446 l 11 515 l 76 515 l 76 926 m 203 79 b 310 118 243 79 281 88 b 375 417 374 185 375 317 b 350 735 375 492 371 665 b 200 847 325 814 285 847 l 163 847 l 163 515 l 288 515 l 288 446 l 163 446 l 163 79 "},"đ":{"ha":451,"x_min":0,"x_max":0,"o":"m 299 0 l 299 50 b 193 -10 272 13 240 -10 b 46 306 49 -10 46 197 b 200 597 46 393 46 597 b 299 546 244 597 272 581 l 299 739 l 156 739 l 156 811 l 299 811 l 299 1013 l 378 1013 l 378 811 l 446 811 l 446 739 l 378 739 l 378 0 m 306 310 b 218 535 306 396 306 535 b 128 322 129 535 128 375 b 132 197 128 290 128 247 b 217 54 136 143 144 54 b 269 75 238 54 254 60 b 306 310 306 114 306 257 "},"Ē":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 69 1010 l 69 1086 l 381 1086 l 381 1010 "},"ē":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 65 722 l 65 799 l 376 799 l 376 722 "},"Ė":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 289 1064 b 225 1000 289 1029 260 1000 b 163 1064 190 1000 163 1029 b 225 1126 163 1099 190 1126 b 289 1064 260 1126 289 1099 "},"ė":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 285 776 b 221 713 285 742 256 713 b 158 776 186 713 158 742 b 221 839 158 811 186 839 b 285 776 256 839 285 811 "},"Ę":{"ha":418,"x_min":0,"x_max":0,"o":"m 163 442 l 163 79 l 365 79 l 365 0 l 346 0 b 297 -46 329 -14 308 -35 b 274 -99 286 -58 274 -75 b 286 -131 274 -114 281 -125 b 322 -143 294 -139 308 -143 b 365 -132 326 -143 344 -143 l 365 -199 b 304 -211 347 -207 328 -211 b 229 -183 283 -211 253 -208 b 206 -122 218 -172 206 -151 b 231 -51 206 -94 215 -72 b 282 0 243 -35 265 -14 l 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 "},"ę":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 339 46 382 119 353 68 b 274 -37 319 15 301 -1 b 247 -97 261 -54 247 -75 b 261 -131 247 -108 251 -122 b 293 -142 269 -137 282 -142 b 342 -128 307 -142 326 -136 l 342 -193 b 278 -208 324 -203 303 -208 b 213 -189 243 -208 222 -196 b 181 -124 190 -172 181 -147 b 201 -60 181 -103 189 -79 b 239 -10 210 -46 235 -17 b 118 36 206 -10 158 -6 b 46 301 58 97 46 217 b 126 592 46 407 58 525 b 224 631 154 619 185 631 b 318 590 268 631 299 610 b 390 353 374 535 390 436 b 388 294 390 332 389 313 l 125 294 l 125 289 b 136 167 125 247 129 201 b 172 86 147 117 163 96 b 226 64 185 74 201 64 b 269 83 246 64 258 71 b 304 211 294 111 304 167 m 311 361 b 265 540 310 414 296 510 b 222 558 253 553 238 558 b 178 540 204 558 189 550 b 126 361 144 510 128 418 "},"Ě":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 228 992 l 72 1140 l 125 1193 l 228 1097 l 331 1193 l 386 1140 "},"ě":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 219 704 l 64 853 l 117 906 l 219 810 l 322 906 l 378 853 "},"Ĝ":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 m 379 992 l 276 1088 l 174 992 l 121 1044 l 276 1193 l 435 1044 "},"ĝ":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 m 335 704 l 232 800 l 129 704 l 76 757 l 232 906 l 390 757 "},"Ğ":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 m 449 1125 b 278 997 439 1035 360 997 b 107 1125 196 997 117 1035 l 174 1125 b 278 1068 192 1082 235 1068 b 382 1125 321 1068 364 1082 "},"ğ":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 m 404 832 b 233 704 394 742 315 704 b 63 832 151 704 72 742 l 129 832 b 233 775 147 789 190 775 b 338 832 276 775 319 789 "},"Ġ":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 m 333 1064 b 269 1000 333 1029 304 1000 b 207 1064 235 1000 207 1029 b 269 1126 207 1099 235 1126 b 333 1064 304 1126 333 1099 "},"ġ":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 m 278 776 b 214 713 278 742 249 713 b 151 776 179 713 151 742 b 214 839 151 811 179 839 b 278 776 249 839 278 811 "},"Ģ":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 m 240 -321 l 186 -294 l 260 -68 l 340 -107 "},"ģ":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 m 251 950 l 306 924 l 232 697 l 151 736 "},"Ĥ":{"ha":535,"x_min":0,"x_max":0,"o":"m 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 374 557 l 374 926 l 460 926 l 460 0 m 369 992 l 267 1088 l 164 992 l 111 1044 l 267 1193 l 425 1044 "},"ĥ":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 494 147 454 l 147 0 l 69 0 l 69 1013 l 147 1013 l 147 571 b 268 631 178 606 219 631 b 389 471 369 631 389 558 l 389 0 m 213 1024 l 110 1119 l 7 1024 l -46 1076 l 110 1225 l 268 1076 "},"Ħ":{"ha":535,"x_min":0,"x_max":0,"o":"m 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 781 l 7 781 l 7 846 l 76 846 l 76 926 l 163 926 l 163 846 l 374 846 l 374 926 l 460 926 l 460 846 l 529 846 l 529 781 l 460 781 l 460 0 m 163 781 l 163 557 l 374 557 l 374 781 "},"ħ":{"ha":472,"x_min":0,"x_max":0,"o":"m 325 0 l 325 413 b 256 533 325 464 326 533 b 181 493 226 533 197 518 b 160 385 160 461 160 421 l 160 0 l 82 0 l 82 739 l 14 739 l 14 811 l 82 811 l 82 1013 l 160 1013 l 160 811 l 304 811 l 304 739 l 160 739 l 160 538 b 281 597 192 572 233 597 b 403 438 382 597 403 525 l 403 0 "},"Ī":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m -39 1010 l -39 1086 l 272 1086 l 272 1010 "},"ī":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m -46 722 l -46 799 l 265 799 l 265 722 "},"Į":{"ha":238,"x_min":0,"x_max":0,"o":"m 163 926 l 163 0 b 114 -46 146 -14 125 -35 b 90 -99 103 -58 90 -75 b 103 -131 90 -114 97 -125 b 139 -143 111 -139 125 -143 b 182 -132 143 -143 161 -143 l 182 -199 b 121 -211 164 -207 144 -211 b 46 -183 100 -211 69 -208 b 22 -122 35 -172 22 -151 b 47 -51 22 -94 32 -72 b 99 0 60 -35 82 -14 l 76 0 l 76 926 "},"į":{"ha":215,"x_min":0,"x_max":0,"o":"m 147 621 l 147 0 b 104 -49 132 -14 117 -31 b 85 -100 96 -61 85 -81 b 99 -131 85 -115 92 -125 b 131 -142 107 -137 119 -142 b 179 -128 144 -142 164 -136 l 179 -193 b 118 -208 158 -204 139 -208 b 50 -189 85 -208 63 -199 b 18 -122 29 -172 18 -147 b 40 -57 18 -96 32 -71 b 85 0 51 -39 69 -17 l 69 0 l 69 621 m 50 817 b 107 875 50 846 74 875 b 167 817 140 875 167 847 b 107 758 167 786 140 758 b 50 817 74 758 50 788 "},"İ":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 183 1064 b 119 1000 183 1029 154 1000 b 57 1064 85 1000 57 1029 b 119 1126 57 1099 85 1126 b 183 1064 154 1126 183 1099 "},"ı":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 "},"Ĵ":{"ha":311,"x_min":0,"x_max":0,"o":"m 235 133 b 233 93 235 119 235 107 b 101 -14 226 18 172 -14 b 1 11 65 -14 33 -4 l 1 100 b 88 61 28 78 53 61 b 149 154 147 61 149 110 l 149 926 l 235 926 m 286 992 l 183 1088 l 81 992 l 28 1044 l 183 1193 l 342 1044 "},"ĵ":{"ha":221,"x_min":0,"x_max":0,"o":"m 72 -250 l 72 621 l 153 621 l 153 -250 m 214 704 l 111 800 l 8 704 l -44 757 l 111 906 l 269 757 "},"Ķ":{"ha":457,"x_min":0,"x_max":0,"o":"m 349 0 l 163 467 l 163 0 l 76 0 l 76 926 l 163 926 l 163 506 l 349 926 l 444 926 l 244 485 l 446 0 m 221 -321 l 167 -294 l 240 -68 l 321 -107 "},"ķ":{"ha":417,"x_min":0,"x_max":0,"o":"m 340 0 l 147 297 l 147 0 l 69 0 l 69 1013 l 147 1013 l 147 368 l 303 621 l 390 621 l 213 343 l 439 0 m 207 -321 l 153 -294 l 226 -68 l 307 -107 "},"Ĺ":{"ha":365,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 79 l 363 79 l 363 0 m 139 992 l 90 1028 l 224 1194 l 299 1135 "},"ĺ":{"ha":218,"x_min":0,"x_max":0,"o":"m 69 0 l 69 1013 l 149 1013 l 149 0 m 110 1065 l 61 1101 l 194 1268 l 269 1208 "},"Ļ":{"ha":365,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 79 l 363 79 l 363 0 m 186 -321 l 132 -294 l 206 -68 l 286 -107 "},"ļ":{"ha":218,"x_min":0,"x_max":0,"o":"m 69 0 l 69 1013 l 149 1013 l 149 0 m 76 -321 l 22 -294 l 96 -68 l 176 -107 "},"Ľ":{"ha":365,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 79 l 363 79 l 363 0 m 276 642 l 222 668 l 311 939 l 392 900 "},"ľ":{"ha":336,"x_min":0,"x_max":0,"o":"m 69 0 l 69 1013 l 149 1013 l 149 0 m 247 672 l 193 699 l 269 939 l 350 900 "},"Ŀ":{"ha":365,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 79 l 363 79 l 363 0 m 358 464 b 294 400 358 429 329 400 b 232 464 260 400 232 429 b 294 526 232 499 260 526 b 358 464 329 526 358 499 "},"ŀ":{"ha":317,"x_min":0,"x_max":0,"o":"m 69 0 l 69 1013 l 149 1013 l 149 0 m 331 507 b 267 443 331 472 301 443 b 204 507 232 443 204 472 b 267 569 204 542 232 569 b 331 507 301 569 331 542 "},"Ł":{"ha":365,"x_min":0,"x_max":0,"o":"m 78 0 l 78 389 l 10 292 l 10 381 l 78 478 l 78 926 l 164 926 l 164 547 l 283 692 l 283 603 l 164 458 l 164 79 l 364 79 l 364 0 "},"ł":{"ha":236,"x_min":0,"x_max":0,"o":"m 158 540 l 158 0 l 79 0 l 79 465 l 10 368 l 10 460 l 79 556 l 79 1013 l 158 1013 l 158 631 l 228 726 l 228 636 "},"Ń":{"ha":538,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 m 256 992 l 207 1028 l 340 1194 l 415 1135 "},"ń":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 496 147 454 l 147 0 l 69 0 l 69 621 l 147 621 l 147 571 b 268 631 178 606 219 631 b 389 460 372 631 389 544 l 389 0 m 232 704 l 183 740 l 317 907 l 392 847 "},"Ņ":{"ha":538,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 m 235 -321 l 181 -294 l 254 -68 l 335 -107 "},"ņ":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 496 147 454 l 147 0 l 69 0 l 69 621 l 147 621 l 147 571 b 268 631 178 606 219 631 b 389 460 372 631 389 544 l 389 0 m 199 -321 l 144 -294 l 218 -68 l 299 -107 "},"Ň":{"ha":538,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 m 268 992 l 113 1140 l 165 1193 l 268 1097 l 371 1193 l 426 1140 "},"ň":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 451 b 242 567 311 501 310 567 b 168 526 213 567 183 551 b 147 418 147 496 147 454 l 147 0 l 69 0 l 69 621 l 147 621 l 147 571 b 268 631 178 606 219 631 b 389 460 372 631 389 544 l 389 0 m 242 704 l 86 853 l 139 906 l 242 810 l 344 906 l 400 853 "},"Ō":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 125 1010 l 125 1086 l 436 1086 l 436 1010 "},"ō":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 72 722 l 72 799 l 383 799 l 383 722 "},"Ŏ":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 451 1125 b 281 997 442 1035 363 997 b 110 1125 199 997 119 1035 l 176 1125 b 281 1068 194 1082 238 1068 b 385 1125 324 1068 367 1082 "},"ŏ":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 399 832 b 228 704 389 742 310 704 b 57 832 146 704 67 742 l 124 832 b 228 775 142 789 185 775 b 332 832 271 775 314 789 "},"Ő":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 365 992 l 314 1010 l 385 1183 l 463 1153 m 224 992 l 172 1010 l 242 1183 l 319 1153 "},"ő":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 303 704 l 251 722 l 322 896 l 400 865 m 161 704 l 110 722 l 179 896 l 257 865 "},"Œ":{"ha":751,"x_min":0,"x_max":0,"o":"m 413 0 l 413 96 b 265 -14 385 29 340 -14 b 53 472 61 -14 53 329 b 272 939 53 618 67 939 b 413 843 338 939 383 897 l 413 926 l 699 926 l 699 847 l 494 847 l 494 521 l 693 521 l 693 442 l 494 442 l 494 79 l 699 79 l 699 0 m 410 419 b 397 661 410 500 407 581 b 276 856 389 732 369 856 b 190 796 232 856 210 833 b 140 424 147 714 140 519 b 275 71 140 332 142 71 b 410 419 408 71 410 328 "},"œ":{"ha":697,"x_min":0,"x_max":0,"o":"m 385 297 b 492 64 386 228 393 64 b 565 214 561 64 565 164 l 638 214 b 639 176 639 201 639 189 b 488 -10 639 88 586 -10 b 347 122 410 -10 365 53 b 215 -10 332 56 292 -10 b 46 315 68 -10 46 206 b 215 631 46 424 71 631 b 347 500 290 631 332 567 b 489 631 363 569 414 631 b 651 297 642 631 651 408 m 576 374 b 482 558 576 431 558 558 b 386 363 400 558 386 422 l 576 363 m 311 306 b 217 558 311 367 306 558 b 121 319 131 558 121 379 b 218 64 121 258 129 64 b 311 306 301 64 311 247 "},"Ŕ":{"ha":522,"x_min":0,"x_max":0,"o":"m 392 0 l 176 453 l 176 0 l 82 0 l 82 926 l 199 926 b 358 900 253 926 310 926 b 458 678 442 856 458 764 b 275 444 458 550 415 456 l 490 0 m 233 521 b 363 683 344 521 363 586 b 222 847 363 790 340 847 l 176 847 l 176 521 m 236 992 l 188 1028 l 321 1194 l 396 1135 "},"ŕ":{"ha":271,"x_min":0,"x_max":0,"o":"m 253 540 b 147 376 149 540 147 457 l 147 0 l 69 0 l 69 621 l 147 621 l 147 540 b 253 631 168 586 199 628 m 153 704 l 104 740 l 238 907 l 313 847 "},"Ŗ":{"ha":522,"x_min":0,"x_max":0,"o":"m 392 0 l 176 453 l 176 0 l 82 0 l 82 926 l 199 926 b 358 900 253 926 310 926 b 458 678 442 856 458 764 b 275 444 458 550 415 456 l 490 0 m 233 521 b 363 683 344 521 363 586 b 222 847 363 790 340 847 l 176 847 l 176 521 m 249 -321 l 194 -294 l 268 -68 l 349 -107 "},"ŗ":{"ha":271,"x_min":0,"x_max":0,"o":"m 253 540 b 147 376 149 540 147 457 l 147 0 l 69 0 l 69 621 l 147 621 l 147 540 b 253 631 168 586 199 628 m 96 -321 l 42 -294 l 115 -68 l 196 -107 "},"Ř":{"ha":522,"x_min":0,"x_max":0,"o":"m 392 0 l 176 453 l 176 0 l 82 0 l 82 926 l 199 926 b 358 900 253 926 310 926 b 458 678 442 856 458 764 b 275 444 458 550 415 456 l 490 0 m 233 521 b 363 683 344 521 363 586 b 222 847 363 790 340 847 l 176 847 l 176 521 m 235 992 l 79 1140 l 132 1193 l 235 1097 l 338 1193 l 393 1140 "},"ř":{"ha":271,"x_min":0,"x_max":0,"o":"m 253 540 b 147 376 149 540 147 457 l 147 0 l 69 0 l 69 621 l 147 621 l 147 540 b 253 631 168 586 199 628 m 151 704 l -4 853 l 49 906 l 151 810 l 254 906 l 310 853 "},"Ś":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 m 243 992 l 194 1028 l 328 1194 l 403 1135 "},"ś":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 m 175 704 l 126 740 l 260 907 l 335 847 "},"Ŝ":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 m 342 992 l 239 1088 l 136 992 l 83 1044 l 239 1193 l 397 1044 "},"ŝ":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 m 296 704 l 193 800 l 90 704 l 38 757 l 193 906 l 351 757 "},"Ş":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 m 157 -257 l 107 -228 l 200 -51 l 264 -86 "},"ş":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 m 114 -257 l 64 -228 l 157 -51 l 221 -86 "},"Š":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 m 239 992 l 83 1140 l 136 1193 l 239 1097 l 342 1193 l 397 1140 "},"š":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 m 193 704 l 38 853 l 90 906 l 193 810 l 296 906 l 351 853 "},"Ţ":{"ha":368,"x_min":0,"x_max":0,"o":"m 226 847 l 226 0 l 140 0 l 140 847 l 1 847 l 1 926 l 365 926 l 365 847 m 146 -257 l 96 -228 l 189 -51 l 253 -86 "},"ţ":{"ha":276,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 26 549 l 26 621 l 93 621 l 93 797 l 171 797 l 171 621 l 275 621 l 275 549 m 90 -257 l 40 -228 l 133 -51 l 197 -86 "},"Ť":{"ha":368,"x_min":0,"x_max":0,"o":"m 226 847 l 226 0 l 140 0 l 140 847 l 1 847 l 1 926 l 365 926 l 365 847 m 183 992 l 28 1140 l 81 1193 l 183 1097 l 286 1193 l 342 1140 "},"ť":{"ha":364,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 26 549 l 26 621 l 93 621 l 93 797 l 171 797 l 171 621 l 275 621 l 275 549 m 275 672 l 221 699 l 297 939 l 378 900 "},"Ũ":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 431 1114 b 336 1000 428 1060 399 1000 b 211 1047 288 1000 243 1047 b 189 1013 192 1047 189 1028 l 111 1013 b 208 1119 117 1068 147 1119 b 328 1075 251 1119 299 1075 b 351 1114 350 1075 351 1097 "},"ũ":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 393 826 b 299 713 390 772 361 713 b 174 760 250 713 206 760 b 151 725 154 760 151 740 l 74 725 b 171 832 79 781 110 832 b 290 788 214 832 261 788 b 314 826 313 788 314 810 "},"Ū":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 115 1010 l 115 1086 l 426 1086 l 426 1010 "},"ū":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 78 722 l 78 799 l 389 799 l 389 722 "},"Ŭ":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 442 1125 b 271 997 432 1035 353 997 b 100 1125 189 997 110 1035 l 167 1125 b 271 1068 185 1082 228 1068 b 375 1125 314 1068 357 1082 "},"ŭ":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 404 832 b 233 704 394 742 315 704 b 63 832 151 704 72 742 l 129 832 b 233 775 147 789 190 775 b 338 832 276 775 319 789 "},"Ů":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 383 1103 b 272 992 383 1042 333 992 b 161 1103 211 992 161 1042 b 272 1214 161 1164 211 1214 b 383 1103 333 1214 383 1164 m 328 1103 b 272 1158 328 1133 303 1158 b 217 1103 242 1158 217 1133 b 272 1047 217 1072 242 1047 b 328 1103 303 1047 328 1072 "},"ů":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 346 815 b 235 704 346 754 296 704 b 124 815 174 704 124 754 b 235 926 124 876 174 926 b 346 815 296 926 346 876 m 290 815 b 235 871 290 846 265 871 b 179 815 204 871 179 846 b 235 760 179 785 204 760 b 290 815 265 760 290 785 "},"Ű":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 453 117 465 201 464 158 b 271 -12 429 31 358 -12 b 89 117 183 -12 114 31 b 76 246 76 158 76 203 l 76 926 l 163 926 l 163 233 b 271 71 163 156 172 71 b 379 285 392 71 379 200 l 379 926 l 465 926 m 351 992 l 300 1010 l 371 1183 l 449 1153 m 210 992 l 158 1010 l 228 1183 l 306 1153 "},"ű":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 151 b 231 -10 392 51 329 -10 b 69 151 132 -10 69 51 l 69 621 l 147 621 l 147 200 b 233 64 147 136 150 64 b 314 208 314 64 314 147 l 314 621 l 392 621 m 311 704 l 260 722 l 331 896 l 408 865 m 169 704 l 118 722 l 188 896 l 265 865 "},"Ų":{"ha":542,"x_min":0,"x_max":0,"o":"m 465 244 b 438 76 465 185 464 125 b 369 0 419 44 394 21 b 319 -46 347 -18 332 -31 b 297 -99 310 -57 297 -75 b 310 -131 297 -112 303 -124 b 346 -143 318 -139 332 -143 b 389 -132 350 -143 368 -143 l 389 -199 b 328 -211 371 -207 351 -211 b 253 -183 307 -211 276 -208 b 229 -122 242 -172 229 -151 b 254 -51 229 -99 236 -75 b 289 -12 258 -47 264 -39 b 136 36 228 -12 175 -1 b 76 244 79 90 76 164 l 76 926 l 163 926 l 163 249 b 200 94 163 193 164 126 b 271 71 218 79 249 71 b 342 94 293 71 324 79 b 379 249 378 126 379 193 l 379 926 l 465 926 "},"ų":{"ha":461,"x_min":0,"x_max":0,"o":"m 392 160 b 360 46 392 118 385 82 b 288 -35 340 18 325 10 b 257 -97 276 -47 257 -72 b 271 -131 257 -108 261 -122 b 303 -142 279 -137 292 -142 b 351 -128 317 -142 336 -136 l 351 -193 b 288 -208 333 -203 313 -208 b 222 -189 253 -208 232 -196 b 190 -124 200 -172 190 -147 b 211 -61 190 -99 201 -78 b 249 -10 221 -44 236 -25 b 111 36 201 -10 151 -4 b 69 168 71 76 69 121 l 69 621 l 147 621 l 147 196 b 174 85 147 157 150 110 b 231 64 190 67 213 64 b 288 85 249 64 271 67 b 314 196 311 110 314 157 l 314 621 l 392 621 "},"Ÿ":{"ha":439,"x_min":0,"x_max":0,"o":"m 268 401 l 268 0 l 182 0 l 182 401 l 1 926 l 94 926 l 181 661 b 225 490 192 628 213 553 b 265 660 231 526 239 572 l 344 926 l 438 926 m 374 1061 b 314 1000 374 1028 347 1000 b 254 1061 281 1000 254 1028 b 314 1121 254 1094 281 1121 b 374 1061 347 1121 374 1094 m 196 1061 b 136 1000 196 1028 169 1000 b 76 1061 103 1000 76 1028 b 136 1121 76 1094 103 1121 b 196 1061 169 1121 196 1094 "},"Ź":{"ha":388,"x_min":0,"x_max":0,"o":"m 117 79 l 351 79 l 351 0 l 11 0 l 268 847 l 36 847 l 36 926 l 376 926 m 194 992 l 146 1028 l 279 1194 l 354 1135 "},"ź":{"ha":376,"x_min":0,"x_max":0,"o":"m 119 72 l 329 72 l 329 0 l 7 0 l 251 549 l 39 549 l 39 621 l 369 621 m 192 704 l 143 740 l 276 907 l 351 847 "},"Ż":{"ha":388,"x_min":0,"x_max":0,"o":"m 117 79 l 351 79 l 351 0 l 11 0 l 268 847 l 36 847 l 36 926 l 376 926 m 258 1064 b 194 1000 258 1029 229 1000 b 132 1064 160 1000 132 1029 b 194 1126 132 1099 160 1126 b 258 1064 229 1126 258 1099 "},"ż":{"ha":376,"x_min":0,"x_max":0,"o":"m 119 72 l 329 72 l 329 0 l 7 0 l 251 549 l 39 549 l 39 621 l 369 621 m 267 776 b 203 713 267 742 238 713 b 140 776 168 713 140 742 b 203 839 140 811 168 839 b 267 776 238 839 267 811 "},"Ž":{"ha":388,"x_min":0,"x_max":0,"o":"m 117 79 l 351 79 l 351 0 l 11 0 l 268 847 l 36 847 l 36 926 l 376 926 m 207 992 l 51 1140 l 104 1193 l 207 1097 l 310 1193 l 365 1140 "},"ž":{"ha":376,"x_min":0,"x_max":0,"o":"m 119 72 l 329 72 l 329 0 l 7 0 l 251 549 l 39 549 l 39 621 l 369 621 m 207 704 l 51 853 l 104 906 l 207 810 l 310 906 l 365 853 "},"Ə":{"ha":519,"x_min":0,"x_max":0,"o":"m 379 489 l 379 518 b 313 825 379 675 363 774 b 242 856 292 847 268 856 b 174 822 214 856 192 844 b 138 724 156 800 142 757 l 53 757 b 124 894 64 807 93 864 b 242 939 163 933 203 939 b 372 889 293 939 332 929 b 467 486 463 799 467 633 b 456 238 467 394 465 321 b 382 38 449 179 435 90 b 250 -12 339 -7 288 -12 b 122 35 211 -12 161 -4 b 53 311 58 99 53 221 l 53 489 m 139 410 l 139 292 b 181 99 139 210 144 138 b 250 71 199 81 221 71 b 321 96 279 71 304 81 b 368 226 349 121 361 169 b 378 410 374 276 378 349 "},"ƒ":{"ha":508,"x_min":0,"x_max":0,"o":"m 492 931 b 439 954 476 944 461 954 b 374 872 390 954 382 911 l 324 621 l 431 621 l 418 563 l 313 563 l 197 -26 b 53 -185 181 -111 153 -185 b -17 -169 26 -185 6 -178 l -1 -87 b 53 -111 14 -101 32 -111 b 117 -29 99 -111 110 -65 l 233 563 l 132 563 l 143 621 l 244 621 b 293 869 244 621 282 825 b 436 1028 314 953 335 1028 b 506 1013 461 1028 485 1024 "},"Ǐ":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 118 992 l -37 1140 l 15 1193 l 118 1097 l 221 1193 l 276 1140 "},"ǐ":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 108 704 l -47 853 l 6 906 l 108 810 l 211 906 l 267 853 "},"ǝ":{"ha":438,"x_min":0,"x_max":0,"o":"m 313 326 l 313 340 b 267 535 313 393 303 497 b 211 557 250 553 231 557 b 160 533 190 557 175 550 b 121 425 154 528 131 499 l 46 456 b 101 582 53 500 74 550 b 210 631 129 614 164 631 b 319 585 256 631 290 615 b 392 321 372 529 392 433 b 311 29 392 215 378 94 b 214 -10 282 1 250 -10 b 119 31 169 -10 139 11 b 50 326 58 92 43 228 m 126 260 b 172 81 128 207 142 111 b 215 63 185 68 200 63 b 260 81 233 63 249 71 b 311 260 293 111 310 203 "},"Ǧ":{"ha":519,"x_min":0,"x_max":0,"o":"m 467 303 b 460 168 467 258 467 213 b 269 -12 443 63 382 -12 b 110 76 200 -12 144 17 b 53 486 57 168 53 379 b 278 939 53 644 57 939 b 465 764 392 939 439 864 l 381 731 b 278 856 369 789 349 856 b 140 518 142 856 140 613 b 169 161 140 421 139 250 b 275 71 188 108 215 71 b 381 263 376 71 381 188 l 381 410 l 254 410 l 254 489 l 467 489 m 276 992 l 121 1140 l 174 1193 l 276 1097 l 379 1193 l 435 1140 "},"ǧ":{"ha":460,"x_min":0,"x_max":0,"o":"m 390 -68 b 228 -250 390 -181 347 -250 b 67 -78 119 -250 67 -182 b 68 -54 67 -69 67 -61 l 147 -54 b 232 -176 147 -117 154 -176 b 311 -56 308 -176 311 -115 l 311 44 b 213 0 283 14 254 0 b 54 324 56 0 54 211 b 208 631 54 428 65 631 b 311 578 253 631 283 613 l 311 621 l 390 621 m 319 347 b 225 567 319 413 319 567 b 135 294 142 567 135 424 b 232 64 135 228 136 64 b 315 197 301 64 311 146 b 319 347 319 249 319 297 m 232 704 l 76 853 l 129 906 l 232 810 l 335 906 l 390 853 "},"Ǽ":{"ha":642,"x_min":0,"x_max":0,"o":"m 367 0 l 336 190 l 126 190 l 93 0 l 1 0 l 183 926 l 492 926 l 507 847 l 308 847 l 367 521 l 554 521 l 569 442 l 381 442 l 446 79 l 642 79 l 654 0 m 258 656 b 238 826 249 713 240 769 b 211 657 228 769 221 714 l 140 264 l 324 264 m 321 992 l 272 1028 l 406 1194 l 481 1135 "},"ǽ":{"ha":706,"x_min":0,"x_max":0,"o":"m 385 297 b 493 63 385 229 397 63 b 576 215 565 63 575 160 l 650 215 b 489 -10 647 119 604 -10 b 354 93 421 -10 381 38 b 204 -10 328 32 272 -10 b 46 208 86 -10 46 108 b 201 414 46 308 86 414 b 313 363 244 414 286 396 l 313 381 b 192 558 313 463 292 558 b 83 508 149 558 114 533 l 83 594 b 196 631 117 618 153 631 b 354 526 269 631 324 593 b 488 631 376 581 425 631 b 658 297 643 631 657 411 m 581 363 b 482 558 581 424 564 558 b 388 363 404 558 388 419 m 314 201 b 215 350 314 264 294 350 b 122 208 139 350 122 269 b 215 64 122 149 139 64 b 314 201 290 64 314 140 m 353 704 l 304 740 l 438 907 l 513 847 "},"Ș":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 m 192 -321 l 138 -294 l 211 -68 l 292 -107 "},"ș":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 m 156 -321 l 101 -294 l 175 -68 l 256 -107 "},"Ț":{"ha":368,"x_min":0,"x_max":0,"o":"m 226 847 l 226 0 l 140 0 l 140 847 l 1 847 l 1 926 l 365 926 l 365 847 m 151 -321 l 97 -294 l 171 -68 l 251 -107 "},"ț":{"ha":276,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 26 549 l 26 621 l 93 621 l 93 797 l 171 797 l 171 621 l 275 621 l 275 549 m 103 -321 l 49 -294 l 122 -68 l 203 -107 "},"Ȩ":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 176 -257 l 126 -228 l 219 -51 l 283 -86 "},"ȩ":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 186 -257 l 136 -228 l 229 -51 l 293 -86 "},"ȷ":{"ha":221,"x_min":0,"x_max":0,"o":"m 72 -250 l 72 621 l 153 621 l 153 -250 "},"ə":{"ha":438,"x_min":0,"x_max":0,"o":"m 313 326 l 313 340 b 267 535 313 393 303 497 b 211 557 250 553 231 557 b 160 533 190 557 175 550 b 121 425 154 528 131 499 l 46 456 b 101 582 53 500 74 550 b 210 631 129 614 164 631 b 319 585 256 631 290 615 b 392 321 372 529 392 433 b 311 29 392 215 378 94 b 214 -10 282 1 250 -10 b 119 31 169 -10 139 11 b 50 326 58 92 43 228 m 126 260 b 172 81 128 207 142 111 b 215 63 185 68 200 63 b 260 81 233 63 249 71 b 311 260 293 111 310 203 "},"ʼ":{"ha":272,"x_min":0,"x_max":0,"o":"m 122 672 l 68 699 l 144 939 l 225 900 "},"ˆ":{"ha":694,"x_min":0,"x_max":0,"o":"m 449 704 l 346 800 l 243 704 l 190 757 l 346 906 l 504 757 "},"ˇ":{"ha":694,"x_min":0,"x_max":0,"o":"m 346 704 l 190 853 l 243 906 l 346 810 l 449 906 l 504 853 "},"˘":{"ha":694,"x_min":0,"x_max":0,"o":"m 518 832 b 347 704 508 742 429 704 b 176 832 265 704 186 742 l 243 832 b 347 775 261 789 304 775 b 451 832 390 775 433 789 "},"˙":{"ha":694,"x_min":0,"x_max":0,"o":"m 411 776 b 347 713 411 742 382 713 b 285 776 313 713 285 742 b 347 839 285 811 313 839 b 411 776 382 839 411 811 "},"˚":{"ha":693,"x_min":0,"x_max":0,"o":"m 458 815 b 347 704 458 754 408 704 b 236 815 286 704 236 754 b 347 926 236 876 286 926 b 458 815 408 926 458 876 m 403 815 b 347 871 403 846 378 871 b 292 815 317 871 292 846 b 347 760 292 785 317 760 b 403 815 378 760 403 785 "},"˛":{"ha":690,"x_min":0,"x_max":0,"o":"m 458 -199 b 396 -211 436 -208 415 -211 b 313 -181 361 -211 332 -199 b 288 -119 294 -162 288 -143 b 303 -56 288 -97 293 -76 b 336 0 313 -35 324 -17 l 399 0 b 369 -47 389 -14 378 -32 b 356 -99 363 -62 356 -79 b 369 -132 356 -112 360 -124 b 406 -143 381 -142 394 -143 b 458 -132 435 -143 453 -135 "},"˜":{"ha":694,"x_min":0,"x_max":0,"o":"m 507 826 b 413 713 504 772 475 713 b 288 760 364 713 319 760 b 265 725 268 760 265 740 l 188 725 b 285 832 193 781 224 832 b 404 788 328 832 375 788 b 428 826 426 788 428 810 "},"˝":{"ha":694,"x_min":0,"x_max":0,"o":"m 442 704 l 390 722 l 461 896 l 539 865 m 300 704 l 249 722 l 318 896 l 396 865 "},"́":{"ha":3,"x_min":0,"x_max":0,"o":"m -242 704 l -290 740 l -157 907 l -82 847 "},"Δ":{"ha":926,"x_min":0,"x_max":0,"o":"m 43 0 l 419 926 l 504 926 l 883 0 m 463 831 l 156 72 l 769 72 "},"Ω":{"ha":926,"x_min":0,"x_max":0,"o":"m 528 0 l 528 65 b 806 494 696 158 806 296 b 465 878 806 688 671 878 b 121 493 253 878 121 693 b 399 65 121 294 231 158 l 399 0 l 39 0 l 39 71 l 304 71 b 39 501 139 167 39 307 b 463 949 39 743 214 949 b 886 501 711 949 886 743 b 621 71 886 308 786 165 l 886 71 l 886 0 "},"π":{"ha":772,"x_min":0,"x_max":0,"o":"m 638 550 l 638 0 l 558 0 l 558 550 l 217 550 l 217 0 l 138 0 l 138 550 l 35 550 l 35 621 l 738 621 l 738 550 "},"Ё":{"ha":415,"x_min":0,"x_max":0,"o":"m 74 0 l 74 926 l 363 926 l 363 847 l 160 847 l 160 521 l 357 521 l 357 442 l 160 442 l 160 79 l 363 79 l 363 0 m 358 1046 b 300 986 358 1013 332 986 b 242 1046 268 986 242 1013 b 300 1103 242 1078 268 1103 b 358 1046 332 1103 358 1078 m 192 1046 b 133 986 192 1013 165 986 b 75 1046 101 986 75 1013 b 133 1103 75 1078 101 1103 b 192 1046 165 1103 192 1078 "},"Ђ":{"ha":610,"x_min":0,"x_max":0,"o":"m 253 847 l 253 543 b 357 563 283 554 321 563 b 500 508 413 563 464 543 b 571 271 554 454 571 369 b 497 22 571 118 529 51 b 388 -17 461 -11 419 -17 b 290 8 349 -17 318 -7 l 317 90 b 381 67 331 79 351 67 b 443 92 404 67 425 71 b 483 261 458 108 483 150 b 433 453 483 386 454 433 b 346 483 414 471 383 483 b 253 460 332 483 294 482 l 253 0 l 167 0 l 167 847 l 28 847 l 28 926 l 472 926 l 472 847 "},"Ѓ":{"ha":410,"x_min":0,"x_max":0,"o":"m 163 847 l 163 0 l 76 0 l 76 926 l 371 926 l 371 847 m 215 992 l 167 1028 l 300 1194 l 375 1135 "},"Є":{"ha":469,"x_min":0,"x_max":0,"o":"m 436 33 b 308 -12 392 -4 347 -12 b 169 38 256 -12 211 -1 b 76 232 110 94 83 199 b 53 485 60 306 53 400 b 157 876 53 631 67 783 b 304 939 197 918 242 939 b 436 894 343 939 383 932 l 436 788 b 318 856 417 814 378 856 b 226 818 275 856 244 836 b 160 676 185 776 164 696 b 143 521 149 628 143 569 l 376 521 l 376 442 l 142 442 b 163 251 143 386 150 308 b 226 106 171 217 190 143 b 310 71 250 81 278 71 b 436 139 343 71 390 82 "},"Ѕ":{"ha":453,"x_min":0,"x_max":0,"o":"m 386 781 b 249 856 349 825 310 856 b 115 704 164 856 115 783 b 432 247 115 490 432 504 b 200 -14 432 114 342 -14 b 54 35 147 -14 96 4 l 54 146 b 204 71 94 104 143 71 b 344 236 294 71 344 153 b 28 693 344 449 28 433 b 242 939 28 819 106 939 b 386 889 297 939 342 921 "},"І":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 "},"Ї":{"ha":238,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 163 926 l 163 0 m 222 1061 b 178 1000 222 1028 201 1000 b 136 1061 154 1000 136 1028 b 178 1121 136 1094 154 1121 b 222 1061 201 1121 222 1094 m 103 1061 b 60 1000 103 1028 83 1000 b 15 1061 36 1000 15 1028 b 60 1121 15 1094 36 1121 b 103 1061 83 1121 103 1094 "},"Ј":{"ha":311,"x_min":0,"x_max":0,"o":"m 235 133 b 233 93 235 119 235 107 b 101 -14 226 18 172 -14 b 1 11 65 -14 33 -4 l 1 100 b 88 61 28 78 53 61 b 149 154 147 61 149 110 l 149 926 l 235 926 "},"Љ":{"ha":808,"x_min":0,"x_max":0,"o":"m 540 525 b 699 469 586 525 649 518 b 767 263 760 410 767 314 b 689 39 767 178 751 89 b 540 0 642 1 590 0 l 403 0 l 403 847 l 217 847 l 217 369 b 208 165 217 300 217 233 b 154 26 203 124 194 68 b 64 -8 126 -1 100 -8 b 6 6 42 -8 25 -6 l 6 96 b 56 75 24 79 39 75 b 103 97 75 75 90 82 b 131 193 124 122 128 158 b 136 333 135 247 136 283 l 136 926 l 489 926 l 489 525 m 535 74 b 636 106 557 74 606 75 b 678 249 669 139 678 206 b 629 414 678 304 669 378 b 531 446 596 444 550 446 l 489 446 l 489 74 "},"Њ":{"ha":774,"x_min":0,"x_max":0,"o":"m 454 532 l 506 532 b 664 476 551 532 614 525 b 732 269 725 417 732 322 b 654 39 732 176 717 88 b 506 0 607 1 556 0 l 368 0 l 368 453 l 163 453 l 163 0 l 76 0 l 76 926 l 163 926 l 163 532 l 368 532 l 368 926 l 454 926 m 500 74 b 601 106 522 74 571 75 b 643 256 633 138 643 200 b 594 421 643 313 635 383 b 496 453 561 451 515 453 l 454 453 l 454 74 "},"Ћ":{"ha":610,"x_min":0,"x_max":0,"o":"m 167 847 l 28 847 l 28 926 l 472 926 l 472 847 l 253 847 l 253 543 b 361 563 303 560 344 563 b 499 524 407 563 464 551 b 554 338 549 482 554 417 l 554 0 l 467 0 l 467 333 b 435 458 467 381 467 431 b 349 483 414 476 378 483 b 253 460 310 483 279 474 l 253 0 l 167 0 "},"Ќ":{"ha":457,"x_min":0,"x_max":0,"o":"m 349 0 l 163 467 l 163 0 l 76 0 l 76 926 l 163 926 l 163 506 l 349 926 l 444 926 l 244 485 l 446 0 m 229 992 l 181 1028 l 314 1194 l 389 1135 "},"Ў":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 407 1089 b 343 1003 393 1044 365 1018 b 242 976 308 981 272 976 b 140 1003 204 976 172 982 b 76 1089 97 1031 82 1067 l 150 1119 b 183 1068 158 1088 178 1072 b 242 1051 196 1058 215 1051 b 300 1068 276 1051 294 1064 b 333 1119 315 1079 328 1101 "},"Џ":{"ha":531,"x_min":0,"x_max":0,"o":"m 454 0 l 308 0 l 308 -181 l 222 -181 l 222 0 l 76 0 l 76 926 l 163 926 l 163 79 l 368 79 l 368 926 l 454 926 "},"А":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 "},"Б":{"ha":478,"x_min":0,"x_max":0,"o":"m 388 926 l 388 847 l 163 847 l 163 525 l 218 525 b 369 471 263 525 321 519 b 436 263 418 422 436 347 b 358 39 436 142 403 74 b 210 0 308 -1 251 0 l 76 0 l 76 926 m 204 74 b 306 106 226 74 274 75 b 347 253 338 136 347 192 b 301 414 347 324 333 383 b 201 446 271 444 232 446 l 163 446 l 163 74 "},"В":{"ha":488,"x_min":0,"x_max":0,"o":"m 211 926 b 347 894 258 926 308 924 b 418 690 403 853 418 756 b 304 475 418 596 396 518 b 440 247 424 443 440 358 b 364 39 440 171 428 89 b 218 0 319 4 272 0 l 76 0 l 76 926 m 208 517 b 331 686 321 517 331 594 b 217 851 331 774 326 851 l 163 851 l 163 517 m 208 74 b 351 250 326 74 351 146 b 213 440 351 343 324 440 l 163 440 l 163 74 "},"Г":{"ha":410,"x_min":0,"x_max":0,"o":"m 163 847 l 163 0 l 76 0 l 76 926 l 371 926 l 371 847 "},"Д":{"ha":565,"x_min":0,"x_max":0,"o":"m 479 926 l 479 79 l 551 79 l 551 -181 l 465 -181 l 465 0 l 86 0 l 86 -181 l 6 -181 l 6 79 b 92 168 49 106 75 139 b 133 428 133 242 133 336 l 133 926 m 214 488 b 190 207 214 332 206 260 b 117 79 174 153 149 113 l 393 79 l 393 847 l 214 847 "},"Е":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 "},"Ж":{"ha":647,"x_min":0,"x_max":0,"o":"m 550 0 l 367 467 l 367 0 l 281 0 l 281 467 l 97 0 l 6 0 l 204 485 l 13 926 l 103 926 l 281 506 l 281 926 l 367 926 l 367 506 l 544 926 l 635 926 l 443 485 l 642 0 "},"З":{"ha":485,"x_min":0,"x_max":0,"o":"m 164 514 b 272 550 190 514 239 518 b 315 678 296 572 315 615 b 278 811 315 721 308 775 b 183 853 261 831 232 853 b 101 826 147 853 119 840 b 53 774 86 815 67 794 l 53 892 b 197 939 75 908 124 939 b 344 881 272 939 318 910 b 406 697 381 842 406 781 b 374 551 406 644 397 589 b 292 482 356 521 325 496 b 388 431 336 475 368 453 b 438 278 432 381 438 313 b 360 47 438 176 407 94 b 203 -12 314 1 261 -12 b 42 39 156 -12 97 -4 l 42 160 b 193 74 71 115 122 74 b 301 121 224 74 268 81 b 343 261 331 156 343 211 b 294 397 343 310 329 365 b 168 435 257 432 201 435 l 140 435 l 140 514 "},"И":{"ha":546,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 299 b 154 182 163 267 160 233 b 188 294 174 247 178 265 l 385 926 l 471 926 l 471 0 l 385 0 l 385 599 b 393 744 385 647 390 708 b 356 614 369 654 365 644 l 163 0 l 76 0 "},"Й":{"ha":546,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 299 b 154 182 163 267 160 233 b 188 294 174 247 178 265 l 385 926 l 471 926 l 471 0 l 385 0 l 385 599 b 393 744 385 647 390 708 b 356 614 369 654 365 644 l 163 0 l 76 0 m 439 1090 b 375 1004 425 1046 397 1019 b 274 978 340 982 304 978 b 172 1004 236 978 204 983 b 108 1090 129 1032 114 1068 l 182 1121 b 215 1069 190 1089 210 1074 b 274 1053 228 1060 247 1053 b 332 1069 308 1053 326 1065 b 365 1121 347 1081 360 1103 "},"К":{"ha":457,"x_min":0,"x_max":0,"o":"m 349 0 l 163 467 l 163 0 l 76 0 l 76 926 l 163 926 l 163 506 l 349 926 l 444 926 l 244 485 l 446 0 "},"Л":{"ha":567,"x_min":0,"x_max":0,"o":"m 492 926 l 492 0 l 406 0 l 406 847 l 217 847 l 217 369 b 208 165 217 300 217 233 b 154 26 203 124 194 68 b 64 -8 126 -1 100 -8 b 6 6 42 -8 25 -6 l 6 96 b 56 75 24 79 39 75 b 103 97 75 75 90 82 b 131 193 124 122 128 158 b 136 333 135 247 136 283 l 136 926 "},"М":{"ha":693,"x_min":0,"x_max":0,"o":"m 579 0 l 514 601 b 506 769 508 657 508 714 b 486 601 503 713 496 657 l 383 0 l 313 0 b 203 692 275 231 229 460 b 197 769 200 718 200 743 l 197 738 b 189 603 197 693 194 647 l 114 0 l 29 0 l 160 926 l 233 926 l 333 290 b 351 144 340 242 349 193 b 368 288 354 193 360 240 l 476 926 l 550 926 l 664 0 "},"Н":{"ha":535,"x_min":0,"x_max":0,"o":"m 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 374 557 l 374 926 l 460 926 l 460 0 "},"О":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 "},"П":{"ha":526,"x_min":0,"x_max":0,"o":"m 365 0 l 365 847 l 163 847 l 163 0 l 76 0 l 76 926 l 451 926 l 451 0 "},"Р":{"ha":457,"x_min":0,"x_max":0,"o":"m 188 926 b 422 669 374 926 422 844 b 197 443 422 507 360 443 l 163 443 l 163 0 l 76 0 l 76 926 m 219 522 b 335 686 328 522 335 599 b 204 847 335 783 315 847 l 163 847 l 163 522 "},"С":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 299 -12 383 3 342 -12 b 132 78 232 -12 171 25 b 53 439 61 175 53 324 b 308 939 53 610 72 939 b 419 910 347 939 386 931 l 419 815 b 313 856 388 836 353 856 b 140 467 146 856 140 583 b 201 128 140 376 150 201 b 306 71 226 92 261 71 b 419 113 347 71 386 90 "},"Т":{"ha":368,"x_min":0,"x_max":0,"o":"m 226 847 l 226 0 l 140 0 l 140 847 l 1 847 l 1 926 l 365 926 l 365 847 "},"У":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 "},"Ф":{"ha":708,"x_min":0,"x_max":0,"o":"m 311 117 b 136 190 240 121 176 151 b 42 496 83 242 42 336 b 138 794 42 674 99 757 b 311 867 178 833 240 863 l 311 964 l 397 964 l 397 867 b 571 794 468 863 531 833 b 667 504 644 725 667 617 b 572 193 667 367 636 257 b 397 117 526 149 458 122 l 397 0 l 311 0 m 394 196 b 517 247 443 197 489 218 b 583 499 533 264 583 326 b 513 739 583 597 567 686 b 394 788 490 761 450 785 m 314 788 b 196 739 258 785 218 761 b 125 497 142 686 125 599 b 192 249 125 429 135 310 b 314 196 214 224 256 197 "},"Х":{"ha":442,"x_min":0,"x_max":0,"o":"m 349 0 l 257 263 b 221 394 242 306 229 350 b 182 260 211 349 197 304 l 94 0 l 1 0 l 182 471 l 1 926 l 94 926 l 176 697 b 221 535 196 644 211 590 b 265 692 229 589 247 640 l 349 926 l 440 926 l 264 471 l 440 0 "},"Ц":{"ha":549,"x_min":0,"x_max":0,"o":"m 454 79 l 529 79 l 529 -181 l 443 -181 l 443 0 l 76 0 l 76 926 l 163 926 l 163 79 l 368 79 l 368 926 l 454 926 "},"Ч":{"ha":519,"x_min":0,"x_max":0,"o":"m 444 0 l 358 0 l 358 468 b 256 457 328 461 294 457 b 118 496 211 457 157 463 b 63 682 68 538 63 603 l 63 926 l 150 926 l 150 692 b 181 560 150 640 150 588 b 272 536 206 538 246 536 b 358 546 304 536 329 539 l 358 926 l 444 926 "},"Ш":{"ha":811,"x_min":0,"x_max":0,"o":"m 163 926 l 163 79 l 363 79 l 363 926 l 449 926 l 449 79 l 649 79 l 649 926 l 735 926 l 735 0 l 76 0 l 76 926 "},"Щ":{"ha":838,"x_min":0,"x_max":0,"o":"m 163 926 l 163 79 l 363 79 l 363 926 l 449 926 l 449 79 l 649 79 l 649 926 l 735 926 l 735 79 l 818 79 l 818 -181 l 732 -181 l 732 0 l 76 0 l 76 926 "},"Ъ":{"ha":528,"x_min":0,"x_max":0,"o":"m 208 525 l 260 525 b 418 469 306 525 368 518 b 486 263 479 410 486 314 b 408 39 486 178 471 89 b 260 0 361 1 310 0 l 122 0 l 122 847 l 3 847 l 3 926 l 208 926 m 254 74 b 356 106 276 74 325 75 b 397 249 389 139 397 206 b 349 414 397 304 389 378 b 250 446 315 444 269 446 l 208 446 l 208 74 "},"Ы":{"ha":671,"x_min":0,"x_max":0,"o":"m 510 0 l 510 926 l 596 926 l 596 0 m 163 525 l 214 525 b 372 469 260 525 322 518 b 440 263 433 410 440 314 b 363 39 440 178 425 89 b 214 0 315 1 264 0 l 76 0 l 76 926 l 163 926 m 208 74 b 310 106 231 74 279 75 b 351 249 343 139 351 206 b 303 414 351 304 343 378 b 204 446 269 444 224 446 l 163 446 l 163 74 "},"Ь":{"ha":482,"x_min":0,"x_max":0,"o":"m 163 525 l 214 525 b 372 469 260 525 322 518 b 440 263 433 410 440 314 b 363 39 440 178 425 89 b 214 0 315 1 264 0 l 76 0 l 76 926 l 163 926 m 208 74 b 310 106 231 74 279 75 b 351 249 343 139 351 206 b 303 414 351 304 343 378 b 204 446 269 444 224 446 l 163 446 l 163 74 "},"Э":{"ha":461,"x_min":0,"x_max":0,"o":"m 25 139 b 151 71 71 82 118 71 b 235 106 183 71 211 81 b 299 251 271 143 290 217 b 319 442 311 308 318 386 l 85 442 l 85 521 l 318 521 b 301 676 318 569 313 628 b 235 818 297 696 276 776 b 143 856 217 836 186 856 b 25 788 83 856 44 814 l 25 894 b 157 939 78 932 118 939 b 304 876 219 939 264 918 b 408 488 390 788 408 643 b 385 235 408 400 401 311 b 292 38 358 113 315 60 b 153 -12 250 -1 206 -12 b 25 33 114 -12 69 -4 "},"Ю":{"ha":789,"x_min":0,"x_max":0,"o":"m 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 283 557 b 383 889 283 629 297 806 b 508 939 418 922 460 939 b 633 889 557 939 599 922 b 736 464 718 807 736 640 b 633 38 736 285 718 119 b 508 -12 599 4 557 -12 b 383 38 460 -12 418 4 b 281 464 299 119 281 285 l 281 478 m 368 463 b 438 101 368 343 369 171 b 508 71 456 83 478 71 b 579 101 539 71 561 83 b 649 463 639 164 649 306 b 579 825 649 685 622 781 b 508 856 561 843 539 856 b 438 825 478 856 456 843 b 368 463 369 756 368 583 "},"Я":{"ha":496,"x_min":0,"x_max":0,"o":"m 228 436 b 103 486 219 436 150 440 b 44 671 72 515 44 572 b 104 871 44 739 54 821 b 282 926 146 914 210 926 l 421 926 l 421 0 l 326 0 l 326 444 l 121 0 l 22 0 m 326 847 l 276 847 b 174 817 246 847 203 846 b 136 674 142 785 136 717 b 178 540 136 628 142 572 b 265 513 206 515 242 513 l 326 513 "},"а":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 "},"б":{"ha":464,"x_min":0,"x_max":0,"o":"m 136 553 b 250 631 156 600 200 631 b 343 592 286 631 319 614 b 414 306 410 529 414 401 b 340 29 414 208 407 93 b 236 -10 308 -1 276 -10 b 132 29 196 -10 164 -1 b 56 364 63 96 56 222 b 67 607 56 440 60 533 b 117 789 72 660 81 733 b 239 882 151 843 196 864 b 322 922 286 901 307 908 b 343 972 331 929 343 946 l 417 972 b 379 867 417 917 396 883 b 283 811 351 839 318 825 b 197 760 249 797 218 782 b 136 553 153 714 136 622 m 236 557 b 189 538 214 557 199 546 b 139 310 149 500 139 379 b 189 83 139 244 147 124 b 236 64 203 69 219 64 b 283 83 253 64 269 69 b 333 310 331 129 333 275 b 290 531 333 351 331 482 b 236 557 274 550 256 557 "},"в":{"ha":422,"x_min":0,"x_max":0,"o":"m 193 621 b 321 579 238 621 285 617 b 361 461 338 563 361 528 b 321 356 361 415 351 385 b 275 325 314 349 299 336 b 342 290 300 319 325 307 b 381 174 381 253 381 208 b 339 44 381 126 376 82 b 213 0 299 4 246 0 l 69 0 l 69 621 m 179 360 b 260 382 200 360 238 360 b 281 456 276 399 281 428 b 260 529 281 481 276 514 b 192 549 240 547 201 549 l 147 549 l 147 360 m 185 72 b 271 94 204 72 249 74 b 297 172 285 107 297 132 b 268 260 297 222 281 247 b 185 286 242 285 206 286 l 147 286 l 147 72 "},"г":{"ha":342,"x_min":0,"x_max":0,"o":"m 69 621 l 321 621 l 321 549 l 147 549 l 147 0 l 69 0 "},"д":{"ha":461,"x_min":0,"x_max":0,"o":"m 393 621 l 393 72 l 450 72 l 450 -144 l 376 -144 l 376 0 l 76 0 l 76 -144 l 3 -144 l 3 72 b 81 156 36 89 63 114 b 103 308 101 203 103 258 l 103 621 m 315 549 l 175 549 l 175 314 b 163 175 175 264 175 221 b 103 72 151 132 131 100 l 315 72 "},"е":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 "},"ж":{"ha":585,"x_min":0,"x_max":0,"o":"m 492 0 l 332 285 l 332 0 l 253 0 l 253 285 l 93 0 l 3 0 l 190 324 l 14 621 l 99 621 l 253 350 l 253 621 l 332 621 l 332 350 l 486 621 l 571 621 l 394 324 l 582 0 "},"з":{"ha":388,"x_min":0,"x_max":0,"o":"m 244 321 b 308 286 269 314 292 301 b 353 171 338 260 353 222 b 296 35 353 104 322 60 b 172 -10 258 0 219 -10 b 42 39 132 -10 88 -1 l 42 139 b 93 86 54 122 76 99 b 161 64 111 74 133 64 b 239 93 196 64 224 76 b 267 169 257 113 267 146 b 233 256 267 206 254 239 b 142 278 208 276 161 278 l 118 278 l 118 353 l 144 353 b 222 375 171 353 204 361 b 251 451 249 396 251 428 b 226 531 251 474 250 506 b 160 557 211 547 186 557 b 93 532 133 557 111 547 b 49 481 76 518 60 497 l 49 581 b 169 631 90 622 135 631 b 285 588 211 631 250 622 b 331 463 321 550 331 504 b 304 367 331 433 326 397 b 244 321 290 349 269 332 "},"и":{"ha":467,"x_min":0,"x_max":0,"o":"m 319 0 l 319 386 b 322 475 319 397 319 413 b 293 382 314 436 304 410 l 147 0 l 69 0 l 69 621 l 147 621 l 147 238 b 144 142 147 206 147 186 b 174 233 160 199 164 207 l 319 621 l 397 621 l 397 0 "},"й":{"ha":467,"x_min":0,"x_max":0,"o":"m 319 0 l 319 386 b 322 475 319 397 319 413 b 293 382 314 436 304 410 l 147 0 l 69 0 l 69 621 l 147 621 l 147 238 b 144 142 147 206 147 186 b 174 233 160 199 164 207 l 319 621 l 397 621 l 397 0 m 382 797 b 325 719 371 765 349 736 b 233 694 292 696 249 694 b 142 719 218 694 175 696 b 85 797 118 736 96 765 l 150 829 b 179 779 153 813 164 792 b 235 764 196 765 218 764 b 288 779 251 764 271 765 b 317 829 301 790 313 811 "},"к":{"ha":425,"x_min":0,"x_max":0,"o":"m 147 350 l 313 621 l 403 621 l 215 322 l 422 0 l 326 0 l 147 285 l 147 0 l 69 0 l 69 621 l 147 621 "},"л":{"ha":472,"x_min":0,"x_max":0,"o":"m 403 0 l 325 0 l 325 549 l 182 549 l 182 285 b 176 156 182 228 179 186 b 128 26 172 111 163 61 b 46 -6 103 3 76 -6 b 6 0 29 -6 17 -3 l 6 81 b 39 68 15 71 25 68 b 76 83 54 68 65 72 b 108 254 108 117 108 190 l 108 621 l 403 621 "},"м":{"ha":567,"x_min":0,"x_max":0,"o":"m 249 0 l 168 375 b 151 472 160 411 156 440 b 142 372 149 426 146 408 l 99 0 l 25 0 l 111 621 l 181 621 l 265 228 b 283 117 276 179 282 135 b 301 228 285 135 290 179 l 386 621 l 456 621 l 542 0 l 468 0 l 425 372 b 415 472 421 408 418 426 b 399 375 411 432 406 406 l 318 0 "},"н":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 290 l 147 290 l 147 0 l 69 0 l 69 621 l 147 621 l 147 363 l 311 363 l 311 621 l 389 621 l 389 0 "},"о":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 "},"п":{"ha":453,"x_min":0,"x_max":0,"o":"m 306 0 l 306 549 l 147 549 l 147 0 l 69 0 l 69 621 l 383 621 l 383 0 "},"р":{"ha":446,"x_min":0,"x_max":0,"o":"m 147 579 b 246 631 174 614 201 631 b 400 322 399 631 400 435 b 254 -10 400 189 396 -10 b 147 50 206 -10 176 14 l 147 -250 l 69 -250 l 69 621 l 147 621 m 319 343 b 228 568 319 406 318 568 b 140 314 147 568 140 438 b 179 75 140 260 140 114 b 229 54 193 60 208 54 b 315 197 301 54 310 143 b 319 343 319 246 319 294 "},"с":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 225 -10 289 3 256 -10 b 46 300 79 -10 46 189 b 229 631 46 418 71 631 b 314 607 258 631 288 622 l 314 515 b 236 558 293 538 268 558 b 128 307 138 558 128 376 b 235 64 128 240 140 64 b 314 119 269 64 296 93 "},"т":{"ha":340,"x_min":0,"x_max":0,"o":"m 210 549 l 210 0 l 131 0 l 131 549 l 11 549 l 11 621 l 329 621 l 329 549 "},"у":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 "},"ф":{"ha":574,"x_min":0,"x_max":0,"o":"m 247 -10 b 121 47 214 -8 167 1 b 39 317 54 114 39 217 b 115 571 39 422 56 511 b 247 631 142 597 185 625 l 247 926 l 326 926 l 326 631 b 458 571 365 628 414 615 b 535 317 525 506 535 414 b 453 50 535 194 517 115 b 326 -10 417 13 379 -7 l 326 -250 l 247 -250 m 324 64 b 404 99 361 65 388 81 b 460 321 447 142 460 224 b 407 524 460 400 450 482 b 324 558 389 542 360 557 m 250 558 b 167 524 214 557 185 542 b 114 315 121 479 114 388 b 172 96 114 218 129 138 b 250 64 201 68 232 64 "},"х":{"ha":388,"x_min":0,"x_max":0,"o":"m 290 0 l 222 176 b 192 268 211 207 199 238 b 164 175 186 238 175 206 l 97 0 l 10 0 l 151 318 l 25 621 l 111 621 b 199 358 142 535 179 449 b 290 621 217 450 256 535 l 378 621 l 239 318 l 378 0 "},"ц":{"ha":468,"x_min":0,"x_max":0,"o":"m 385 72 l 454 72 l 454 -144 l 376 -144 l 376 0 l 69 0 l 69 621 l 147 621 l 147 72 l 307 72 l 307 621 l 385 621 "},"ч":{"ha":428,"x_min":0,"x_max":0,"o":"m 281 293 b 196 281 256 285 229 281 b 83 315 143 281 106 296 b 42 458 43 351 42 410 l 42 621 l 119 621 l 119 450 b 140 374 119 432 119 393 b 207 354 160 356 197 354 b 281 365 240 354 271 363 l 281 621 l 358 621 l 358 0 l 281 0 "},"ш":{"ha":696,"x_min":0,"x_max":0,"o":"m 388 72 l 549 72 l 549 621 l 626 621 l 626 0 l 69 0 l 69 621 l 147 621 l 147 72 l 308 72 l 308 621 l 388 621 "},"щ":{"ha":711,"x_min":0,"x_max":0,"o":"m 388 72 l 549 72 l 549 621 l 628 621 l 628 72 l 703 72 l 703 -144 l 625 -144 l 625 0 l 69 0 l 69 621 l 147 621 l 147 72 l 310 72 l 310 621 l 388 621 "},"ъ":{"ha":474,"x_min":0,"x_max":0,"o":"m 135 549 l 11 549 l 11 621 l 213 621 l 213 383 l 240 383 b 392 333 278 383 344 378 b 446 182 439 289 446 225 b 401 46 446 146 442 88 b 268 0 361 4 311 0 l 135 0 m 257 72 b 338 94 278 72 315 74 b 367 186 350 106 367 132 b 339 278 367 214 364 249 b 247 314 311 311 276 314 l 213 314 l 213 72 "},"ы":{"ha":590,"x_min":0,"x_max":0,"o":"m 443 0 l 443 621 l 521 621 l 521 0 m 69 621 l 147 621 l 147 383 l 175 383 b 328 333 247 383 299 361 b 381 181 354 308 381 263 b 338 46 381 147 376 86 b 203 0 297 4 243 0 l 69 0 m 192 72 b 272 94 217 72 250 74 b 301 189 289 110 301 138 b 274 278 301 214 299 249 b 182 314 246 311 214 314 l 147 314 l 147 72 "},"ь":{"ha":407,"x_min":0,"x_max":0,"o":"m 69 621 l 147 621 l 147 383 l 174 383 b 326 333 213 383 279 378 b 379 182 375 288 379 226 b 336 46 379 144 378 89 b 201 0 294 3 244 0 l 69 0 m 190 72 b 272 94 213 72 250 74 b 300 190 293 114 300 154 b 274 278 300 211 297 250 b 181 314 246 311 210 314 l 147 314 l 147 72 "},"э":{"ha":389,"x_min":0,"x_max":0,"o":"m 50 126 b 89 82 60 108 75 92 b 144 64 106 69 124 64 b 204 90 171 64 189 74 b 257 290 247 136 257 231 l 94 290 l 94 363 l 256 363 b 203 533 253 415 242 497 b 142 558 188 549 165 558 b 88 539 125 558 106 553 b 50 499 75 529 60 514 l 50 596 b 153 631 89 626 131 631 b 263 586 199 631 233 615 b 342 324 325 525 342 426 b 256 31 342 204 319 92 b 150 -10 222 0 190 -10 b 50 26 122 -10 90 -6 "},"ю":{"ha":629,"x_min":0,"x_max":0,"o":"m 228 363 b 300 592 231 428 249 540 b 404 631 331 621 365 631 b 507 592 443 631 476 621 b 582 311 572 529 582 417 b 507 29 582 201 572 93 b 406 -10 476 0 449 -10 b 300 29 372 -10 335 -4 b 226 292 242 86 226 211 l 149 292 l 149 0 l 69 0 l 69 621 l 149 621 l 149 363 m 403 558 b 357 539 386 558 371 553 b 306 311 336 518 306 465 b 357 83 306 157 336 104 b 403 64 371 69 386 64 b 450 83 421 64 436 69 b 500 311 460 94 500 140 b 450 539 500 482 460 528 b 403 558 436 553 421 558 "},"я":{"ha":411,"x_min":0,"x_max":0,"o":"m 181 260 b 75 303 140 261 101 278 b 31 428 53 325 31 364 b 83 572 31 499 57 546 b 236 621 129 617 182 621 l 342 621 l 342 0 l 264 0 l 264 257 l 119 0 l 28 0 m 264 549 l 224 549 b 143 524 200 549 167 547 b 114 431 124 504 114 465 b 142 349 114 396 124 367 b 219 325 165 326 200 325 l 264 325 "},"ё":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 365 775 b 306 714 365 742 339 714 b 247 775 272 714 247 742 b 306 833 247 807 272 833 b 365 775 339 833 365 807 m 189 775 b 131 714 189 742 164 714 b 71 775 97 714 71 742 b 131 833 71 807 97 833 b 189 775 164 833 189 807 "},"ђ":{"ha":472,"x_min":0,"x_max":0,"o":"m 160 1013 l 160 811 l 304 811 l 304 739 l 160 739 l 160 538 b 210 578 182 561 203 574 b 285 597 235 592 260 597 b 368 565 328 597 353 581 b 403 438 401 529 403 465 l 403 -58 b 354 -221 403 -96 401 -178 b 272 -250 340 -233 314 -250 b 213 -236 249 -250 229 -244 l 213 -157 b 258 -172 229 -169 246 -172 b 303 -158 275 -172 293 -167 b 325 -58 324 -140 325 -99 l 325 415 b 306 513 325 467 319 496 b 257 533 296 524 281 533 b 192 507 232 533 208 524 b 160 385 160 474 160 425 l 160 0 l 82 0 l 82 739 l 14 739 l 14 811 l 82 811 l 82 1013 "},"ѓ":{"ha":342,"x_min":0,"x_max":0,"o":"m 69 621 l 321 621 l 321 549 l 147 549 l 147 0 l 69 0 m 172 704 l 124 740 l 257 907 l 332 847 "},"є":{"ha":389,"x_min":0,"x_max":0,"o":"m 339 26 b 239 -10 299 -6 267 -10 b 133 31 197 -10 167 0 b 47 313 69 90 47 186 b 126 586 47 419 63 524 b 236 631 156 615 190 631 b 339 596 258 631 300 626 l 339 499 b 301 539 329 514 314 529 b 247 558 283 553 265 558 b 186 533 221 558 201 549 b 133 363 150 497 133 421 l 294 363 l 294 290 l 132 290 b 185 90 132 222 144 133 b 244 64 200 74 218 64 b 300 82 265 64 283 69 b 339 126 314 92 329 108 "},"ѕ":{"ha":346,"x_min":0,"x_max":0,"o":"m 304 494 b 197 558 276 528 242 558 b 121 476 151 558 121 521 b 321 165 121 356 321 333 b 154 -10 321 69 253 -10 b 39 33 113 -10 72 7 l 39 125 b 149 64 69 93 104 64 b 239 160 204 64 239 108 b 39 474 239 282 39 324 b 193 631 39 564 103 631 b 304 590 235 631 269 615 "},"і":{"ha":215,"x_min":0,"x_max":0,"o":"m 165 815 b 108 758 165 785 140 758 b 50 815 76 758 50 785 b 108 875 50 849 75 875 b 165 815 140 875 165 847 m 68 0 l 68 621 l 147 621 l 147 0 "},"ї":{"ha":215,"x_min":0,"x_max":0,"o":"m 68 0 l 68 621 l 147 621 l 147 0 m 204 817 b 164 756 204 783 188 756 b 125 817 142 756 125 783 b 164 875 125 849 142 875 b 204 817 188 875 204 849 m 92 817 b 53 756 92 783 74 756 b 11 817 29 756 11 783 b 53 875 11 849 29 875 b 92 817 74 875 92 849 "},"ј":{"ha":221,"x_min":0,"x_max":0,"o":"m 72 -250 l 72 621 l 153 621 l 153 -250 m 171 815 b 113 758 171 785 144 758 b 54 815 81 758 54 785 b 113 875 54 849 79 875 b 171 815 146 875 171 849 "},"љ":{"ha":664,"x_min":0,"x_max":0,"o":"m 325 549 l 182 549 l 182 285 b 176 156 182 232 181 200 b 128 26 172 108 167 64 b 46 -6 103 3 76 -6 b 6 0 29 -6 17 -3 l 6 81 b 39 68 15 71 25 68 b 76 83 54 68 65 71 b 108 246 108 117 108 182 l 108 621 l 403 621 l 403 383 l 431 383 b 582 333 468 383 535 378 b 636 182 629 289 636 225 b 592 46 636 146 632 88 b 458 0 551 4 501 0 l 325 0 m 447 72 b 528 94 468 72 506 74 b 557 190 543 108 557 138 b 529 278 557 221 551 251 b 438 314 501 311 467 314 l 403 314 l 403 72 "},"њ":{"ha":650,"x_min":0,"x_max":0,"o":"m 311 307 l 147 307 l 147 0 l 69 0 l 69 621 l 147 621 l 147 379 l 311 379 l 311 621 l 390 621 l 390 379 l 417 379 b 569 329 458 379 524 374 b 622 179 618 282 622 215 b 579 46 622 149 618 86 b 444 0 539 4 485 0 l 311 0 m 433 72 b 514 94 458 72 492 74 b 543 181 531 110 543 139 b 508 281 543 238 522 267 b 426 307 482 307 451 307 l 390 307 l 390 72 "},"ћ":{"ha":472,"x_min":0,"x_max":0,"o":"m 325 0 l 325 418 b 256 533 325 468 324 533 b 181 493 226 533 197 518 b 160 385 160 461 160 421 l 160 0 l 82 0 l 82 739 l 14 739 l 14 811 l 82 811 l 82 1013 l 160 1013 l 160 811 l 304 811 l 304 739 l 160 739 l 160 538 b 281 597 192 572 233 597 b 403 438 382 597 403 525 l 403 0 "},"ќ":{"ha":425,"x_min":0,"x_max":0,"o":"m 147 350 l 313 621 l 403 621 l 215 322 l 422 0 l 326 0 l 147 285 l 147 0 l 69 0 l 69 621 l 147 621 m 222 704 l 174 740 l 307 907 l 382 847 "},"ў":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 353 797 b 296 719 342 765 319 736 b 204 694 263 696 219 694 b 113 719 189 694 146 696 b 56 797 89 736 67 765 l 121 829 b 150 779 124 813 135 792 b 206 764 167 765 189 764 b 258 779 222 764 242 765 b 288 829 272 790 283 811 "},"џ":{"ha":453,"x_min":0,"x_max":0,"o":"m 383 0 l 265 0 l 265 -144 l 186 -144 l 186 0 l 69 0 l 69 621 l 147 621 l 147 72 l 306 72 l 306 621 l 383 621 "},"Ѣ":{"ha":565,"x_min":0,"x_max":0,"o":"m 246 525 l 297 525 b 456 469 343 525 406 518 b 524 263 517 410 524 314 b 446 39 524 178 508 89 b 297 0 399 1 347 0 l 160 0 l 160 753 l 21 753 l 21 832 l 157 832 l 157 964 l 246 964 l 246 832 l 432 832 l 432 753 l 246 753 m 292 74 b 393 106 314 74 363 75 b 435 249 426 139 435 206 b 386 414 435 304 426 378 b 288 446 353 444 307 446 l 246 446 l 246 74 "},"ѣ":{"ha":446,"x_min":0,"x_max":0,"o":"m 107 549 l 14 549 l 14 621 l 107 621 l 107 926 l 185 926 l 185 621 l 331 621 l 331 549 l 185 549 l 185 383 l 213 383 b 365 333 285 383 336 361 b 418 182 393 307 418 260 b 374 46 418 146 414 88 b 240 0 333 4 283 0 l 107 0 m 229 72 b 310 94 250 72 288 74 b 339 190 325 108 339 138 b 311 278 339 221 333 251 b 219 314 283 311 249 314 l 185 314 l 185 72 "},"Ѳ":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 464 b 406 38 508 285 490 119 b 281 -12 371 4 329 -12 b 156 38 232 -12 190 4 b 53 464 71 119 53 285 b 156 889 53 640 71 807 b 281 939 190 922 232 939 b 406 889 329 939 371 922 b 508 464 490 807 508 640 m 281 856 b 210 825 250 856 228 843 b 140 532 151 764 140 608 l 421 532 b 351 825 419 603 410 765 b 281 856 333 843 311 856 m 140 453 b 210 101 139 421 133 181 b 281 71 228 83 250 71 b 351 101 311 71 333 83 b 421 453 418 171 425 364 "},"ѳ":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 311 b 328 29 401 207 394 93 b 224 -10 296 -1 264 -10 b 119 29 183 -10 151 -1 b 46 311 53 93 46 207 b 119 592 46 414 53 528 b 224 631 151 622 183 631 b 328 592 264 631 296 622 b 401 311 394 528 401 414 m 224 558 b 176 539 206 558 190 553 b 128 363 138 500 129 396 l 319 363 b 271 539 318 396 310 500 b 224 558 257 553 242 558 m 126 290 b 176 83 126 226 138 122 b 224 64 190 69 206 64 b 271 83 242 64 257 69 b 321 290 313 125 321 242 "},"Ѵ":{"ha":453,"x_min":0,"x_max":0,"o":"m 264 0 l 188 0 l 1 926 l 90 926 l 207 313 b 228 126 218 251 222 189 b 251 310 233 188 240 249 l 363 926 l 451 926 "},"ѵ":{"ha":383,"x_min":0,"x_max":0,"o":"m 236 0 l 151 0 l 10 621 l 90 621 l 172 250 b 194 117 182 206 189 161 b 217 247 201 160 208 204 l 293 621 l 374 621 "},"Ґ":{"ha":429,"x_min":0,"x_max":0,"o":"m 76 926 l 310 926 l 310 1094 l 396 1094 l 396 847 l 163 847 l 163 0 l 76 0 "},"ґ":{"ha":356,"x_min":0,"x_max":0,"o":"m 69 621 l 263 621 l 263 758 l 342 758 l 342 549 l 149 549 l 149 0 l 69 0 "},"Ғ":{"ha":442,"x_min":0,"x_max":0,"o":"m 194 847 l 194 522 l 356 522 l 356 443 l 194 443 l 194 0 l 108 0 l 108 443 l 28 443 l 28 522 l 108 522 l 108 926 l 403 926 l 403 847 "},"ғ":{"ha":364,"x_min":0,"x_max":0,"o":"m 93 268 l 28 268 l 28 340 l 93 340 l 93 621 l 343 621 l 343 549 l 171 549 l 171 340 l 317 340 l 317 268 l 171 268 l 171 0 l 93 0 "},"Ҕ":{"ha":519,"x_min":0,"x_max":0,"o":"m 163 847 l 163 543 b 267 563 193 554 231 563 b 410 508 322 563 374 543 b 481 271 464 454 481 369 b 407 22 481 118 439 51 b 297 -17 371 -11 329 -17 b 200 8 258 -17 228 -7 l 226 90 b 290 67 240 79 261 67 b 353 92 314 67 335 71 b 393 261 368 108 393 150 b 343 453 393 386 364 433 b 256 483 324 471 293 483 b 163 460 242 483 204 482 l 163 0 l 76 0 l 76 926 l 390 926 l 390 847 "},"ҕ":{"ha":407,"x_min":0,"x_max":0,"o":"m 69 621 l 319 621 l 319 549 l 147 549 l 147 363 l 174 363 b 311 318 210 363 268 358 b 379 93 356 276 379 197 b 288 -196 379 -12 354 -131 b 188 -250 261 -221 225 -240 l 188 -162 b 235 -137 206 -160 219 -151 b 297 93 289 -85 297 8 b 256 260 297 142 293 224 b 174 286 229 286 194 286 l 147 286 l 147 0 l 69 0 "},"Җ":{"ha":674,"x_min":0,"x_max":0,"o":"m 635 926 l 443 485 l 601 79 l 668 79 l 668 -181 l 582 -181 l 582 0 l 544 0 l 367 467 l 367 0 l 281 0 l 281 467 l 97 0 l 6 0 l 204 485 l 13 926 l 103 926 l 281 506 l 281 926 l 367 926 l 367 506 l 544 926 "},"җ":{"ha":611,"x_min":0,"x_max":0,"o":"m 571 621 l 394 324 l 535 72 l 604 72 l 604 -144 l 526 -144 l 526 0 l 486 0 l 332 285 l 332 0 l 253 0 l 253 285 l 93 0 l 3 0 l 190 324 l 14 621 l 99 621 l 253 350 l 253 621 l 332 621 l 332 350 l 486 621 "},"Ҙ":{"ha":485,"x_min":0,"x_max":0,"o":"m 164 514 b 272 550 190 514 239 518 b 315 678 296 572 315 615 b 278 811 315 721 308 775 b 183 853 261 831 232 853 b 101 826 147 853 119 840 b 53 774 86 815 67 794 l 53 892 b 197 939 75 908 124 939 b 344 881 272 939 318 910 b 406 697 381 842 406 781 b 374 551 406 644 397 589 b 292 482 356 521 325 496 b 388 431 336 475 368 453 b 438 278 432 381 438 313 b 360 47 438 175 407 96 b 247 -8 328 14 293 -4 l 247 -181 l 161 -181 l 161 -8 b 42 39 139 -7 89 0 l 42 160 b 193 74 71 115 122 74 b 301 121 224 74 268 81 b 343 261 331 156 343 211 b 294 397 343 310 329 365 b 168 435 257 432 201 435 l 140 435 l 140 514 "},"ҙ":{"ha":388,"x_min":0,"x_max":0,"o":"m 244 321 b 308 286 269 314 292 301 b 353 171 332 265 353 229 b 308 47 353 119 333 76 b 217 -6 290 25 260 3 l 217 -144 l 139 -144 l 139 -6 b 42 39 114 -3 79 6 l 42 139 b 93 86 54 122 76 99 b 161 64 111 74 133 64 b 239 93 196 64 224 76 b 267 169 257 113 267 146 b 233 256 267 206 254 239 b 142 278 208 276 161 278 l 118 278 l 118 353 l 144 353 b 222 375 171 353 204 361 b 251 451 249 396 251 428 b 226 531 251 474 250 506 b 160 557 211 547 186 557 b 93 532 133 557 111 547 b 49 481 76 518 60 497 l 49 581 b 169 631 90 622 135 631 b 285 588 211 631 250 622 b 331 463 321 550 331 504 b 304 367 331 433 326 397 b 244 321 290 349 269 332 "},"Қ":{"ha":481,"x_min":0,"x_max":0,"o":"m 163 926 l 163 506 l 349 926 l 444 926 l 244 485 l 408 79 l 475 79 l 475 -181 l 389 -181 l 389 0 l 344 0 l 163 467 l 163 0 l 76 0 l 76 926 "},"қ":{"ha":447,"x_min":0,"x_max":0,"o":"m 147 350 l 313 621 l 404 621 l 215 322 l 371 72 l 440 72 l 440 -144 l 363 -144 l 363 0 l 321 0 l 147 285 l 147 0 l 69 0 l 69 621 l 147 621 "},"Ҝ":{"ha":588,"x_min":0,"x_max":0,"o":"m 163 0 l 76 0 l 76 926 l 163 926 l 163 526 l 219 526 l 219 717 l 297 717 l 297 506 l 483 926 l 575 926 l 375 485 l 576 0 l 483 0 l 297 467 l 297 222 l 219 222 l 219 446 l 163 446 "},"ҝ":{"ha":499,"x_min":0,"x_max":0,"o":"m 147 0 l 69 0 l 69 621 l 147 621 l 147 350 l 192 350 l 192 479 l 257 479 l 257 350 l 396 621 l 482 621 l 325 329 l 496 0 l 404 0 l 257 285 l 257 124 l 192 124 l 192 281 l 147 281 "},"Ҡ":{"ha":540,"x_min":0,"x_max":0,"o":"m 432 0 l 246 467 l 246 0 l 160 0 l 160 847 l 21 847 l 21 926 l 246 926 l 246 506 l 432 926 l 528 926 l 328 485 l 529 0 "},"ҡ":{"ha":503,"x_min":0,"x_max":0,"o":"m 390 621 l 481 621 l 293 322 l 500 0 l 404 0 l 224 285 l 224 0 l 146 0 l 146 549 l 14 549 l 14 621 l 224 621 l 224 350 "},"Ң":{"ha":554,"x_min":0,"x_max":0,"o":"m 163 926 l 163 557 l 374 557 l 374 926 l 460 926 l 460 79 l 535 79 l 535 -181 l 449 -181 l 449 0 l 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 "},"ң":{"ha":474,"x_min":0,"x_max":0,"o":"m 147 621 l 147 363 l 313 363 l 313 621 l 390 621 l 390 72 l 460 72 l 460 -144 l 382 -144 l 382 0 l 313 0 l 313 290 l 147 290 l 147 0 l 69 0 l 69 621 "},"Ҥ":{"ha":649,"x_min":0,"x_max":0,"o":"m 460 0 l 374 0 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 374 557 l 374 926 l 635 926 l 635 847 l 460 847 "},"ҥ":{"ha":561,"x_min":0,"x_max":0,"o":"m 313 290 l 149 290 l 149 0 l 69 0 l 69 621 l 149 621 l 149 363 l 313 363 l 313 621 l 547 621 l 547 549 l 390 549 l 390 0 l 313 0 "},"Ҫ":{"ha":444,"x_min":0,"x_max":0,"o":"m 419 26 b 349 -7 397 10 374 -1 l 349 -181 l 263 -181 l 263 -7 b 157 49 228 0 192 14 b 53 440 67 139 53 296 b 165 881 53 643 82 799 b 311 939 204 919 251 939 b 419 910 343 939 381 932 l 419 815 b 313 856 386 839 346 856 b 222 818 289 856 254 850 b 140 489 144 740 140 553 b 219 106 140 228 185 140 b 306 71 246 79 276 71 b 419 113 340 71 383 86 "},"ҫ":{"ha":342,"x_min":0,"x_max":0,"o":"m 314 22 b 271 -3 300 10 286 1 l 271 -144 l 193 -144 l 193 -6 b 110 50 158 1 133 17 b 46 308 88 81 46 150 b 121 581 46 385 56 506 b 229 631 153 618 186 631 b 314 607 247 631 279 628 l 314 515 b 233 558 294 539 264 558 b 190 542 217 558 201 551 b 128 310 179 532 128 488 b 181 90 128 151 174 97 b 235 64 201 68 222 64 b 314 119 275 64 303 103 "},"Ү":{"ha":439,"x_min":0,"x_max":0,"o":"m 268 401 l 268 0 l 182 0 l 182 401 l 1 926 l 94 926 l 181 661 b 225 490 192 628 213 553 b 265 660 231 526 239 572 l 344 926 l 438 926 "},"ү":{"ha":406,"x_min":0,"x_max":0,"o":"m 93 621 l 158 382 b 204 194 174 324 188 282 b 251 389 218 264 233 324 l 315 621 l 397 621 l 244 96 l 244 -250 l 164 -250 l 164 96 l 11 621 "},"Ұ":{"ha":439,"x_min":0,"x_max":0,"o":"m 268 401 l 268 360 l 410 360 l 410 285 l 268 285 l 268 0 l 182 0 l 182 285 l 40 285 l 40 360 l 182 360 l 182 401 l 1 926 l 94 926 l 181 661 b 225 490 192 628 213 553 b 265 660 231 526 239 572 l 344 926 l 438 926 "},"ұ":{"ha":406,"x_min":0,"x_max":0,"o":"m 93 621 l 158 382 b 204 194 174 324 188 282 b 251 389 218 264 233 324 l 315 621 l 397 621 l 244 107 l 244 72 l 349 72 l 349 0 l 244 0 l 244 -250 l 164 -250 l 164 0 l 60 0 l 60 72 l 164 72 l 164 107 l 11 621 "},"Ҳ":{"ha":472,"x_min":0,"x_max":0,"o":"m 176 697 b 221 535 196 644 211 590 b 265 692 229 589 247 640 l 349 926 l 440 926 l 264 471 l 408 79 l 467 79 l 467 -181 l 381 -181 l 381 0 l 349 0 l 257 263 b 221 394 242 306 229 350 b 182 260 211 349 197 304 l 94 0 l 1 0 l 182 471 l 1 926 l 94 926 "},"ҳ":{"ha":417,"x_min":0,"x_max":0,"o":"m 111 621 b 199 358 143 535 179 449 b 290 621 217 450 257 535 l 378 621 l 239 318 l 346 72 l 411 72 l 411 -144 l 338 -144 l 338 0 l 290 0 l 222 176 b 192 268 211 207 199 238 b 164 175 186 238 175 206 l 97 0 l 10 0 l 153 318 l 25 621 "},"Ҷ":{"ha":539,"x_min":0,"x_max":0,"o":"m 444 79 l 519 79 l 519 -181 l 433 -181 l 433 0 l 358 0 l 358 468 b 256 457 328 461 294 457 b 118 496 211 457 157 463 b 63 682 68 538 63 603 l 63 926 l 150 926 l 150 692 b 181 560 150 640 150 588 b 272 536 206 538 246 536 b 358 546 304 536 329 539 l 358 926 l 444 926 "},"ҷ":{"ha":443,"x_min":0,"x_max":0,"o":"m 282 0 l 282 293 b 196 281 257 285 229 281 b 83 315 160 281 111 289 b 42 458 43 353 42 422 l 42 621 l 119 621 l 119 450 b 140 374 119 433 119 393 b 207 354 156 360 185 354 b 282 365 242 354 274 363 l 282 621 l 360 621 l 360 72 l 429 72 l 429 -144 l 351 -144 l 351 0 "},"Ҹ":{"ha":540,"x_min":0,"x_max":0,"o":"m 465 0 l 379 0 l 379 468 b 322 460 363 464 343 460 l 322 249 l 244 249 l 244 458 b 118 496 190 458 146 472 b 63 682 68 538 63 603 l 63 926 l 150 926 l 150 689 b 175 563 150 642 150 589 b 244 538 190 546 217 538 l 244 733 l 322 733 l 322 538 b 379 546 343 538 361 540 l 379 926 l 465 926 "},"ҹ":{"ha":439,"x_min":0,"x_max":0,"o":"m 292 293 b 249 283 279 288 264 285 l 249 138 l 182 138 l 182 283 b 81 319 143 283 103 297 b 42 446 44 356 42 415 l 42 621 l 119 621 l 119 450 b 135 381 119 425 121 397 b 182 358 144 368 164 360 l 182 490 l 249 490 l 249 357 b 292 365 263 357 276 360 l 292 621 l 369 621 l 369 0 l 292 0 "},"Һ":{"ha":519,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 543 b 271 563 213 560 254 563 b 408 524 317 563 374 551 b 464 338 458 482 464 417 l 464 0 l 376 0 l 376 328 b 344 458 376 376 376 429 b 258 483 324 476 288 483 b 163 460 219 483 189 474 l 163 0 l 76 0 "},"һ":{"ha":458,"x_min":0,"x_max":0,"o":"m 311 0 l 311 446 b 242 567 311 497 313 567 b 168 526 213 567 183 551 b 147 418 147 494 147 454 l 147 0 l 69 0 l 69 1013 l 147 1013 l 147 571 b 268 631 178 606 219 631 b 389 471 369 631 389 558 l 389 0 "},"Ӏ":{"ha":218,"x_min":0,"x_max":0,"o":"m 69 0 l 69 926 l 149 926 l 149 0 "},"Ӂ":{"ha":647,"x_min":0,"x_max":0,"o":"m 550 0 l 367 467 l 367 0 l 281 0 l 281 467 l 97 0 l 6 0 l 204 485 l 13 926 l 103 926 l 281 506 l 281 926 l 367 926 l 367 506 l 544 926 l 635 926 l 443 485 l 642 0 m 489 1089 b 425 1003 475 1044 447 1018 b 324 976 390 981 354 976 b 222 1003 286 976 254 982 b 158 1089 179 1031 164 1067 l 232 1119 b 265 1068 240 1088 260 1072 b 324 1051 278 1058 297 1051 b 382 1068 358 1051 376 1064 b 415 1119 397 1079 410 1101 "},"ӂ":{"ha":585,"x_min":0,"x_max":0,"o":"m 492 0 l 332 285 l 332 0 l 253 0 l 253 285 l 93 0 l 3 0 l 190 324 l 14 621 l 99 621 l 253 350 l 253 621 l 332 621 l 332 350 l 486 621 l 571 621 l 394 324 l 582 0 m 443 797 b 386 719 432 765 410 736 b 294 694 353 696 310 694 b 203 719 279 694 236 696 b 146 797 179 736 157 765 l 211 829 b 240 779 214 813 225 792 b 296 764 257 765 279 764 b 349 779 313 764 332 765 b 378 829 363 790 374 811 "},"Ӄ":{"ha":518,"x_min":0,"x_max":0,"o":"m 163 926 l 163 506 l 354 926 l 450 926 l 275 557 b 404 508 331 557 375 535 b 476 214 476 443 476 329 l 476 99 b 403 -183 476 -3 468 -124 b 293 -222 371 -212 335 -222 b 196 -197 254 -222 224 -212 l 222 -115 b 286 -139 242 -131 264 -139 b 349 -114 310 -139 331 -133 b 389 90 386 -72 389 11 l 389 211 b 342 446 389 322 383 406 b 251 478 329 458 301 478 b 163 460 210 478 174 464 l 163 0 l 76 0 l 76 926 "},"ӄ":{"ha":406,"x_min":0,"x_max":0,"o":"m 147 350 l 313 621 l 403 621 l 235 353 b 324 306 272 346 303 328 b 381 94 372 253 381 161 b 292 -192 381 -10 363 -121 b 188 -250 272 -211 238 -237 l 188 -162 b 235 -137 206 -160 219 -151 b 297 74 286 -87 297 7 b 258 256 297 200 274 240 b 164 285 242 272 210 285 l 147 285 l 147 0 l 69 0 l 69 621 l 147 621 "},"Ӈ":{"ha":535,"x_min":0,"x_max":0,"o":"m 460 926 l 460 -103 b 458 -143 460 -117 460 -129 b 326 -250 451 -218 397 -250 b 226 -225 290 -250 258 -240 l 226 -136 b 313 -175 253 -158 278 -175 b 374 -65 369 -175 374 -129 l 374 478 l 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 374 557 l 374 926 "},"ӈ":{"ha":458,"x_min":0,"x_max":0,"o":"m 147 621 l 147 363 l 311 363 l 311 621 l 389 621 l 389 -58 b 346 -214 389 -132 378 -181 b 258 -250 319 -242 290 -250 b 199 -236 239 -250 221 -247 l 199 -157 b 247 -172 218 -171 233 -172 b 288 -161 258 -172 275 -171 b 311 -58 310 -142 311 -92 l 311 290 l 147 290 l 147 0 l 69 0 l 69 621 "},"Ӑ":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 392 1089 b 328 1003 378 1044 350 1018 b 226 976 293 981 257 976 b 125 1003 189 976 157 982 b 61 1089 82 1031 67 1067 l 135 1119 b 168 1068 143 1088 163 1072 b 226 1051 181 1058 200 1051 b 285 1068 261 1051 279 1064 b 318 1119 300 1079 313 1101 "},"ӑ":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 367 797 b 310 719 356 765 333 736 b 218 694 276 696 233 694 b 126 719 203 694 160 696 b 69 797 103 736 81 765 l 135 829 b 164 779 138 813 149 792 b 219 764 181 765 203 764 b 272 779 236 764 256 765 b 301 829 286 790 297 811 "},"Ӓ":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 375 1061 b 315 1000 375 1028 349 1000 b 256 1061 282 1000 256 1028 b 315 1121 256 1094 282 1121 b 375 1061 349 1121 375 1094 m 197 1061 b 138 1000 197 1028 171 1000 b 78 1061 104 1000 78 1028 b 138 1121 78 1094 104 1121 b 197 1061 171 1121 197 1094 "},"ӓ":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 379 774 b 319 713 379 740 353 713 b 260 774 286 713 260 740 b 319 833 260 807 286 833 b 379 774 353 833 379 807 m 201 774 b 142 713 201 740 175 713 b 82 774 108 713 82 740 b 142 833 82 807 108 833 b 201 774 175 833 201 807 "},"Ӕ":{"ha":642,"x_min":0,"x_max":0,"o":"m 367 0 l 336 190 l 126 190 l 93 0 l 1 0 l 183 926 l 492 926 l 507 847 l 308 847 l 367 521 l 554 521 l 569 442 l 381 442 l 446 79 l 642 79 l 654 0 m 258 656 b 238 826 249 713 240 769 b 211 657 228 769 221 714 l 140 264 l 324 264 "},"ӕ":{"ha":706,"x_min":0,"x_max":0,"o":"m 385 297 b 493 63 385 229 397 63 b 576 215 565 63 575 160 l 650 215 b 489 -10 647 119 604 -10 b 354 93 421 -10 381 38 b 204 -10 328 32 272 -10 b 46 208 86 -10 46 108 b 201 414 46 308 86 414 b 313 363 244 414 286 396 l 313 381 b 192 558 313 463 292 558 b 83 508 149 558 114 533 l 83 594 b 196 631 117 618 153 631 b 354 526 269 631 324 593 b 488 631 376 581 425 631 b 658 297 643 631 657 411 m 581 363 b 482 558 581 424 564 558 b 388 363 404 558 388 419 m 314 201 b 215 350 314 264 294 350 b 122 208 139 350 122 269 b 215 64 122 149 139 64 b 314 201 290 64 314 140 "},"Ӗ":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 386 1089 b 322 1003 372 1044 344 1018 b 221 976 288 981 251 976 b 119 1003 183 976 151 982 b 56 1089 76 1031 61 1067 l 129 1119 b 163 1068 138 1088 157 1072 b 221 1051 175 1058 194 1051 b 279 1068 256 1051 274 1064 b 313 1119 294 1079 307 1101 "},"ӗ":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 367 797 b 310 719 356 765 333 736 b 218 694 276 696 233 694 b 126 719 203 694 160 696 b 69 797 103 736 81 765 l 135 829 b 164 779 138 813 149 792 b 219 764 181 765 203 764 b 272 779 236 764 256 765 b 301 829 286 790 297 811 "},"Ә":{"ha":519,"x_min":0,"x_max":0,"o":"m 379 489 l 379 506 l 379 518 b 313 825 379 675 363 774 b 242 856 292 847 268 856 b 174 822 214 856 192 844 b 138 724 156 800 142 757 l 53 757 b 124 894 64 807 93 864 b 242 939 163 933 203 939 b 372 889 293 939 332 929 b 467 486 463 799 467 633 b 456 238 467 394 465 321 b 382 38 449 179 435 90 b 250 -12 339 -7 288 -12 b 122 35 211 -12 161 -4 b 53 311 58 99 53 221 l 53 489 m 139 410 l 139 292 b 181 99 139 210 144 138 b 250 71 199 81 221 71 b 321 96 279 71 304 81 b 368 226 349 121 361 169 b 378 410 374 276 378 349 "},"ә":{"ha":438,"x_min":0,"x_max":0,"o":"m 313 326 l 313 340 b 267 535 313 393 303 497 b 211 557 250 553 231 557 b 160 533 190 557 175 550 b 121 425 154 528 131 499 l 46 456 b 101 582 53 500 74 550 b 210 631 129 614 164 631 b 319 585 256 631 290 615 b 392 321 372 529 392 433 b 311 29 392 215 378 94 b 214 -10 282 1 250 -10 b 119 31 169 -10 139 11 b 50 326 58 92 43 228 m 126 260 b 172 81 128 207 142 111 b 215 63 185 68 200 63 b 260 81 233 63 249 71 b 311 260 293 111 310 203 "},"Ӛ":{"ha":519,"x_min":0,"x_max":0,"o":"m 379 489 l 379 506 l 379 518 b 313 825 379 675 363 774 b 242 856 292 847 268 856 b 174 822 214 856 192 844 b 138 724 156 800 142 757 l 53 757 b 124 894 64 807 93 864 b 242 939 163 933 203 939 b 372 889 293 939 332 929 b 467 486 463 799 467 633 b 456 238 467 394 465 321 b 382 38 449 179 435 90 b 250 -12 339 -7 288 -12 b 122 35 211 -12 161 -4 b 53 311 58 99 53 221 l 53 489 m 139 410 l 139 292 b 181 99 139 210 144 138 b 250 71 199 81 221 71 b 321 96 279 71 304 81 b 368 226 349 121 361 169 b 378 410 374 276 378 349 m 392 1061 b 332 1000 392 1028 365 1000 b 272 1061 299 1000 272 1028 b 332 1121 272 1094 299 1121 b 392 1061 365 1121 392 1094 m 214 1061 b 154 1000 214 1028 188 1000 b 94 1061 121 1000 94 1028 b 154 1121 94 1094 121 1121 b 214 1061 188 1121 214 1094 "},"ӛ":{"ha":438,"x_min":0,"x_max":0,"o":"m 313 326 l 313 340 b 267 535 313 393 303 497 b 211 557 250 553 231 557 b 160 533 190 557 175 550 b 121 425 154 528 131 499 l 46 456 b 101 582 53 500 74 550 b 210 631 129 614 164 631 b 319 585 256 631 290 615 b 392 321 372 529 392 433 b 311 29 392 215 378 94 b 214 -10 282 1 250 -10 b 119 31 169 -10 139 11 b 50 326 58 92 43 228 m 126 260 b 172 81 128 207 142 111 b 215 63 185 68 200 63 b 260 81 233 63 249 71 b 311 260 293 111 310 203 m 364 774 b 304 713 364 740 338 713 b 244 774 271 713 244 740 b 304 833 244 807 271 833 b 364 774 338 833 364 807 m 186 774 b 126 713 186 740 160 713 b 67 774 93 713 67 740 b 126 833 67 807 93 833 b 186 774 160 833 186 807 "},"Ӝ":{"ha":647,"x_min":0,"x_max":0,"o":"m 550 0 l 367 467 l 367 0 l 281 0 l 281 467 l 97 0 l 6 0 l 204 485 l 13 926 l 103 926 l 281 506 l 281 926 l 367 926 l 367 506 l 544 926 l 635 926 l 443 485 l 642 0 m 472 1061 b 413 1000 472 1028 446 1000 b 353 1061 379 1000 353 1028 b 413 1121 353 1094 379 1121 b 472 1061 446 1121 472 1094 m 294 1061 b 235 1000 294 1028 268 1000 b 175 1061 201 1000 175 1028 b 235 1121 175 1094 201 1121 b 294 1061 268 1121 294 1094 "},"ӝ":{"ha":585,"x_min":0,"x_max":0,"o":"m 492 0 l 332 285 l 332 0 l 253 0 l 253 285 l 93 0 l 3 0 l 190 324 l 14 621 l 99 621 l 253 350 l 253 621 l 332 621 l 332 350 l 486 621 l 571 621 l 394 324 l 582 0 m 446 774 b 386 713 446 740 419 713 b 326 774 353 713 326 740 b 386 833 326 807 353 833 b 446 774 419 833 446 807 m 268 774 b 208 713 268 740 242 713 b 149 774 175 713 149 740 b 208 833 149 807 175 833 b 268 774 242 833 268 807 "},"Ӟ":{"ha":485,"x_min":0,"x_max":0,"o":"m 164 514 b 272 550 190 514 239 518 b 315 678 296 572 315 615 b 278 811 315 721 308 775 b 183 853 261 831 232 853 b 101 826 147 853 119 840 b 53 774 86 815 67 794 l 53 892 b 197 939 75 908 124 939 b 344 881 272 939 318 910 b 406 697 381 842 406 781 b 374 551 406 644 397 589 b 292 482 356 521 325 496 b 388 431 336 475 368 453 b 438 278 432 381 438 313 b 360 47 438 176 407 94 b 203 -12 314 1 261 -12 b 42 39 156 -12 97 -4 l 42 160 b 193 74 71 115 122 74 b 301 121 224 74 268 81 b 343 261 331 156 343 211 b 294 397 343 310 329 365 b 168 435 257 432 201 435 l 140 435 l 140 514 m 357 1061 b 297 1000 357 1028 331 1000 b 238 1061 264 1000 238 1028 b 297 1121 238 1094 264 1121 b 357 1061 331 1121 357 1094 m 179 1061 b 119 1000 179 1028 153 1000 b 60 1061 86 1000 60 1028 b 119 1121 60 1094 86 1121 b 179 1061 153 1121 179 1094 "},"ӟ":{"ha":388,"x_min":0,"x_max":0,"o":"m 244 321 b 308 286 269 314 292 301 b 353 171 338 260 353 222 b 296 35 353 104 322 60 b 172 -10 258 0 219 -10 b 42 39 132 -10 88 -1 l 42 139 b 93 86 54 122 76 99 b 161 64 111 74 133 64 b 239 93 196 64 224 76 b 267 169 257 113 267 146 b 233 256 267 206 254 239 b 142 278 208 276 161 278 l 118 278 l 118 353 l 144 353 b 222 375 171 353 204 361 b 251 451 249 396 251 428 b 226 531 251 474 250 506 b 160 557 211 547 186 557 b 93 532 133 557 111 547 b 49 481 76 518 60 497 l 49 581 b 169 631 90 622 135 631 b 285 588 211 631 250 622 b 331 463 321 550 331 504 b 304 367 331 433 326 397 b 244 321 290 349 269 332 m 329 774 b 269 713 329 740 303 713 b 210 774 236 713 210 740 b 269 833 210 807 236 833 b 329 774 303 833 329 807 m 151 774 b 92 713 151 740 125 713 b 32 774 58 713 32 740 b 92 833 32 807 58 833 b 151 774 125 833 151 807 "},"Ӣ":{"ha":546,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 299 b 154 182 163 267 160 233 b 188 294 174 247 178 265 l 385 926 l 471 926 l 471 0 l 385 0 l 385 599 b 393 744 385 647 390 708 b 356 614 369 654 365 644 l 163 0 l 76 0 m 118 1010 l 118 1086 l 429 1086 l 429 1010 "},"ӣ":{"ha":467,"x_min":0,"x_max":0,"o":"m 319 0 l 319 386 b 322 475 319 397 319 413 b 293 382 314 436 304 410 l 147 0 l 69 0 l 69 621 l 147 621 l 147 238 b 144 142 147 206 147 186 b 174 233 160 199 164 207 l 319 621 l 397 621 l 397 0 m 81 722 l 81 799 l 392 799 l 392 722 "},"Ӥ":{"ha":546,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 299 b 154 182 163 267 160 233 b 188 294 174 247 178 265 l 385 926 l 471 926 l 471 0 l 385 0 l 385 599 b 393 744 385 647 390 708 b 356 614 369 654 365 644 l 163 0 l 76 0 m 422 1061 b 363 1000 422 1028 396 1000 b 303 1061 329 1000 303 1028 b 363 1121 303 1094 329 1121 b 422 1061 396 1121 422 1094 m 244 1061 b 185 1000 244 1028 218 1000 b 125 1061 151 1000 125 1028 b 185 1121 125 1094 151 1121 b 244 1061 218 1121 244 1094 "},"ӥ":{"ha":467,"x_min":0,"x_max":0,"o":"m 319 0 l 319 386 b 322 475 319 397 319 413 b 293 382 314 436 304 410 l 147 0 l 69 0 l 69 621 l 147 621 l 147 238 b 144 142 147 206 147 186 b 174 233 160 199 164 207 l 319 621 l 397 621 l 397 0 m 385 774 b 325 713 385 740 358 713 b 265 774 292 713 265 740 b 325 833 265 807 292 833 b 385 774 358 833 385 807 m 207 774 b 147 713 207 740 181 713 b 88 774 114 713 88 740 b 147 833 88 807 114 833 b 207 774 181 833 207 807 "},"Ӧ":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 429 1061 b 369 1000 429 1028 403 1000 b 310 1061 336 1000 310 1028 b 369 1121 310 1094 336 1121 b 429 1061 403 1121 429 1094 m 251 1061 b 192 1000 251 1028 225 1000 b 132 1061 158 1000 132 1028 b 192 1121 132 1094 158 1121 b 251 1061 225 1121 251 1094 "},"ӧ":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 376 774 b 317 713 376 740 350 713 b 257 774 283 713 257 740 b 317 833 257 807 283 833 b 376 774 350 833 376 807 m 199 774 b 139 713 199 740 172 713 b 79 774 106 713 79 740 b 139 833 79 807 106 833 b 199 774 172 833 199 807 "},"Ө":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 464 b 406 38 508 285 490 119 b 281 -12 371 4 329 -12 b 156 38 232 -12 190 4 b 53 464 71 119 53 285 b 156 889 53 640 71 807 b 281 939 190 922 232 939 b 406 889 329 939 371 922 b 508 464 490 807 508 640 m 281 856 b 210 825 250 856 228 843 b 140 532 151 764 140 608 l 421 532 b 351 825 419 603 410 765 b 281 856 333 843 311 856 m 140 453 b 210 101 139 421 133 181 b 281 71 228 83 250 71 b 351 101 311 71 333 83 b 421 453 418 171 425 364 "},"ө":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 311 b 328 29 401 207 394 93 b 224 -10 296 -1 264 -10 b 119 29 183 -10 151 -1 b 46 311 53 93 46 207 b 119 592 46 414 53 528 b 224 631 151 622 183 631 b 328 592 264 631 296 622 b 401 311 394 528 401 414 m 224 558 b 176 539 206 558 190 553 b 128 363 138 500 129 396 l 319 363 b 271 539 318 396 310 500 b 224 558 257 553 242 558 m 126 290 b 176 83 125 240 135 125 b 224 64 190 69 206 64 b 271 83 242 64 257 69 b 321 290 313 125 321 242 "},"Ӫ":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 464 b 406 38 508 285 490 119 b 281 -12 371 4 329 -12 b 156 38 232 -12 190 4 b 53 464 71 119 53 285 b 156 889 53 640 71 807 b 281 939 190 922 232 939 b 406 889 329 939 371 922 b 508 464 490 807 508 640 m 281 856 b 210 825 250 856 228 843 b 140 532 151 764 140 608 l 421 532 b 351 825 419 603 410 765 b 281 856 333 843 311 856 m 140 453 b 210 101 139 421 133 181 b 281 71 228 83 250 71 b 351 101 311 71 333 83 b 421 453 418 171 425 364 m 429 1061 b 369 1000 429 1028 403 1000 b 310 1061 336 1000 310 1028 b 369 1121 310 1094 336 1121 b 429 1061 403 1121 429 1094 m 251 1061 b 192 1000 251 1028 225 1000 b 132 1061 158 1000 132 1028 b 192 1121 132 1094 158 1121 b 251 1061 225 1121 251 1094 "},"ӫ":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 311 b 328 29 401 207 394 93 b 224 -10 296 -1 264 -10 b 119 29 183 -10 151 -1 b 46 311 53 93 46 207 b 119 592 46 414 53 528 b 224 631 151 622 183 631 b 328 592 264 631 296 622 b 401 311 394 528 401 414 m 224 558 b 176 539 206 558 190 553 b 128 363 138 500 129 396 l 319 363 b 271 539 318 396 310 500 b 224 558 257 553 242 558 m 126 290 b 176 83 125 240 135 125 b 224 64 190 69 206 64 b 271 83 242 64 257 69 b 321 290 313 125 321 242 m 376 774 b 317 713 376 740 350 713 b 257 774 283 713 257 740 b 317 833 257 807 283 833 b 376 774 350 833 376 807 m 199 774 b 139 713 199 740 172 713 b 79 774 106 713 79 740 b 139 833 79 807 106 833 b 199 774 172 833 199 807 "},"Ӯ":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 88 1010 l 88 1086 l 399 1086 l 399 1010 "},"ӯ":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 49 722 l 49 799 l 360 799 l 360 722 "},"Ӱ":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 399 1061 b 339 1000 399 1028 372 1000 b 279 1061 306 1000 279 1028 b 339 1121 279 1094 306 1121 b 399 1061 372 1121 399 1094 m 221 1061 b 161 1000 221 1028 194 1000 b 101 1061 128 1000 101 1028 b 161 1121 101 1094 128 1121 b 221 1061 194 1121 221 1094 "},"ӱ":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 363 774 b 303 713 363 740 336 713 b 243 774 269 713 243 740 b 303 833 243 807 269 833 b 363 774 336 833 363 807 m 185 774 b 125 713 185 740 158 713 b 65 774 92 713 65 740 b 125 833 65 807 92 833 b 185 774 158 833 185 807 "},"Ӳ":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 317 992 l 265 1010 l 336 1183 l 414 1153 m 175 992 l 124 1010 l 193 1183 l 271 1153 "},"ӳ":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 283 704 l 232 722 l 303 896 l 381 865 m 142 704 l 90 722 l 160 896 l 238 865 "},"Ӵ":{"ha":519,"x_min":0,"x_max":0,"o":"m 444 0 l 358 0 l 358 468 b 256 457 328 461 294 457 b 118 496 211 457 157 463 b 63 682 68 538 63 603 l 63 926 l 150 926 l 150 692 b 181 560 150 640 150 588 b 272 536 206 538 246 536 b 358 546 304 536 329 539 l 358 926 l 444 926 m 408 1061 b 349 1000 408 1028 382 1000 b 289 1061 315 1000 289 1028 b 349 1121 289 1094 315 1121 b 408 1061 382 1121 408 1094 m 231 1061 b 171 1000 231 1028 204 1000 b 111 1061 138 1000 111 1028 b 171 1121 111 1094 138 1121 b 231 1061 204 1121 231 1094 "},"ӵ":{"ha":428,"x_min":0,"x_max":0,"o":"m 281 293 b 196 281 256 285 229 281 b 83 315 143 281 106 296 b 42 458 43 351 42 410 l 42 621 l 119 621 l 119 450 b 140 374 119 432 119 393 b 207 354 160 356 197 354 b 281 365 240 354 271 363 l 281 621 l 358 621 l 358 0 l 281 0 m 350 774 b 290 713 350 740 324 713 b 231 774 257 713 231 740 b 290 833 231 807 257 833 b 350 774 324 833 350 807 m 172 774 b 113 713 172 740 146 713 b 53 774 79 713 53 740 b 113 833 53 807 79 833 b 172 774 146 833 172 807 "},"Ӹ":{"ha":671,"x_min":0,"x_max":0,"o":"m 510 0 l 510 926 l 596 926 l 596 0 m 163 525 l 214 525 b 372 469 260 525 322 518 b 440 263 433 410 440 314 b 363 39 440 178 425 89 b 214 0 315 1 264 0 l 76 0 l 76 926 l 163 926 m 208 74 b 310 106 231 74 279 75 b 351 249 343 139 351 206 b 303 414 351 304 343 378 b 204 446 269 444 224 446 l 163 446 l 163 74 m 485 1061 b 425 1000 485 1028 458 1000 b 365 1061 392 1000 365 1028 b 425 1121 365 1094 392 1121 b 485 1061 458 1121 485 1094 m 307 1061 b 247 1000 307 1028 281 1000 b 188 1061 214 1000 188 1028 b 247 1121 188 1094 214 1121 b 307 1061 281 1121 307 1094 "},"ӹ":{"ha":590,"x_min":0,"x_max":0,"o":"m 443 0 l 443 621 l 521 621 l 521 0 m 69 621 l 147 621 l 147 383 l 175 383 b 328 333 247 383 299 361 b 381 181 354 308 381 263 b 338 46 381 147 376 86 b 203 0 297 4 243 0 l 69 0 m 192 72 b 272 94 217 72 250 74 b 301 189 289 110 301 138 b 274 278 301 214 299 249 b 182 314 246 311 214 314 l 147 314 l 147 72 m 447 774 b 388 713 447 740 421 713 b 328 774 354 713 328 740 b 388 833 328 807 354 833 b 447 774 421 833 447 807 m 269 774 b 210 713 269 740 243 713 b 150 774 176 713 150 740 b 210 833 150 807 176 833 b 269 774 243 833 269 807 "},"ẞ":{"ha":499,"x_min":0,"x_max":0,"o":"m 76 708 b 125 881 76 775 86 836 b 254 939 156 915 194 939 b 385 886 313 939 356 919 b 435 740 415 851 431 800 b 435 704 435 732 435 714 l 315 547 b 424 451 365 535 401 501 b 451 289 444 404 451 346 b 396 57 451 221 446 115 b 243 0 354 8 313 0 l 235 0 l 235 74 l 242 74 b 324 100 279 74 304 78 b 363 292 361 143 363 225 b 336 443 363 340 360 404 b 253 488 319 471 296 488 l 235 488 l 235 550 l 344 706 b 344 739 344 714 344 731 b 326 825 343 781 339 803 b 256 864 311 850 289 864 b 185 825 226 864 203 851 b 163 717 167 797 163 757 l 163 0 l 76 0 "},"‐":{"ha":331,"x_min":0,"x_max":0,"o":"m 69 324 l 69 404 l 261 404 l 261 324 "},"‑":{"ha":331,"x_min":0,"x_max":0,"o":"m 69 324 l 69 404 l 261 404 l 261 324 "},"‒":{"ha":508,"x_min":0,"x_max":0,"o":"m 63 435 l 63 504 l 446 504 l 446 435 "},"–":{"ha":797,"x_min":0,"x_max":0,"o":"m 97 329 l 97 399 l 700 399 l 700 329 "},"—":{"ha":1139,"x_min":0,"x_max":0,"o":"m 1042 329 l 97 329 l 97 399 l 1042 399 "},"‘":{"ha":285,"x_min":0,"x_max":0,"o":"m 142 625 l 56 665 l 178 939 l 238 910 "},"’":{"ha":285,"x_min":0,"x_max":0,"o":"m 115 625 l 56 653 l 151 939 l 238 899 "},"‚":{"ha":285,"x_min":0,"x_max":0,"o":"m 106 -197 l 46 -169 l 142 115 l 229 76 "},"“":{"ha":449,"x_min":0,"x_max":0,"o":"m 306 625 l 219 665 l 342 939 l 401 910 m 142 625 l 56 665 l 178 939 l 238 910 "},"”":{"ha":449,"x_min":0,"x_max":0,"o":"m 279 625 l 219 653 l 315 939 l 401 899 m 115 625 l 56 653 l 151 939 l 238 899 "},"„":{"ha":449,"x_min":0,"x_max":0,"o":"m 269 -197 l 210 -169 l 306 115 l 393 76 m 106 -197 l 46 -169 l 142 115 l 229 76 "},"†":{"ha":510,"x_min":0,"x_max":0,"o":"m 292 657 l 292 -240 l 218 -240 l 218 657 l 88 657 l 88 721 l 218 721 l 218 1013 l 292 1013 l 292 721 l 421 721 l 421 657 "},"‡":{"ha":510,"x_min":0,"x_max":0,"o":"m 292 189 l 292 -240 l 218 -240 l 218 189 l 88 189 l 88 254 l 218 254 l 218 657 l 88 657 l 88 721 l 218 721 l 218 1013 l 292 1013 l 292 721 l 421 721 l 421 657 l 292 657 l 292 254 l 421 254 l 421 189 "},"•":{"ha":1389,"x_min":0,"x_max":0,"o":"m 886 472 b 696 278 886 368 801 278 b 504 472 590 278 504 367 b 696 667 504 578 590 667 b 886 472 801 667 886 576 "},"…":{"ha":681,"x_min":0,"x_max":0,"o":"m 629 53 b 567 -10 629 18 601 -10 b 504 53 533 -10 504 19 b 567 115 504 88 532 115 b 629 53 601 115 629 88 m 403 53 b 340 -10 403 18 375 -10 b 278 53 307 -10 278 19 b 340 115 278 88 306 115 b 403 53 375 115 403 88 m 176 53 b 114 -10 176 18 149 -10 b 51 53 81 -10 51 19 b 114 115 51 88 79 115 b 176 53 149 115 176 88 "},"‰":{"ha":1039,"x_min":0,"x_max":0,"o":"m 299 694 b 254 485 299 607 296 525 b 176 457 229 460 200 457 b 100 485 153 457 125 460 b 56 694 58 525 56 607 b 100 904 56 782 58 864 b 176 932 125 929 153 932 b 254 904 200 932 229 929 b 299 694 296 864 299 782 m 176 875 b 143 861 161 875 151 871 b 119 696 125 842 119 800 b 143 529 119 590 125 549 b 176 515 151 519 161 515 b 210 529 190 515 200 518 b 233 696 228 549 233 590 b 210 861 233 800 228 842 b 176 875 201 871 192 875 m 189 0 l 125 0 l 526 926 l 590 926 m 658 231 b 614 21 658 143 656 61 b 536 -7 589 -4 560 -7 b 460 21 513 -7 485 -4 b 415 231 418 61 415 143 b 460 440 415 318 418 400 b 536 468 485 465 513 468 b 614 440 560 468 589 465 b 658 231 656 400 658 318 m 536 411 b 503 397 521 411 511 407 b 479 232 485 378 479 336 b 503 65 479 126 485 85 b 536 51 511 56 521 51 b 569 65 550 51 560 54 b 593 232 588 85 593 126 b 569 397 593 336 588 378 b 536 411 561 407 551 411 m 983 231 b 939 21 983 143 981 61 b 861 -7 914 -4 885 -7 b 785 21 838 -7 810 -4 b 740 231 743 61 740 143 b 785 440 740 318 743 400 b 861 468 810 465 838 468 b 939 440 885 468 914 465 b 983 231 981 400 983 318 m 861 411 b 828 397 846 411 836 407 b 804 232 810 378 804 336 b 828 65 804 126 810 85 b 861 51 836 56 846 51 b 894 65 875 51 885 54 b 918 232 913 85 918 126 b 894 397 918 336 913 378 b 861 411 886 407 876 411 "},"‹":{"ha":296,"x_min":0,"x_max":0,"o":"m 197 60 l 46 329 l 197 590 l 250 561 l 118 329 l 250 92 "},"›":{"ha":296,"x_min":0,"x_max":0,"o":"m 100 60 l 46 92 l 178 329 l 46 561 l 100 590 l 250 329 "},"⁄":{"ha":168,"x_min":0,"x_max":0,"o":"m -85 0 l -149 0 l 253 926 l 317 926 "},"€":{"ha":508,"x_min":0,"x_max":0,"o":"m 461 26 b 340 -12 425 3 383 -12 b 174 78 274 -12 213 25 b 96 374 114 160 100 275 l 14 374 l 39 432 l 94 432 b 96 522 94 463 94 492 l 22 522 l 46 581 l 100 581 b 350 939 114 731 163 939 b 461 910 389 939 428 931 l 461 815 b 354 856 428 836 394 856 b 186 581 221 856 189 685 l 440 581 l 417 522 l 183 522 b 182 475 182 507 182 490 l 182 432 l 378 432 l 353 374 l 185 374 b 347 71 185 244 217 71 b 461 113 389 71 426 90 l 461 26 "},"₴":{"ha":508,"x_min":0,"x_max":0,"o":"m 83 889 b 149 921 103 901 122 911 b 251 939 182 933 211 939 b 388 890 294 939 347 931 b 442 728 425 853 442 790 b 394 581 442 669 425 624 l 476 581 l 476 522 l 356 522 l 269 432 l 476 432 l 476 374 l 228 374 b 154 204 157 307 154 235 b 197 99 154 167 164 128 b 283 69 224 75 254 69 b 372 89 317 69 344 76 b 440 132 401 101 421 114 l 440 35 b 368 1 419 24 390 8 b 271 -14 339 -8 300 -14 b 122 38 207 -14 156 7 b 63 196 68 88 63 157 b 125 374 63 271 86 326 l 39 374 l 39 432 l 167 432 l 253 522 l 39 522 l 39 581 l 294 581 b 350 724 339 624 350 676 b 319 824 350 740 349 792 b 244 856 296 850 265 856 b 147 833 207 856 172 844 b 83 792 122 822 103 810 "},"₸":{"ha":508,"x_min":0,"x_max":0,"o":"m 297 722 l 297 0 l 211 0 l 211 722 l 72 722 l 72 801 l 436 801 l 436 722 m 72 854 l 72 926 l 436 926 l 436 854 "},"₽":{"ha":508,"x_min":0,"x_max":0,"o":"m 210 0 l 124 0 l 124 300 l 42 300 l 42 358 l 124 358 l 124 449 l 42 449 l 42 522 l 124 522 l 124 926 l 225 926 b 413 874 275 926 360 925 b 469 671 458 829 469 753 b 422 506 469 626 464 551 b 244 449 374 453 292 449 l 210 449 l 210 358 l 349 358 l 349 300 l 210 300 m 267 522 b 347 547 283 522 322 524 b 382 676 376 574 382 625 b 349 815 382 742 378 786 b 251 847 319 844 278 847 l 210 847 l 210 522 "},"№":{"ha":828,"x_min":0,"x_max":0,"o":"m 386 0 l 181 611 b 143 742 167 654 154 697 b 151 596 149 693 151 644 l 151 0 l 76 0 l 76 926 l 151 926 l 361 297 b 394 188 374 261 383 224 b 386 301 389 225 386 264 l 386 926 l 461 926 l 461 0 m 782 719 b 664 511 782 639 771 511 b 542 722 557 511 542 640 b 664 932 542 803 558 932 b 782 719 771 932 782 800 m 546 403 l 546 458 l 778 458 l 778 403 m 721 721 b 663 876 721 760 718 876 b 601 717 603 876 601 758 b 663 565 601 676 604 565 b 721 721 718 565 721 682 "},"℗":{"ha":1050,"x_min":0,"x_max":0,"o":"m 486 744 b 624 696 546 744 594 735 b 649 588 649 663 649 617 b 607 465 649 550 644 497 b 511 438 578 440 542 438 l 481 438 l 481 182 l 413 182 l 413 744 m 506 499 b 558 514 518 499 543 500 b 578 590 575 531 578 567 b 556 668 578 610 576 650 b 500 683 543 679 521 683 l 481 683 l 481 499 m 1004 464 b 864 124 1004 347 960 219 b 525 -17 783 43 658 -17 b 186 124 392 -17 267 43 b 46 464 90 219 46 347 b 186 803 46 579 90 707 b 525 943 267 883 392 943 b 864 803 658 943 783 883 b 1004 464 960 707 1004 579 m 525 893 b 226 768 419 893 311 853 b 101 464 149 689 101 582 b 226 158 101 344 149 236 b 525 33 311 74 419 33 b 824 158 631 33 739 74 b 949 464 901 236 949 344 b 824 768 949 582 901 689 b 525 893 739 853 631 893 "},"™":{"ha":632,"x_min":0,"x_max":0,"o":"m 544 399 l 506 760 l 443 399 l 396 399 l 338 754 l 293 399 l 236 399 l 310 926 l 360 926 l 421 536 l 488 926 l 538 926 l 601 399 m 150 872 l 150 399 l 93 399 l 93 872 l 15 872 l 15 926 l 228 926 l 228 872 "},"∂":{"ha":686,"x_min":0,"x_max":0,"o":"m 122 921 b 451 776 251 903 356 868 b 631 328 572 663 631 492 b 332 -15 631 146 528 -15 b 35 293 165 -15 35 129 b 321 597 35 454 156 597 b 532 485 411 597 482 560 b 488 594 519 522 506 560 b 113 851 415 739 269 828 m 547 299 b 336 531 547 425 469 531 b 114 290 204 531 114 417 b 333 54 114 167 206 54 b 547 299 467 54 547 174 "},"∏":{"ha":957,"x_min":0,"x_max":0,"o":"m 604 -347 l 604 -276 l 719 -276 l 719 971 l 238 971 l 238 -276 l 351 -276 l 351 -347 l 50 -347 l 50 -276 l 158 -276 l 158 971 l 50 971 l 50 1042 l 908 1042 l 908 971 l 800 971 l 800 -276 l 908 -276 l 908 -347 "},"∑":{"ha":926,"x_min":0,"x_max":0,"o":"m 42 -347 l 42 -265 l 389 376 l 42 963 l 42 1042 l 822 1042 l 822 735 l 750 735 l 743 971 l 131 971 l 482 375 l 128 -276 l 757 -276 l 760 -42 l 835 -42 l 835 -347 "},"−":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 424 l 46 497 l 649 497 l 649 424 "},"∕":{"ha":567,"x_min":0,"x_max":0,"o":"m 63 -240 l -18 -240 l 525 1013 l 604 1013 "},"√":{"ha":926,"x_min":0,"x_max":0,"o":"m 646 1076 l 328 0 l 235 0 l 111 426 l 0 426 l 0 497 l 175 497 l 233 304 b 254 218 242 276 247 247 b 279 115 263 183 271 150 l 285 115 b 354 382 310 204 329 293 b 579 1149 425 639 504 893 l 926 1149 l 926 1076 "},"∞":{"ha":926,"x_min":0,"x_max":0,"o":"m 900 471 b 696 263 900 351 817 263 b 464 418 589 263 519 335 b 233 264 408 336 339 264 b 26 475 108 264 26 351 b 233 682 26 596 113 682 b 461 526 336 682 408 607 b 696 682 518 611 588 682 b 900 471 819 682 900 592 m 819 472 b 686 611 819 550 765 611 b 503 472 601 611 544 538 b 688 333 546 407 601 333 b 819 472 767 333 819 396 m 424 472 b 239 611 381 538 325 611 b 107 472 158 611 107 550 b 239 333 107 396 160 333 b 424 472 326 333 379 407 "},"∫":{"ha":694,"x_min":0,"x_max":0,"o":"m 525 957 b 465 971 504 965 488 971 b 388 857 393 971 388 915 l 388 -154 b 364 -282 388 -194 386 -247 b 221 -346 333 -329 274 -346 b 150 -332 194 -346 175 -342 l 169 -262 b 229 -276 189 -271 208 -276 b 307 -114 322 -276 307 -178 l 307 836 b 318 953 307 871 307 919 b 460 1042 338 1014 399 1042 b 544 1026 489 1042 517 1036 "},"≈":{"ha":694,"x_min":0,"x_max":0,"o":"m 681 635 b 488 486 640 557 583 486 b 194 583 385 486 288 583 b 64 479 131 583 92 531 l 14 511 b 200 661 51 589 106 661 b 496 564 306 661 399 564 b 631 664 564 564 599 611 m 681 417 b 488 268 640 339 583 268 b 194 367 386 268 283 367 b 64 261 131 367 92 313 l 14 293 b 200 443 51 371 106 443 b 497 346 307 443 403 346 b 631 446 564 346 600 393 "},"≠":{"ha":694,"x_min":0,"x_max":0,"o":"m 318 325 l 240 160 l 174 160 l 251 325 l 47 325 l 47 396 l 283 396 l 349 533 l 46 533 l 46 604 l 382 604 l 458 763 l 525 763 l 449 604 l 647 604 l 647 533 l 417 533 l 351 396 l 649 396 l 649 325 "},"≤":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 478 l 46 549 l 649 817 l 649 740 l 132 513 l 647 285 l 649 210 m 46 96 l 46 168 l 649 168 l 649 96 "},"≥":{"ha":694,"x_min":0,"x_max":0,"o":"m 46 210 l 46 285 l 563 513 l 47 740 l 46 817 l 649 547 l 649 478 m 46 96 l 46 168 l 649 168 l 649 96 "},"◊":{"ha":926,"x_min":0,"x_max":0,"o":"m 463 -36 l 103 464 l 463 963 l 824 464 m 463 833 l 193 464 l 463 93 l 732 464 "},"◦":{"ha":694,"x_min":0,"x_max":0,"o":"m 539 746 b 347 558 539 642 450 558 b 156 746 244 558 156 642 b 347 933 156 851 243 933 b 539 746 451 933 539 851 m 485 746 b 347 881 485 822 422 881 b 210 746 272 881 210 822 b 347 611 210 671 274 611 b 485 746 421 611 485 671 "},"":{"ha":3,"x_min":0,"x_max":0,"o":"m -242 704 l -290 740 l -157 907 l -82 847 "},"":{"ha":3,"x_min":0,"x_max":0,"o":"m -256 992 l -304 1028 l -171 1194 l -96 1135 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 518 1125 b 347 997 508 1035 429 997 b 176 1125 265 997 186 1035 l 243 1125 b 347 1068 261 1082 304 1068 b 451 1125 390 1068 433 1082 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 324 -257 l 274 -228 l 367 -51 l 431 -86 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 449 992 l 346 1088 l 243 992 l 190 1044 l 346 1193 l 504 1044 "},"":{"ha":257,"x_min":0,"x_max":0,"o":"m 110 -321 l 56 -294 l 129 -68 l 210 -107 "},"":{"ha":272,"x_min":0,"x_max":0,"o":"m 110 642 l 56 668 l 144 939 l 225 900 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 411 1064 b 347 1000 411 1029 382 1000 b 285 1064 313 1000 285 1029 b 347 1126 285 1099 313 1126 b 411 1064 382 1126 411 1099 "},"":{"ha":693,"x_min":0,"x_max":0,"o":"m 458 1103 b 347 992 458 1042 408 992 b 236 1103 286 992 236 1042 b 347 1214 236 1164 286 1214 b 458 1103 408 1214 458 1164 m 403 1103 b 347 1158 403 1133 378 1158 b 292 1103 317 1158 292 1133 b 347 1047 292 1072 317 1047 b 403 1103 378 1047 403 1072 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 507 1114 b 413 1000 504 1060 475 1000 b 288 1047 364 1000 319 1047 b 265 1013 268 1047 265 1028 l 188 1013 b 285 1119 193 1068 224 1119 b 404 1075 328 1119 375 1075 b 428 1114 426 1075 428 1097 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 463 -199 b 400 -211 440 -207 424 -211 b 288 -119 343 -211 288 -183 b 353 0 288 -68 318 -33 l 417 0 b 356 -100 390 -22 356 -64 b 407 -143 356 -131 379 -143 b 463 -132 426 -143 444 -140 "},"":{"ha":451,"x_min":0,"x_max":0,"o":"m 358 0 l 324 190 l 128 190 l 93 0 l 1 0 l 185 926 l 265 926 l 450 0 m 249 592 b 222 810 235 664 226 736 b 142 265 210 626 174 446 l 310 265 m 225 992 l 176 1028 l 310 1194 l 385 1135 "},"":{"ha":418,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 208 992 l 160 1028 l 293 1194 l 368 1135 "},"":{"ha":546,"x_min":0,"x_max":0,"o":"m 76 926 l 163 926 l 163 299 b 154 182 163 267 160 233 b 188 294 174 247 178 265 l 385 926 l 471 926 l 471 0 l 385 0 l 385 599 b 393 744 385 647 390 708 b 356 614 369 654 365 644 l 163 0 l 76 0 m 272 992 l 224 1028 l 357 1194 l 432 1135 "},"":{"ha":561,"x_min":0,"x_max":0,"o":"m 508 467 b 282 -12 508 311 503 -12 b 53 463 65 -12 53 308 b 281 939 53 615 67 939 b 508 467 499 939 508 622 m 421 497 b 282 856 421 592 419 856 b 140 464 138 856 140 563 b 282 71 140 367 139 71 b 413 286 386 71 406 207 b 421 497 419 356 421 426 m 281 992 l 232 1028 l 365 1194 l 440 1135 "},"":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 236 992 l 188 1028 l 321 1194 l 396 1135 "},"":{"ha":671,"x_min":0,"x_max":0,"o":"m 510 0 l 510 926 l 596 926 l 596 0 m 163 525 l 214 525 b 372 469 260 525 322 518 b 440 263 433 410 440 314 b 363 39 440 178 425 89 b 214 0 315 1 264 0 l 76 0 l 76 926 l 163 926 m 208 74 b 310 106 231 74 279 75 b 351 249 343 139 351 206 b 303 414 351 304 343 378 b 204 446 269 444 224 446 l 163 446 l 163 74 m 335 992 l 286 1028 l 419 1194 l 494 1135 "},"":{"ha":461,"x_min":0,"x_max":0,"o":"m 25 139 b 151 71 71 82 118 71 b 235 106 183 71 211 81 b 299 251 271 143 290 217 b 319 442 311 308 318 386 l 85 442 l 85 521 l 318 521 b 301 676 318 569 313 628 b 235 818 297 696 276 776 b 143 856 217 836 186 856 b 25 788 83 856 44 814 l 25 894 b 157 939 78 932 118 939 b 304 876 219 939 264 918 b 408 488 390 788 408 643 b 385 235 408 400 401 311 b 292 38 358 113 315 60 b 153 -12 250 -1 206 -12 b 25 33 114 -12 69 -4 m 161 992 l 113 1028 l 246 1194 l 321 1135 "},"":{"ha":789,"x_min":0,"x_max":0,"o":"m 163 478 l 163 0 l 76 0 l 76 926 l 163 926 l 163 557 l 283 557 b 383 889 283 629 297 806 b 508 939 418 922 460 939 b 633 889 557 939 599 922 b 736 464 718 807 736 640 b 633 38 736 285 718 119 b 508 -12 599 4 557 -12 b 383 38 460 -12 418 4 b 281 464 299 119 281 285 l 281 478 m 368 463 b 438 101 368 343 369 171 b 508 71 456 83 478 71 b 579 101 539 71 561 83 b 649 463 639 164 649 306 b 579 825 649 685 622 781 b 508 856 561 843 539 856 b 438 825 478 856 456 843 b 368 463 369 756 368 583 m 394 992 l 346 1028 l 479 1194 l 554 1135 "},"":{"ha":496,"x_min":0,"x_max":0,"o":"m 228 436 b 103 486 219 436 150 440 b 44 671 72 515 44 572 b 104 871 44 739 54 821 b 282 926 146 914 210 926 l 421 926 l 421 0 l 326 0 l 326 444 l 121 0 l 22 0 m 326 847 l 276 847 b 174 817 246 847 203 846 b 136 674 142 785 136 717 b 178 540 136 628 142 572 b 265 513 206 515 242 513 l 326 513 m 247 992 l 199 1028 l 332 1194 l 407 1135 "},"":{"ha":414,"x_min":0,"x_max":0,"o":"m 76 0 l 76 926 l 365 926 l 365 847 l 163 847 l 163 521 l 360 521 l 360 442 l 163 442 l 163 79 l 365 79 l 365 0 m 192 1004 l 163 1024 l 258 1194 l 308 1156 m 158 1074 b 111 1026 158 1049 138 1026 b 65 1074 85 1026 65 1049 b 111 1121 65 1099 85 1121 b 158 1074 138 1121 158 1099 m 376 1074 b 331 1026 376 1049 357 1026 b 283 1074 306 1026 283 1049 b 331 1121 283 1099 306 1121 b 376 1074 357 1121 376 1099 "},"":{"ha":454,"x_min":0,"x_max":0,"o":"m 306 0 l 306 50 b 200 -10 278 13 249 -10 b 54 299 58 -10 54 189 b 207 631 54 425 58 631 b 306 579 251 631 278 614 l 306 621 l 385 621 l 385 0 m 314 314 b 226 568 314 438 307 568 b 135 347 136 568 135 410 b 139 197 135 296 135 247 b 225 54 144 143 153 54 b 275 75 246 54 261 60 b 314 314 314 114 314 260 m 229 704 l 181 740 l 314 907 l 389 847 "},"":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 308 417 301 558 b 126 361 142 558 129 418 m 219 704 l 171 740 l 304 907 l 379 847 "},"":{"ha":467,"x_min":0,"x_max":0,"o":"m 319 0 l 319 386 b 322 475 319 397 319 413 b 293 382 314 436 304 410 l 147 0 l 69 0 l 69 621 l 147 621 l 147 238 b 144 142 147 206 147 186 b 174 233 160 199 164 207 l 319 621 l 397 621 l 397 0 m 236 704 l 188 740 l 321 907 l 396 847 "},"":{"ha":449,"x_min":0,"x_max":0,"o":"m 401 307 b 228 -10 401 189 388 -10 b 46 311 68 -10 46 190 b 228 631 46 432 68 631 b 401 307 389 631 401 426 m 321 311 b 226 558 321 374 318 558 b 128 304 131 558 128 369 b 226 64 128 239 132 64 b 321 311 318 64 321 249 m 226 704 l 178 740 l 311 907 l 386 847 "},"":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 203 704 l 154 740 l 288 907 l 363 847 "},"":{"ha":590,"x_min":0,"x_max":0,"o":"m 443 0 l 443 621 l 521 621 l 521 0 m 69 621 l 147 621 l 147 383 l 175 383 b 328 333 247 383 299 361 b 381 181 354 308 381 263 b 338 46 381 147 376 86 b 203 0 297 4 243 0 l 69 0 m 192 72 b 272 94 217 72 250 74 b 301 189 289 110 301 138 b 274 278 301 214 299 249 b 182 314 246 311 214 314 l 147 314 l 147 72 m 297 704 l 249 740 l 382 907 l 457 847 "},"":{"ha":389,"x_min":0,"x_max":0,"o":"m 50 126 b 89 82 60 108 75 92 b 144 64 106 69 124 64 b 204 90 171 64 189 74 b 257 290 247 136 257 231 l 94 290 l 94 363 l 256 363 b 203 533 253 415 242 497 b 142 558 188 549 165 558 b 88 539 125 558 106 553 b 50 499 75 529 60 514 l 50 596 b 153 631 89 626 131 631 b 263 586 199 631 233 615 b 342 324 325 525 342 426 b 256 31 342 204 319 92 b 150 -10 222 0 190 -10 b 50 26 122 -10 90 -6 m 154 704 l 106 740 l 239 907 l 314 847 "},"":{"ha":629,"x_min":0,"x_max":0,"o":"m 228 363 b 300 592 231 428 249 540 b 404 631 331 621 365 631 b 507 592 443 631 476 621 b 582 311 572 529 582 417 b 507 29 582 201 572 93 b 406 -10 476 0 449 -10 b 300 29 372 -10 335 -4 b 226 292 242 86 226 211 l 149 292 l 149 0 l 69 0 l 69 621 l 149 621 l 149 363 m 403 558 b 357 539 386 558 371 553 b 306 311 336 518 306 465 b 357 83 306 157 336 104 b 403 64 371 69 386 64 b 450 83 421 64 436 69 b 500 311 460 94 500 140 b 450 539 500 482 460 528 b 403 558 436 553 421 558 m 317 704 l 268 740 l 401 907 l 476 847 "},"":{"ha":411,"x_min":0,"x_max":0,"o":"m 181 260 b 75 303 140 261 101 278 b 31 428 53 325 31 364 b 83 572 31 499 57 546 b 236 621 129 617 182 621 l 342 621 l 342 0 l 264 0 l 264 257 l 119 0 l 28 0 m 264 549 l 224 549 b 143 524 200 549 167 547 b 114 431 124 504 114 465 b 142 349 114 396 124 367 b 219 325 165 326 200 325 l 264 325 m 208 704 l 160 740 l 293 907 l 368 847 "},"":{"ha":435,"x_min":0,"x_max":0,"o":"m 383 211 b 226 -10 379 111 349 -10 b 46 308 67 -10 46 189 b 221 631 46 421 69 631 b 389 333 367 631 389 443 b 388 294 389 321 388 307 l 125 294 l 125 281 b 224 64 125 218 135 64 b 304 211 293 64 303 158 m 311 361 b 222 558 307 417 301 558 b 126 361 142 558 129 418 m 185 715 l 154 740 l 253 907 l 310 858 m 149 782 b 97 731 149 754 126 731 b 46 782 68 731 46 754 b 97 833 46 811 68 833 b 149 782 126 833 149 811 m 389 782 b 338 731 389 754 367 731 b 286 782 308 731 286 754 b 338 833 286 811 308 833 b 389 782 367 833 389 811 "},"":{"ha":519,"x_min":0,"x_max":0,"o":"m 444 -103 b 443 -143 444 -119 443 -143 b 311 -250 431 -240 444 -249 b 294 -250 311 -250 311 -250 b 211 -225 261 -250 264 -249 l 211 -136 l 236 -158 b 297 -175 251 -174 256 -175 l 364 -175 l 361 -144 b 358 -65 360 -97 358 -124 l 358 468 b 256 457 328 461 294 457 b 118 496 211 457 157 463 b 63 682 68 538 63 603 l 63 926 l 150 926 l 150 692 b 181 560 150 640 150 588 b 272 536 206 538 246 536 b 358 546 304 536 329 539 l 358 926 l 444 926 "},"":{"ha":428,"x_min":0,"x_max":0,"o":"m 281 293 b 196 281 256 285 229 281 b 83 315 143 281 106 296 b 42 458 43 351 42 410 l 42 621 l 119 621 l 119 450 b 140 374 119 432 119 393 b 207 354 160 356 197 354 b 281 365 240 354 271 363 l 281 621 l 358 621 l 358 -58 b 315 -214 358 -108 357 -169 b 228 -250 289 -242 260 -250 b 168 -236 208 -250 190 -247 l 168 -157 b 217 -172 188 -171 203 -172 b 257 -161 228 -172 244 -171 b 281 -58 279 -142 281 -92 "},"":{"ha":474,"x_min":0,"x_max":0,"o":"m 106 926 l 194 633 b 249 435 215 567 229 521 b 296 636 264 517 278 569 l 374 926 l 463 926 l 201 0 l 115 0 l 204 311 l 11 926 m 236 992 l 188 1028 l 321 1194 l 396 1135 "},"":{"ha":401,"x_min":0,"x_max":0,"o":"m 171 -250 l 88 -250 l 157 17 l 10 621 l 89 621 l 167 276 b 196 121 179 225 189 172 b 221 238 201 160 211 197 l 311 621 l 393 621 m 194 704 l 146 740 l 279 907 l 354 847 "},"":{"ha":444,"x_min":0,"x_max":0,"o":"m 351 818 b 229 860 315 842 274 860 b 93 718 146 860 93 800 b 433 244 93 472 433 531 b 250 -8 433 118 365 13 l 250 -126 l 182 -126 l 182 -11 b 26 68 114 0 76 19 l 76 128 b 211 67 115 96 160 67 b 353 240 299 67 353 144 b 13 713 353 460 13 417 b 182 935 13 828 69 907 l 182 1043 l 250 1043 l 250 938 b 394 883 303 935 351 913 "},"":{"ha":481,"x_min":0,"x_max":0,"o":"m 457 26 b 336 -12 421 3 379 -12 b 169 78 269 -12 208 25 b 92 374 110 160 96 275 l 10 374 l 35 432 l 90 432 b 92 522 90 463 90 492 l 18 522 l 42 581 l 96 581 b 346 939 110 731 158 939 b 457 910 385 939 424 931 l 457 815 b 350 856 424 836 390 856 b 182 581 217 856 185 685 l 436 581 l 413 522 l 179 522 b 178 475 178 507 178 490 l 178 432 l 374 432 l 349 374 l 181 374 b 343 71 181 244 213 71 b 457 113 385 71 422 90 l 457 26 "},"":{"ha":299,"x_min":0,"x_max":0,"o":"m 281 189 b 224 163 264 175 244 167 l 224 35 l 156 35 l 156 163 b 11 467 33 208 11 353 b 67 722 11 550 22 650 b 156 792 92 763 113 778 l 156 907 l 224 907 l 224 793 b 281 775 243 790 263 783 l 281 682 b 201 724 260 704 233 724 b 94 472 103 724 94 543 b 200 231 94 406 107 231 b 281 286 236 231 261 260 "},"":{"ha":481,"x_min":0,"x_max":0,"o":"m 458 100 b 417 4 456 63 439 25 b 339 -26 397 -14 369 -26 b 261 -1 313 -26 285 -17 l 214 29 b 151 56 179 51 163 56 b 115 39 139 56 125 49 b 93 0 107 31 97 14 l 21 42 b 69 108 32 65 50 90 b 163 135 93 132 129 144 b 199 246 196 185 199 232 b 132 414 199 301 172 360 l 22 414 l 22 472 l 104 472 b 64 564 89 501 72 539 b 40 701 47 610 40 656 b 106 882 40 758 53 829 b 253 939 140 917 192 939 b 383 888 315 939 357 914 b 444 738 415 857 443 804 l 364 721 b 325 826 363 753 351 800 b 249 856 313 839 289 856 b 169 826 210 856 185 840 b 128 706 153 810 128 775 b 151 583 128 661 138 622 b 201 472 164 547 186 501 l 347 472 l 347 414 l 231 414 b 282 264 271 356 282 304 b 265 172 282 235 278 204 b 231 113 263 165 251 140 l 290 71 b 338 56 308 60 324 56 b 374 79 356 56 365 63 b 386 124 381 93 385 113 "},"":{"ha":488,"x_min":0,"x_max":0,"o":"m 288 374 l 288 0 l 208 0 l 208 374 l 11 374 l 11 432 l 200 432 l 168 522 l 11 522 l 11 581 l 149 581 l 29 926 l 118 926 l 206 656 b 247 490 224 601 238 546 b 289 660 257 547 272 604 l 368 926 l 457 926 l 344 581 l 475 581 l 475 522 l 325 522 l 296 432 l 475 432 l 475 374 "},"":{"ha":531,"x_min":0,"x_max":0,"o":"m 513 931 b 460 954 497 944 482 954 b 394 872 411 954 403 911 l 344 621 l 451 621 l 439 563 l 333 563 l 218 -26 b 74 -185 201 -111 174 -185 b 4 -169 47 -185 26 -178 l 19 -87 b 74 -111 35 -101 53 -111 b 138 -29 119 -111 131 -65 l 254 563 l 153 563 l 164 621 l 265 621 b 314 869 265 621 303 825 b 457 1028 335 953 356 1028 b 526 1013 482 1028 506 1024 "},"":{"ha":496,"x_min":0,"x_max":0,"o":"m 74 889 b 139 921 93 901 113 911 b 242 939 172 933 201 939 b 378 890 285 939 338 931 b 432 728 415 853 432 790 b 385 581 432 669 415 624 l 467 581 l 467 522 l 346 522 l 260 432 l 467 432 l 467 374 l 218 374 b 144 204 147 307 144 235 b 188 99 144 167 154 128 b 274 69 214 75 244 69 b 363 89 307 69 335 76 b 431 132 392 101 411 114 l 431 35 b 358 1 410 24 381 8 b 261 -14 329 -8 290 -14 b 113 38 197 -14 146 7 b 53 196 58 88 53 157 b 115 374 53 271 76 326 l 29 374 l 29 432 l 157 432 l 243 522 l 29 522 l 29 581 l 285 581 b 340 724 329 624 340 676 b 310 824 340 740 339 792 b 235 856 286 850 256 856 b 138 833 197 856 163 844 b 74 792 113 822 93 810 "},"":{"ha":464,"x_min":0,"x_max":0,"o":"m 192 0 l 106 0 l 106 300 l 24 300 l 24 358 l 106 358 l 106 449 l 24 449 l 24 522 l 106 522 l 106 926 l 207 926 b 394 874 257 926 342 925 b 451 671 440 829 451 753 b 404 506 451 626 446 551 b 226 449 356 453 274 449 l 192 449 l 192 358 l 331 358 l 331 300 l 192 300 m 249 522 b 329 547 265 522 304 524 b 364 676 358 574 364 625 b 331 815 364 742 360 786 b 233 847 301 844 260 847 l 192 847 l 192 522 "},"":{"ha":383,"x_min":0,"x_max":0,"o":"m 235 722 l 235 0 l 149 0 l 149 722 l 10 722 l 10 801 l 374 801 l 374 722 m 10 854 l 10 926 l 374 926 l 374 854 "},"":{"ha":465,"x_min":0,"x_max":0,"o":"m 440 494 b 231 -12 440 353 436 -12 b 24 443 38 -12 24 307 b 247 939 24 590 40 939 b 440 494 439 939 440 626 m 357 525 b 243 860 357 601 356 860 b 107 449 117 860 107 538 b 147 144 107 358 114 228 b 236 67 164 104 188 67 b 315 136 281 67 301 100 b 357 525 354 238 357 414 "},"":{"ha":429,"x_min":0,"x_max":0,"o":"m 35 674 b 222 939 35 807 64 939 b 411 733 344 939 411 850 b 289 361 411 597 349 479 l 147 82 l 400 82 l 400 0 l 21 0 l 211 392 b 324 733 264 499 324 611 b 226 860 324 796 299 860 b 119 690 131 860 119 767 l 119 674 l 35 674 "},"":{"ha":432,"x_min":0,"x_max":0,"o":"m 33 710 b 210 939 35 825 76 939 b 394 725 342 939 394 846 b 289 513 394 636 376 554 b 407 249 396 467 407 350 b 214 -12 407 117 371 -12 b 22 217 71 -12 22 88 l 22 254 l 107 254 b 215 71 107 175 110 71 b 324 265 317 71 324 190 b 168 469 324 372 293 469 l 126 469 l 126 546 l 163 546 b 276 586 210 546 244 549 b 311 719 306 621 311 675 b 210 856 311 788 290 856 b 113 710 122 856 114 778 "},"":{"ha":418,"x_min":0,"x_max":0,"o":"m 332 249 l 332 0 l 247 0 l 247 249 l 4 249 l 4 336 l 247 926 l 332 926 l 332 328 l 401 328 l 401 249 m 247 328 b 246 515 247 390 246 453 b 257 790 246 607 249 699 b 204 631 243 736 225 683 l 85 328 "},"":{"ha":411,"x_min":0,"x_max":0,"o":"m 135 563 b 183 567 151 565 167 567 b 394 274 340 567 394 406 b 164 -12 394 138 333 -12 b 19 33 111 -12 61 3 l 43 118 b 168 71 79 90 122 71 b 307 275 278 71 307 194 b 151 483 307 371 275 483 b 38 467 107 483 69 474 l 92 926 l 368 926 l 368 846 l 168 846 "},"":{"ha":414,"x_min":0,"x_max":0,"o":"m 197 642 b 133 493 175 590 168 585 b 224 525 169 519 199 525 b 329 485 276 525 311 501 b 396 250 389 428 396 311 b 332 33 396 146 372 72 b 208 -12 308 10 267 -12 b 89 32 158 -12 119 3 b 15 276 24 94 15 199 b 39 457 15 340 22 393 b 96 613 54 514 74 558 l 228 926 l 318 926 m 99 257 b 144 90 99 201 108 125 b 213 63 160 75 188 63 b 278 92 238 63 263 75 b 313 256 292 107 313 144 b 271 424 313 351 294 399 b 206 451 256 439 233 451 b 140 422 175 451 153 436 b 99 257 126 407 99 365 "},"":{"ha":401,"x_min":0,"x_max":0,"o":"m 113 0 l 22 0 l 283 846 l 17 846 l 17 926 l 397 926 "},"":{"ha":439,"x_min":0,"x_max":0,"o":"m 414 261 b 214 -12 414 129 372 -12 b 24 264 60 -12 24 139 b 142 513 24 356 46 474 b 44 711 67 560 44 626 b 231 939 44 829 99 939 b 406 710 361 939 406 822 b 308 513 406 628 383 556 b 414 261 401 461 414 357 m 322 704 b 224 860 322 769 306 860 b 128 717 144 860 128 781 b 226 551 128 651 142 551 b 322 704 307 551 322 640 m 331 274 b 219 474 331 347 317 474 b 108 265 122 474 108 338 b 218 67 108 193 122 67 b 331 274 325 67 331 196 "},"":{"ha":414,"x_min":0,"x_max":0,"o":"m 276 433 b 185 401 249 414 219 401 b 18 679 44 401 18 571 b 203 939 18 803 53 939 b 399 671 356 939 399 799 b 325 336 399 556 369 442 l 185 0 l 96 0 m 315 669 b 201 865 315 743 299 865 b 100 664 114 865 100 729 b 208 475 100 593 114 475 b 315 669 303 475 315 599 "},"":{"ha":331,"x_min":0,"x_max":0,"o":"m 69 422 l 69 503 l 261 503 l 261 422 "},"":{"ha":797,"x_min":0,"x_max":0,"o":"m 97 428 l 97 497 l 700 497 l 700 428 "},"":{"ha":1139,"x_min":0,"x_max":0,"o":"m 1042 428 l 97 428 l 97 497 l 1042 497 "},"":{"ha":257,"x_min":0,"x_max":0,"o":"m 110 -321 l 56 -294 l 129 -68 l 210 -107 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 347 992 l 299 1028 l 432 1194 l 507 1135 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 346 992 l 190 1140 l 243 1193 l 346 1097 l 449 1193 l 504 1140 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 496 1061 b 436 1000 496 1028 469 1000 b 376 1061 403 1000 376 1028 b 436 1121 376 1094 403 1121 b 496 1061 469 1121 496 1094 m 318 1061 b 258 1000 318 1028 292 1000 b 199 1061 225 1000 199 1028 b 258 1121 199 1094 225 1121 b 318 1061 292 1121 318 1094 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 347 992 l 188 1135 l 263 1194 l 396 1028 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 442 992 l 390 1010 l 461 1183 l 539 1153 m 300 992 l 249 1010 l 318 1183 l 396 1153 "},"":{"ha":694,"x_min":0,"x_max":0,"o":"m 192 1010 l 192 1086 l 503 1086 l 503 1010 "},"":{"ha":483,"x_min":0,"x_max":0,"o":"m 407 1089 b 343 1003 393 1044 365 1018 b 242 976 308 981 272 976 b 140 1003 204 976 172 982 b 76 1089 97 1031 82 1067 l 150 1119 b 183 1068 158 1088 178 1072 b 242 1051 196 1058 215 1051 b 300 1068 276 1051 294 1064 b 333 1119 315 1079 328 1101 "},"":{"ha":436,"x_min":0,"x_max":0,"o":"m 367 797 b 310 719 356 765 333 736 b 218 694 276 696 233 694 b 126 719 203 694 160 696 b 69 797 103 736 81 765 l 135 829 b 164 779 138 813 149 792 b 219 764 181 765 203 764 b 272 779 236 764 256 765 b 301 829 286 790 297 811 "},"":{"ha":242,"x_min":0,"x_max":0,"o":"m 122 0 l 122 846 l 3 846 l 3 926 l 208 926 l 208 0 "},"ﬁ":{"ha":486,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 22 549 l 22 621 l 93 621 l 93 869 b 208 1028 93 949 114 1028 b 278 1014 232 1028 256 1024 l 278 928 b 221 956 261 942 243 956 b 171 879 175 956 171 914 l 171 621 l 278 621 l 278 549 m 335 0 l 335 621 l 414 621 l 414 0 m 432 815 b 375 758 432 785 407 758 b 317 815 343 758 317 785 b 375 875 317 849 342 875 b 432 815 407 875 432 847 "},"ﬂ":{"ha":485,"x_min":0,"x_max":0,"o":"m 171 549 l 171 0 l 93 0 l 93 549 l 22 549 l 22 621 l 93 621 l 93 869 b 208 1028 93 949 114 1028 b 278 1014 232 1028 256 1024 l 278 928 b 221 956 261 942 243 956 b 171 879 175 956 171 914 l 171 621 l 278 621 l 278 549 m 335 0 l 335 1013 l 414 1013 l 414 0 "},"\ufeff":{"ha":0,"x_min":0,"x_max":0,"o":""}},"familyName":"Futura PT Cond Book","ascender":1364,"descender":-417,"underlinePosition":-104,"underlineThickness":69,"boundingBox":{"yMin":-347,"xMin":-304,"yMax":1268,"xMax":1042},"resolution":1000,"original_font_information":{"format":0,"copyright":"Copyright © 1995 ParaGraph Intl., © 1998 ParaType Inc., ParaType Ltd. All rights reserved.","fontFamily":"Futura PT Cond Book","fontSubfamily":"Regular","uniqueID":"ParaTypeLtd: Futura PT Cond Book: 2015:<TkD-15357-c6fe1e9bd5f7d5806799e8935f5bb3c7102fb46a>","fullName":"Futura PT Cond Book","version":"Version 1.009","postScriptName":"FuturaPTCond-Book","trademark":"Futura is a registered trade mark of BauerTypes, S.L.","manufacturer":"ParaType Ltd","designer":"Paul Renner,Vladimir Yefimov, Isabella Chaeva ","description":"Futura was designed for Bauer company in 1927 by Paul Renner. This is a sans serif face based on geometrical shapes, representative of the aesthetics of the Bauhaus school of the 1920s-30s. Issued by the Bauer Foundry in a wide range of weights and widths, Futura became a very popular choice for text and display setting. Originally Cyrillic version of eight styles was developed at ParaType (ParaGraph) in 1995 by Vladimir Yefimov. Additional Cyrillic styles were developed in 2007-2009 by Isabella Chaeva. Simultaneously the old eight styles were partly revised to match the whole family. Now the new Futura is an uniform type system consisted of seven weights with corresponding obliques plus eight condensed styles. All these fonts are coordinated in letterforms, metrics, and weights to better working together.","manufacturerURL":"http://www.paratype.com","designerURL":"http://www.paratype.com/help/designers","licence":"http://www.paratype.com/eula","licenceURL":"http://typekit.com/eulas/00000000000000000001b158","preferredFamily":"Futura PT Cond","preferredSubfamily":"Book"},"cssFontWeight":"normal","cssFontStyle":"normal"}')},function(e,t,n){"use strict";t.a="img/gradient.png"},function(e,t,n){"use strict";t.a="img/gradient-top.png"},function(e,t,n){"use strict";t.a="#define GLSLIFY 1\nuniform vec3 color;\nuniform sampler2D texx;\n\nvarying float fogFactor;\nuniform vec3 fogColor;\n//fog\n//varying float scaleColor;\nvarying float opaNoise;\n\nvoid main() {\n\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard; //make a circle without borders\n    gl_FragColor = texture2D(texx, gl_PointCoord);\n    gl_FragColor = vec4(color,0.7-opaNoise)*gl_FragColor;\n\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor/2.0 );\n}\n"},function(e,t,n){"use strict";t.a="#define GLSLIFY 1\n//-------------------------------------------------------------------\n///UNIFORMS\n//-------------------------------------------------------------------\n\n//point size definition\nuniform float pointSize;// = 1.0;\nuniform float pointSize_min;// = 0.8;\n\n//fbm2d scale\nuniform float simplex_scale;// = 40.0;\nuniform float fbm2d_scale;// = 40.0;\nuniform int fbm2d_octaves;// = 6;\n\n//initial noise scale\nuniform float point_loc_noise;// = 1.0;\nuniform float opacity_noise;// = 0.5;\n\n//noise movement\nuniform float noise_mov_offset;//100.0\nuniform float noise_mov_decay;//2\nuniform float noise_mov_decay_min;//0.01\n\nuniform float noise_elevation; //30.0\nuniform float noise_elevation_min; //0.2\nuniform float noise_elevation_offset; //1.0\n//movementdecat\n//movement elevation\n//moement elevation b\n\nuniform float frequency;// = 1.0;\n\nuniform float fogDensity;\n\nuniform float time;\n//Varying passed to fragment shader\nvarying float fogFactor;\nvarying float opaNoise;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0(vec4 x) {\n     return mod289_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_0(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_0(i);\n  vec4 p = permute_0( permute_0( permute_0(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1(vec3 x) {\n  return mod289_1(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1( permute_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat fbm2d(vec2 x, const in int it) {\n    float v = 0.0;\n    float a = 0.5;\n    vec2 shift = vec2(100);\n    // Rotate to reduce axial bias\n    mat2 rot = mat2(cos(0.5), sin(0.5), -sin(0.5), cos(0.50));\n    for (int i = 0; i < 32; ++i) {\n        if(i<it) {\n            v += a * snoise_1(x);\n            x = rot * x * 2.0 + shift;\n            a *= 0.5;\n        }\n    }\n    return v;\n}\n\nvoid main() {\n\n    //Define\n        float sxn = snoise_0(position*simplex_scale);\n    //Main position\n        vec4 mvPosition = modelViewMatrix * vec4( position + sxn*point_loc_noise, 1.0 ); \n    \n    //Opacity noise\n        opaNoise = sxn * opacity_noise;\n\n    //Calculate fog\n        float depth = mvPosition.z;\n        const float LOG2 = 1.442695;\n        fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n        fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n    //Calculate movement decay\n\n        float movementDecay_a = (noise_mov_decay_min+pow(fogFactor*fogFactor,noise_mov_decay));\n        float movementElevation_a = (noise_elevation_min+pow(fogFactor*fogFactor,noise_mov_decay)*noise_elevation);\n        float movementElevation_b = noise_elevation_offset*fogFactor;\n\n    //Modify position for floating position\n        mvPosition.x = mvPosition.x + movementDecay_a*sin((2.0)*frequency*time + noise_mov_offset*sxn);\n        mvPosition.z = mvPosition.z + movementDecay_a*sin((4.0)*frequency*time + noise_mov_offset*sxn);\n        mvPosition.y = mvPosition.y + movementDecay_a*sin((3.0)*frequency*time + noise_mov_offset*sxn);\n\n        mvPosition.y = mvPosition.y + movementElevation_a*pow(fbm2d(position.xz/fbm2d_scale, fbm2d_octaves),2.0) + movementElevation_b;\n\n    //Modify size of the point\n        gl_PointSize = pointSize*clamp( 10.0 / - mvPosition.z,pointSize_min,10.0);\n        \n    //Adjust to proper projection matrix\n        gl_Position = projectionMatrix * mvPosition;\n\n}"},function(e,t,n){"use strict";t.a="assets/FrozenLandscape.mp3"},function(e,t,n){"use strict";t.a="assets/lungs.glb"},function(e,t,n){"use strict";t.a="assets/lungs2.glb"},function(e,t,n){"use strict";t.a="assets/Digestive_Liver.glb"},function(e,t,n){"use strict";t.a="assets/Face.glb"},function(e,t,n){"use strict";t.a="assets/Hand.glb"},function(e,t,n){"use strict";t.a="assets/Heart.glb"},function(e,t,n){"use strict";t.a="assets/Heart_Liver.glb"},function(e,t,n){"use strict";t.a="assets/Heart_Lungs.glb"},function(e,t,n){"use strict";t.a="assets/Kidney.glb"},function(e,t,n){"use strict";t.a="assets/Kidneys.glb"},function(e,t,n){"use strict";t.a="assets/Kidney_Trzustka.glb"},function(e,t,n){"use strict";t.a="assets/Liver_Kidney.glb"},function(e,t,n){"use strict";t.a="assets/Liver.glb"},function(e,t,n){"use strict";t.a="assets/Trzustka.glb"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(0);var i=n(1),r=n(40);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e,this.eventLoaded=new Event("ModelsLoaded"),this.initLoaderManager(),this.transitioning=!1}var n,o,s;return n=t,(o=[{key:"initLoaderManager",value:function(){var t=this;this.manager=new e.LoadingManager((function(){t.loadingScreenButton=document.getElementById("startButton"),t.loadingScreen=document.getElementById("loading-container"),t.loadingAnimation=document.getElementById("animstroke"),t.loadingStill=document.getElementById("strokestill"),t.loadingScreenButton.style.visibility="visible",t.list=t.onTransitionEnd.bind(t),i.a.fromTo(t.loadingScreenButton,{opacity:0},{opacity:1,duration:.6,delay:4,ease:"power1.in",onStart:function(){this.loadingAnimation.style.visibility="hidden",this.loadingStill.style.visibility="visible",this.loadingStill.style.stroke="#30be8e"}.bind(t),onComplete:function(){this.loadingScreenButton.addEventListener("click",this.list)}.bind(t)})})),this.gltfLoader=new r.a(this.manager),this.audioLoader=new e.AudioLoader(this.manager),this.textureLoader=new e.TextureLoader(this.manager),this.fontloader=new e.FontLoader(this.manager),console.log("AssetLoadaer Initialized")}},{key:"onTransitionEnd",value:function(e){this.transitioning||(this.transitioning=!0,this.loadingScreenButton.removeEventListener("click",this.list),this.loadingScreen.classList.add("fade-out"),this.loadingScreen.addEventListener("transitionend",this.removeLoadingScreen.bind(this)),app.glview.renderer.domElement.dispatchEvent(this.eventLoaded))}},{key:"removeLoadingScreen",value:function(e){this.loadingScreen.remove()}}])&&a(n.prototype,o),s&&a(n,s),t}()}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0),r=function(){function e(e){i.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:e,load:function(e,t,n,r){var a,o=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new i.FileLoader(o.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===o.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),s)}catch(e){s(e)}}),n,s)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,c,h){var m,b={};if("string"==typeof e)m=e;else if(i.LoaderUtils.decodeText(new Uint8Array(e,0,4))===l){try{b[n.KHR_BINARY_GLTF]=new u(e)}catch(e){return void(h&&h(e))}m=b[n.KHR_BINARY_GLTF].content}else m=i.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(m);if(void 0===v.asset||v.asset.version[0]<2)h&&h(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(v.extensionsUsed)for(var y=0;y<v.extensionsUsed.length;++y){var x=v.extensionsUsed[y],_=v.extensionsRequired||[];switch(x){case n.KHR_LIGHTS_PUNCTUAL:b[x]=new a(v);break;case n.KHR_MATERIALS_CLEARCOAT:b[x]=new s;break;case n.KHR_MATERIALS_UNLIT:b[x]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:b[x]=new f;break;case n.KHR_DRACO_MESH_COMPRESSION:b[x]=new d(v,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:b[x]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:b[x]=new p;break;case n.KHR_MESH_QUANTIZATION:b[x]=new g;break;default:_.indexOf(x)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+x+'".')}}new G(v,b,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(c,h)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function a(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=n.KHR_MATERIALS_UNLIT}function s(){this.name=n.KHR_MATERIALS_CLEARCOAT}a.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new i.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var a=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new i.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new i.PointLight(r)).distance=a;break;case"spot":(t=new i.SpotLight(r)).distance=a,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return i.MeshBasicMaterial},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new i.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)},s.prototype.getMaterialType=function(){return i.MeshPhysicalMaterial},s.prototype.extendParams=function(e,t,n){var r=[],a=t.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new i.Vector2(o,o)}return Promise.all(r)};var l="glTF",c=1313821514,h=5130562;function u(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:i.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==l)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),a=0;a<r.byteLength;){var o=r.getUint32(a,!0);a+=4;var s=r.getUint32(a,!0);if(a+=4,s===c){var u=new Uint8Array(e,12+a,o);this.content=i.LoaderUtils.decodeText(u)}else if(s===h){var d=12+a;this.body=e.slice(d,d+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function d(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function p(){this.name=n.KHR_TEXTURE_TRANSFORM}function m(e){i.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),s={specular:{value:(new i.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=s,this.onBeforeCompile=function(e){for(var i in s)e.uniforms[i]=s[i];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return s.specular.value},set:function(e){s.specular.value=e}},specularMap:{get:function(){return s.specularMap.value},set:function(e){s.specularMap.value=e}},glossiness:{get:function(){return s.glossiness.value},set:function(e){s.glossiness.value=e}},glossinessMap:{get:function(){return s.glossinessMap.value},set:function(e){s.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function f(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return m},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new i.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new i.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new i.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var s=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",s)),a.push(n.assignTexture(e,"specularMap",s))}return Promise.all(a)},createMaterial:function(e){var t=new m(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function g(){this.name=n.KHR_MESH_QUANTIZATION}function b(e,t,n,r){i.Interpolant.call(this,e,t,n,r)}d.prototype.decodePrimitive=function(e,t){var n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var c in a){var h=P[c]||c.toLowerCase();o[h]=a[c]}for(c in e.attributes){h=P[c]||c.toLowerCase();if(void 0!==a[c]){var u=n.accessors[e.attributes[c]],d=T[u.componentType];l[h]=d,s[h]=!0===u.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){i.decodeDracoFile(e,(function(e){for(var n in e.attributes){var i=e.attributes[n],r=s[n];void 0!==r&&(i.normalized=r)}t(e)}),o,l)}))}))},p.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(i.MeshStandardMaterial.prototype),m.prototype.constructor=m,m.prototype.copy=function(e){return i.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(i.Interpolant.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,a=0;a!==i;a++)t[a]=n[r+a];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=i-t,h=(n-t)/c,u=h*h,d=u*h,p=e*l,m=p-l,f=-2*d+3*u,g=d-u,b=1-f,v=g-u+h,y=0;y!==o;y++){var x=a[m+y+o],_=a[m+y+s]*c,w=a[p+y+o],M=a[p+y]*c;r[y]=b*x+v*_+f*w+g*M}return r};var v=0,y=1,x=2,_=3,w=4,M=5,S=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},A={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},P={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},C={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},R={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},z="OPAQUE",O="MASK",D="BLEND",I={"image/png":i.RGBAFormat,"image/jpeg":i.RGBFormat};function k(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function N(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function B(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function F(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(n=0,i=r.length;n<i;n++)e.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function G(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new i.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function H(e,t,n){var r=t.attributes,a=[];function o(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}for(var s in r){var l=P[s]||s.toLowerCase();l in e.attributes||a.push(o(r[s],l))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(c)}return B(e,t),function(e,t,n){var r=t.attributes,a=new i.Box3;if(void 0!==r.POSITION){var o=(m=n.json.accessors[r.POSITION]).min,s=m.max;if(void 0!==o&&void 0!==s){a.set(new i.Vector3(o[0],o[1],o[2]),new i.Vector3(s[0],s[1],s[2]));var l=t.targets;if(void 0!==l){for(var c=new i.Vector3,h=new i.Vector3,u=0,d=l.length;u<d;u++){var p=l[u];if(void 0!==p.POSITION){var m;o=(m=n.json.accessors[p.POSITION]).min,s=m.max;void 0!==o&&void 0!==s?(h.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),h.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),h.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),c.max(h)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(c)}e.boundingBox=a;var f=new i.Sphere;a.getCenter(f.center),f.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=f}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var i=!1,r=!1,a=0,o=t.length;a<o;a++){if(void 0!==(c=t[a]).POSITION&&(i=!0),void 0!==c.NORMAL&&(r=!0),i&&r)break}if(!i&&!r)return Promise.resolve(e);var s=[],l=[];for(a=0,o=t.length;a<o;a++){var c=t[a];if(i){var h=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;s.push(h)}if(r){h=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;l.push(h)}}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var n=t[0],a=t[1];return i&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function j(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===i.TriangleFanDrawMode)for(o=1;o<=s;o++)l.push(n.getX(0)),l.push(n.getX(o)),l.push(n.getX(o+1));else for(o=0;o<s;o++)o%2==0?(l.push(n.getX(o)),l.push(n.getX(o+1)),l.push(n.getX(o+2))):(l.push(n.getX(o+2)),l.push(n.getX(o+1)),l.push(n.getX(o)));l.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c}return G.prototype.parse=function(e,t){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};N(r,a,i),B(a,i),e(a)})).catch(t)},G.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i={},r={},a=0,o=t.length;a<o;a++)for(var s=t[a].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var h=0,u=e.length;h<u;h++){var d=e[h];void 0!==d.mesh&&(void 0===i[d.mesh]&&(i[d.mesh]=r[d.mesh]=0),i[d.mesh]++,void 0!==d.skin&&(n[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=r},G.prototype.getDependency=function(e,t){var i=e+":"+t,r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;case"light":r=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r},G.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,i=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(i.map((function(t,i){return n.getDependency(e,i)}))),this.cache.add(e,t)}return t},G.prototype.loadBuffer=function(e){var t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,n){i.load(k(t.uri,r.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},G.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))},G.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,o,s=e[0],l=L[r.type],c=T[r.componentType],h=c.BYTES_PER_ELEMENT,u=h*l,d=r.byteOffset||0,p=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,m=!0===r.normalized;if(p&&p!==u){var f=Math.floor(d/p),g="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+f+":"+r.count,b=t.cache.get(g);b||(a=new c(s,f*p,r.count*p/h),b=new i.InterleavedBuffer(a,p/h),t.cache.add(g,b)),o=new i.InterleavedBufferAttribute(b,l,d%p/h,m)}else a=null===s?new c(r.count*l):new c(s,d,r.count*l),o=new i.BufferAttribute(a,l,m);if(void 0!==r.sparse){var v=L.SCALAR,y=T[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,_=r.sparse.values.byteOffset||0,w=new y(e[1],x,r.sparse.count*v),M=new c(e[2],_,r.sparse.count*l);null!==s&&(o=new i.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var S=0,E=w.length;S<E;S++){var A=w[S];if(o.setX(A,M[S*l]),l>=2&&o.setY(A,M[S*l+1]),l>=3&&o.setZ(A,M[S*l+2]),l>=4&&o.setW(A,M[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},G.prototype.loadTexture=function(e){var t,r=this,a=this.json,o=this.options,s=this.textureLoader,l=self.URL||self.webkitURL,c=a.textures[e],h=c.extensions||{},u=(t=h[n.MSFT_TEXTURE_DDS]?a.images[h[n.MSFT_TEXTURE_DDS].source]:a.images[c.source]).uri,d=!1;return void 0!==t.bufferView&&(u=r.getDependency("bufferView",t.bufferView).then((function(e){d=!0;var n=new Blob([e],{type:t.mimeType});return u=l.createObjectURL(n)}))),Promise.resolve(u).then((function(e){var t=o.manager.getHandler(e);return t||(t=h[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise((function(n,i){t.load(k(e,o.path),n,void 0,i)}))})).then((function(e){!0===d&&l.revokeObjectURL(u),e.flipY=!1,c.name&&(e.name=c.name),t.mimeType in I&&(e.format=I[t.mimeType]);var n=(a.samplers||{})[c.sampler]||{};return e.magFilter=E[n.magFilter]||i.LinearFilter,e.minFilter=E[n.minFilter]||i.LinearMipmapLinearFilter,e.wrapS=A[n.wrapS]||i.RepeatWrapping,e.wrapT=A[n.wrapT]||i.RepeatWrapping,e}))},G.prototype.assignTexture=function(e,t,r){var a=this;return this.getDependency("texture",r.index).then((function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=i.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;s&&(o=a.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,s))}e[t]=o}))},G.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,c=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var h="PointsMaterial:"+n.uuid,u=this.cache.get(h);u||(u=new i.PointsMaterial,i.Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(h,u)),n=u}else if(e.isLine){h="LineBasicMaterial:"+n.uuid;var d=this.cache.get(h);d||(d=new i.LineBasicMaterial,i.Material.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(h,d)),n=d}if(r||a||o||s||l){h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),s&&(h+="skinning:"),r&&(h+="vertex-tangents:"),a&&(h+="vertex-colors:"),o&&(h+="flat-shading:"),l&&(h+="morph-targets:"),c&&(h+="morph-normals:");var p=this.cache.get(h);p||(p=n.clone(),s&&(p.skinning=!0),r&&(p.vertexTangents=!0),a&&(p.vertexColors=!0),o&&(p.flatShading=!0),l&&(p.morphTargets=!0),c&&(p.morphNormals=!0),this.cache.add(h,p)),n=p}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},G.prototype.loadMaterial=function(e){var t,r=this.json,a=this.extensions,o=r.materials[e],s={},l=o.extensions||{},c=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=h.getMaterialType(),c.push(h.extendParams(s,o,this))}else if(l[n.KHR_MATERIALS_UNLIT]){var u=a[n.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),c.push(u.extendParams(s,o,this))}else{t=i.MeshStandardMaterial;var d=o.pbrMetallicRoughness||{};if(s.color=new i.Color(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var p=d.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==d.baseColorTexture&&c.push(this.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(this.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),c.push(this.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture)))}!0===o.doubleSided&&(s.side=i.DoubleSide);var f=o.alphaMode||z;if(f===D?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,f===O&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==i.MeshBasicMaterial&&(c.push(this.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new i.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==i.MeshBasicMaterial&&(c.push(this.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==i.MeshBasicMaterial&&(s.emissive=(new i.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==i.MeshBasicMaterial&&c.push(this.assignTexture(s,"emissiveMap",o.emissiveTexture)),l[n.KHR_MATERIALS_CLEARCOAT]){var g=a[n.KHR_MATERIALS_CLEARCOAT];t=g.getMaterialType(),c.push(g.extendParams(s,{extensions:l},this))}return Promise.all(c).then((function(){var e;return e=t===m?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(e.name=o.name),e.map&&(e.map.encoding=i.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=i.sRGBEncoding),B(e,o),o.extensions&&N(a,e,o),e}))},G.prototype.loadGeometries=function(e){var t=this,r=this.extensions,a=this.primitiveCache;function o(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return H(n,e,t)}))}for(var s,l,c=[],h=0,u=e.length;h<u;h++){var d,p=e[h],m=(l=void 0,(l=(s=p).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+U(l.attributes):s.indices+":"+U(s.attributes)+":"+s.mode),f=a[m];if(f)c.push(f.promise);else d=p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(p):H(new i.BufferGeometry,p,t),a[m]={primitive:p,promise:d},c.push(d)}return Promise.all(c)},G.prototype.loadMesh=function(e){for(var t,n=this,r=this.json.meshes[e],a=r.primitives,o=[],s=0,l=a.length;s<l;s++){var c=void 0===a[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),t.DefaultMaterial):this.getDependency("material",a[s].material);o.push(c)}return o.push(n.loadGeometries(a)),Promise.all(o).then((function(t){for(var o=t.slice(0,t.length-1),s=t[t.length-1],l=[],c=0,h=s.length;c<h;c++){var u,d=s[c],p=a[c],m=o[c];if(p.mode===w||p.mode===M||p.mode===S||void 0===p.mode)!0!==(u=!0===r.isSkinnedMesh?new i.SkinnedMesh(d,m):new i.Mesh(d,m)).isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),p.mode===M?u.geometry=j(u.geometry,i.TriangleStripDrawMode):p.mode===S&&(u.geometry=j(u.geometry,i.TriangleFanDrawMode));else if(p.mode===y)u=new i.LineSegments(d,m);else if(p.mode===_)u=new i.Line(d,m);else if(p.mode===x)u=new i.LineLoop(d,m);else{if(p.mode!==v)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);u=new i.Points(d,m)}Object.keys(u.geometry.morphAttributes).length>0&&F(u,r),u.name=r.name||"mesh_"+e,s.length>1&&(u.name+="_"+c),B(u,r),n.assignFinalMaterial(u),l.push(u)}if(1===l.length)return l[0];var f=new i.Group;for(c=0,h=l.length;c<h;c++)f.add(l[c]);return f}))},G.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),B(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},G.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},G.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],o=[],s=[],l=0,c=t.channels.length;l<c;l++){var h=t.channels[l],u=t.samplers[h.sampler],d=h.target,p=void 0!==d.node?d.node:d.id,m=void 0!==t.parameters?t.parameters[u.input]:u.input,f=void 0!==t.parameters?t.parameters[u.output]:u.output;n.push(this.getDependency("node",p)),r.push(this.getDependency("accessor",m)),a.push(this.getDependency("accessor",f)),o.push(u),s.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(s)]).then((function(n){for(var r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=[],h=0,u=r.length;h<u;h++){var d=r[h],p=a[h],m=o[h],f=s[h],g=l[h];if(void 0!==d){var v;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,C[g.path]){case C.weights:v=i.NumberKeyframeTrack;break;case C.rotation:v=i.QuaternionKeyframeTrack;break;case C.position:case C.scale:default:v=i.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,x=void 0!==f.interpolation?R[f.interpolation]:i.InterpolateLinear,_=[];C[g.path]===C.weights?d.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&_.push(e.name?e.name:e.uuid)})):_.push(y);var w=m.array;if(m.normalized){var M;if(w.constructor===Int8Array)M=1/127;else if(w.constructor===Uint8Array)M=1/255;else if(w.constructor==Int16Array)M=1/32767;else{if(w.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");M=1/65535}for(var S=new Float32Array(w.length),T=0,E=w.length;T<E;T++)S[T]=w[T]*M;w=S}for(T=0,E=_.length;T<E;T++){var A=new v(_[T]+"."+C[g.path],p.array,w,x);"CUBICSPLINE"===f.interpolation&&(A.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(A)}}}var L=t.name?t.name:"animation_"+e;return new i.AnimationClip(L,void 0,c)}))},G.prototype.loadNode=function(e){var t,r=this.json,a=this.extensions,o=this,s=r.meshReferences,l=r.meshUses,c=r.nodes[e];return(t=[],void 0!==c.mesh&&t.push(o.getDependency("mesh",c.mesh).then((function(e){var t;if(s[c.mesh]>1){var n=l[c.mesh]++;(t=e.clone()).name+="_instance_"+n}else t=e;return void 0!==c.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=c.weights.length;t<n;t++)e.morphTargetInfluences[t]=c.weights[t]})),t}))),void 0!==c.camera&&t.push(o.getDependency("camera",c.camera)),c.extensions&&c.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&t.push(o.getDependency("light",c.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===c.isBone?new i.Bone:e.length>1?new i.Group:1===e.length?e[0]:new i.Object3D)!==e[0])for(var n=0,r=e.length;n<r;n++)t.add(e[n]);if(c.name&&(t.userData.name=c.name,t.name=i.PropertyBinding.sanitizeNodeName(c.name)),B(t,c),c.extensions&&N(a,t,c),void 0!==c.matrix){var o=new i.Matrix4;o.fromArray(c.matrix),t.applyMatrix4(o)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t}))},G.prototype.loadScene=function(){function e(t,n,r,a){var o=r.nodes[t];return a.getDependency("node",t).then((function(e){return void 0===o.skin?e:a.getDependency("skin",o.skin).then((function(e){for(var n=[],i=0,r=(t=e).joints.length;i<r;i++)n.push(a.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],o=0,s=n.length;o<s;o++){var l=n[o];if(l){r.push(l);var c=new i.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*o),a.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new i.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var i=[];if(o.children)for(var s=o.children,l=0,c=s.length;l<c;l++){var h=s[l];i.push(e(h,t,r,a))}return Promise.all(i)}))}return function(t){var n=this.json,r=this.extensions,a=this.json.scenes[t],o=new i.Group;a.name&&(o.name=a.name),B(o,a),a.extensions&&N(r,o,a);for(var s=a.nodes||[],l=[],c=0,h=s.length;c<h;c++)l.push(e(s[c],o,n,this));return Promise.all(l).then((function(){return o}))}}(),e}()},function(e,t,n){(function(t){var i=n(62),r=n(65),a=n(66),o=n(69),s=n(71),l=n(72),c=n(73),h=t.BufferGeometry;function u(e){h.call(this),"string"==typeof e&&(e={text:e}),this._opt=s({},e),e&&this.update(e)}e.exports=function(e){return new u(e)},r(u,h),u.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=s({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=i(e);var t=!1!==e.flipY,n=e.font,r=n.common.scaleW,c=n.common.scaleH,h=this.layout.glyphs.filter((function(e){var t=e.data;return t.width*t.height>0}));this.visibleGlyphs=h;var u=l.positions(h),d=l.uvs(h,r,c,t),p=a({clockwise:!0,type:"uint16",count:h.length});if(o.index(this,p,1,"uint16"),o.attr(this,"position",u,2),o.attr(this,"uv",d,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var m=l.pages(h);o.attr(this,"page",m,1)}},u.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new t.Sphere);var e=this.attributes.position.array,n=this.attributes.position.itemSize;if(!e||!n||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);c.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},u.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new t.Box3);var e=this.boundingBox,n=this.attributes.position.array,i=this.attributes.position.itemSize;!n||!i||n.length<2?e.makeEmpty():c.computeBox(n,e)}}).call(this,n(0))},function(e,t,n){(function(t){var i=n(77),r=function(){},a=n(81),o=n(82),s=n(85),l=n(86),c=n(5),h=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(e,n){n="function"==typeof n?n:r,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=function(e){if(h)return c(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:t},e)}(e)),i(e,(function(i,c,h){if(i)return n(i);if(!/^2/.test(c.statusCode))return n(new Error("http status code: "+c.statusCode));if(!h)return n(new Error("no body result"));var u,d,p=!1;if(u=h,"[object ArrayBuffer]"===Object.prototype.toString.call(u)){var m=new Uint8Array(h);h=new t(m,"binary")}l(h)&&(p=!0,"string"==typeof h&&(h=new t(h,"binary"))),p||(t.isBuffer(h)&&(h=h.toString(e.encoding)),h=h.trim());try{var f=c.headers["content-type"];d=p?s(h):/json/.test(f)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(f)||"<"===h.charAt(0)?o(h):a(h)}catch(e){n(new Error("error parsing font "+e.message)),n=r}n(null,d)}))}}).call(this,n(6).Buffer)},function(e,t,n){"use strict";t.a="img/perlin-noise-texture.jpg"},function(e,t,n){"use strict";t.a="img/FuturaCndBld_0.png"},function(e,t,n){"use strict";t.a="img/FuturaCndBok_0.png"},function(e,t,n){"use strict";t.a="img/FuturaCnd_0.png"},function(e,t,n){"use strict";t.a="img/AcuminPro108_0.png"},function(e,t,n){"use strict";t.a="img/AcuminProB_0.png"},function(e,t,n){"use strict";t.a="fonts/AcuminProL.fnt"},function(e,t,n){"use strict";t.a="img/AcuminProL_0.png"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse("{}")},function(e){e.exports=JSON.parse("{}")},function(e,t,n){var i=n(63),r=n(5),a=n(64),o=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],c="\t".charCodeAt(0),h=" ".charCodeAt(0);function u(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function d(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function p(e,t){if(!e.chars||0===e.chars.length)return null;var n=f(e.chars,t);return n>=0?e.chars[n]:null}function m(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var i=e.kernings,r=0;r<i.length;r++){var a=i[r];if(a.first===t&&a.second===n)return a.amount}return 0}function f(e,t,n){for(var i=n=n||0;i<e.length;i++)if(e[i].id===t)return i;return-1}e.exports=function(e){return new u(e)},u.prototype.update=function(e){if(e=r({measure:this._measure},e),this._opt=e,this._opt.tabSize=a(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",s=e.font;this._setupSpaceGlyphs(s);var c=i.lines(n,e),h=e.width||0;t.length=0;var u=c.reduce((function(e,t){return Math.max(e,t.width,h)}),0),d=0,p=0,g=a(e.lineHeight,s.common.lineHeight),b=s.common.base,v=g-b,y=e.letterSpacing||0,x=g*c.length-v,_=function(e){if("center"===e)return 1;if("right"===e)return 2;return 0}(this._opt.align);p-=x,this._width=u,this._height=x,this._descender=g-b,this._baseline=b,this._xHeight=function(e){for(var t=0;t<o.length;t++){var n=o[t].charCodeAt(0),i=f(e.chars,n);if(i>=0)return e.chars[i].height}return 0}(s),this._capHeight=function(e){for(var t=0;t<l.length;t++){var n=l[t].charCodeAt(0),i=f(e.chars,n);if(i>=0)return e.chars[i].height}return 0}(s),this._lineHeight=g,this._ascender=g-v-this._xHeight;var w=this;c.forEach((function(e,i){for(var r,a=e.start,o=e.end,l=e.width,c=a;c<o;c++){var h=n.charCodeAt(c),f=w.getGlyph(s,h);if(f){r&&(d+=m(s,r.id,f.id));var b=d;1===_?b+=(u-l)/2:2===_&&(b+=u-l),t.push({position:[b,p],data:f,index:c,line:i}),d+=f.xadvance+y,r=f}}p+=g,d=0})),this._linesTotal=c.length},u.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=p(e,h)||function(e){for(var t=0;t<s.length;t++){var n=s[t].charCodeAt(0),i=f(e.chars,n);if(i>=0)return e.chars[i]}return 0}(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=r(t,{x:0,y:0,xadvance:n,id:c,xoffset:0,yoffset:0,width:0,height:0})}},u.prototype.getGlyph=function(e,t){var n=p(e,t);return n||(t===c?this._fallbackTabGlyph:t===h?this._fallbackSpaceGlyph:null)},u.prototype.computeMetrics=function(e,t,n,i){var r,a=this._opt.letterSpacing||0,o=this._opt.font,s=0,l=0,c=0;if(!o.chars||0===o.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var h=t;h<n;h++){var u,d=e.charCodeAt(h);if(u=this.getGlyph(o,d)){u.xoffset;var p=(s+=r?m(o,r.id,u.id):0)+u.xadvance+a,f=s+u.width;if(f>=i||p>=i)break;s=p,l=f,r=u}c++}return r&&(l+=r.xoffset),{start:t,end:t+c,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(e){Object.defineProperty(u.prototype,e,{get:d(e),configurable:!0})}))},function(e,t){var n=/\n/,i=/\s/;function r(e,t,n,i){var r=e.indexOf(t,n);return-1===r||r>i?i:r}function a(e){return i.test(e)}function o(e,t,n,i){return{start:t,end:t+Math.min(i,n-t)}}e.exports=function(t,n){return e.exports.lines(t,n).map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var i="number"==typeof t.width?t.width:Number.MAX_VALUE,s=Math.max(0,t.start||0),l="number"==typeof t.end?t.end:e.length,c=t.mode,h=t.measure||o;return"pre"===c?function(e,t,i,r,a){for(var o=[],s=i,l=i;l<r&&l<t.length;l++){var c=t.charAt(l),h=n.test(c);if(h||l===r-1){var u=e(t,s,h?l:l+1,a);o.push(u),s=l+1}}return o}(h,e,s,l,i):function(e,t,n,i,o,s){var l=[],c=o;"nowrap"===s&&(c=Number.MAX_VALUE);for(;n<i&&n<t.length;){for(var h=r(t,"\n",n,i);n<h&&a(t.charAt(n));)n++;var u=e(t,n,h,c),d=n+(u.end-u.start),p=d+"\n".length;if(d<h){for(;d>n&&!a(t.charAt(d));)d--;if(d===n)p>n+"\n".length&&p--,d=p;else for(p=d;d>n&&a(t.charAt(d-"\n".length));)d--}if(d>=n){var m=e(t,n,d,c);l.push(m)}n=p}return l}(h,e,s,l,i,c)}},function(e,t){e.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var i=n(13),r=n(67),a=n(68),o=[0,2,3],s=[2,1,3];e.exports=function(e,t){e&&(r(e)||a(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",l="number"==typeof t.count?t.count:1,c=t.start||0,h=!1!==t.clockwise?o:s,u=h[0],d=h[1],p=h[2],m=6*l,f=e||new(i(n))(m),g=0,b=0;g<m;g+=6,b+=4){var v=g+c;f[v+0]=b+0,f[v+1]=b+1,f[v+2]=b+2,f[v+3]=b+u,f[v+4]=b+d,f[v+5]=b+p}return f}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===n.call(e.buffer)||Array.isArray(e)}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){(function(t){var i=n(70);function r(e,n,r,a){return n=i(n=n||[],a),(e=new t.BufferAttribute(n,r)).itemSize=r,e.needsUpdate=!0,e}e.exports.attr=function(e,t,n,i,a){"number"!=typeof i&&(i=3);"string"!=typeof a&&(a="float32");if(Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==i)throw new Error("Nested vertex array has unexpected size; expected "+i+" but found "+n[0].length);var o=r(e.getAttribute(t),n,i,a);e.setAttribute(t,o)},e.exports.index=function(e,t,n,i){"number"!=typeof n&&(n=1);"string"!=typeof i&&(i="uint16");var a=!e.index&&"function"!=typeof e.setIndex,o=r(a?e.getAttribute("index"):e.index,t,n,i);o&&(a?e.addAttribute("index",o):e.index=o)}}).call(this,n(0))},function(e,t,n){var i=n(13);e.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var r,a,o,s,l=e[0].length,c=e.length*l;t&&"string"!=typeof t||(t=new(i(t||"float32"))(c+n));var h=t.length-n;if(c!==h)throw new Error("source length "+c+" ("+l+"x"+e.length+") does not match destination length "+h);for(r=0,o=n;r<e.length;r++)for(a=0;a<l;a++)t[o++]=null===e[r][a]?NaN:e[r][a]}else if(t&&"string"!=typeof t)t.set(e,n);else{var u=i(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new u(e.length+n),r=0,o=n,s=t.length;o<s;o++,r++)t[o]=null===e[r]?NaN:e[r];else 0===n?t=new u(e):(t=new u(e.length+n)).set(e,n)}return t}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),c=1;c<arguments.length;c++){for(var h in n=Object(arguments[c]))r.call(n,h)&&(l[h]=n[h]);if(i){s=i(n);for(var u=0;u<s.length;u++)a.call(n,s[u])&&(l[s[u]]=n[s[u]])}}return l}},function(e,t){e.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach((function(e){var i=e.data.page||0;t[n++]=i,t[n++]=i,t[n++]=i,t[n++]=i})),t},e.exports.uvs=function(e,t,n,i){var r=new Float32Array(4*e.length*2),a=0;return e.forEach((function(e){var o=e.data,s=o.x+o.width,l=o.y+o.height,c=o.x/t,h=o.y/n,u=s/t,d=l/n;i&&(h=(n-o.y)/n,d=(n-l)/n),r[a++]=c,r[a++]=h,r[a++]=c,r[a++]=d,r[a++]=u,r[a++]=d,r[a++]=u,r[a++]=h})),r},e.exports.positions=function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach((function(e){var i=e.data,r=e.position[0]+i.xoffset,a=e.position[1]+i.yoffset,o=i.width,s=i.height;t[n++]=r,t[n++]=a,t[n++]=r,t[n++]=a+s,t[n++]=r+o,t[n++]=a+s,t[n++]=r+o,t[n++]=a})),t}},function(e,t){var n={min:[0,0],max:[0,0]};function i(e){var t=e.length/2;n.min[0]=e[0],n.min[1]=e[1],n.max[0]=e[0],n.max[1]=e[1];for(var i=0;i<t;i++){var r=e[2*i+0],a=e[2*i+1];n.min[0]=Math.min(r,n.min[0]),n.min[1]=Math.min(a,n.min[1]),n.max[0]=Math.max(r,n.max[0]),n.max[1]=Math.max(a,n.max[1])}}e.exports.computeBox=function(e,t){i(e),t.min.set(n.min[0],n.min[1],0),t.max.set(n.max[0],n.max[1],0)},e.exports.computeSphere=function(e,t){i(e);var r=n.min[0],a=n.min[1],o=n.max[0]-r,s=n.max[1]-a,l=Math.sqrt(o*o+s*s);t.center.set(r+o/2,a+s/2,0),t.radius=l/2}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),o=i[0],s=i[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),h=0,u=s>0?o-4:o;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[h++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,s=n-r;o<s;o+=16383)a.push(h(e,o,o+16383>s?s:o+16383));1===r?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return a.join("")};for(var i=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var r,a,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(i[(a=r)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,c=l>>1,h=-7,u=n?r-1:0,d=n?-1:1,p=e[t+u];for(u+=d,a=p&(1<<-h)-1,p>>=-h,h+=s;h>0;a=256*a+e[t+u],u+=d,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=i;h>0;o=256*o+e[t+u],u+=d,h-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=c}return(p?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l,c=8*a-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(s=0,o=h):o+u>=1?(s=(t*l-1)*Math.pow(2,r),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;e[n+p]=255&s,p+=m,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+p]=255&o,p+=m,o/=256,c-=8);e[n+p-m]|=128*f}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=n(78),r=n(79),a=n(80),o=n(5);function s(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=o(t,{uri:e}),i.callback=n,i}function l(e,t,n){return c(t=s(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=h.response?h.response:h.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(h),b)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function o(){if(!c){var t;clearTimeout(u),t=e.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var r=v,o=null;return 0!==t?(r={body:i(),statusCode:t,method:p,headers:{},url:d,rawRequest:h},h.getAllResponseHeaders&&(r.headers=a(h.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var s,c,h=e.xhr||null;h||(h=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var u,d=h.url=e.uri||e.url,p=h.method=e.method||"GET",m=e.body||e.data,f=h.headers=e.headers||{},g=!!e.sync,b=!1,v={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:h};if("json"in e&&!1!==e.json&&(b=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),h.onreadystatechange=function(){4===h.readyState&&setTimeout(o,0)},h.onload=o,h.onerror=r,h.onprogress=function(){},h.onabort=function(){c=!0},h.ontimeout=r,h.open(p,d,!g,e.username,e.password),g||(h.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout((function(){if(!c){c=!0,h.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),h.setRequestHeader)for(s in f)f.hasOwnProperty(s)&&h.setRequestHeader(s,f[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(h),h.send(m||null),h}e.exports=l,e.exports.default=l,l.XMLHttpRequest=i.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,n,i){return(n=s(t,n,i)).method=e.toUpperCase(),c(n)}}))},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(14))},function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t){var n=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,i={},r=n(e).split("\n"),a=0;a<r.length;a++){var o=r[a],s=o.indexOf(":"),l=n(o.slice(0,s)).toLowerCase(),c=n(o.slice(s+1));void 0===i[l]?i[l]=c:(t=i[l],"[object Array]"===Object.prototype.toString.call(t)?i[l].push(c):i[l]=[i[l],c])}return i}},function(e,t){function n(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var a=[],o=0;o<e.length;o++){var s=e[o];0===o?a.push({key:s[0],data:""}):o===e.length-1?a[a.length-1].data=i(s[0]):(a[a.length-1].data=i(s[0]),a.push({key:s[1],data:""}))}var l={key:r,data:{}};return a.forEach((function(e){l.data[e.key]=e.data})),l}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map((function(e){return parseInt(e,10)}))}(e):parseInt(e,10):""}e.exports=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},i=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===i.length)throw new Error("no data in BMFont file");for(var r=0;r<i.length;r++){var a=n(i[r],r);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+r+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+r+' -- needs page file="path"');t.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?t.chars.push(a.data):"kerning"===a.key?t.kernings.push(a.data):t[a.key]=a.data)}return t}},function(e,t,n){var i=n(83),r=n(84),a={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(e){return function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e).reduce((function(e,t){var n;return e[(n=t.nodeName,a[n.toLowerCase()]||n)]=t.nodeValue,e}),{})}e.exports=function(e){e=e.toString();var t=r(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var r=t.getElementsByTagName(e)[0];r&&(n[e]=i(o(r)))}));var a=t.getElementsByTagName("pages")[0];if(!a)throw new Error("malformed file -- no <pages> element");for(var s=a.getElementsByTagName("page"),l=0;l<s.length;l++){var c=s[l],h=parseInt(c.getAttribute("id"),10),u=c.getAttribute("file");if(isNaN(h))throw new Error('malformed file -- page "id" attribute is NaN');if(!u)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(h,10)]=u}return["chars","kernings"].forEach((function(e){var r=t.getElementsByTagName(e)[0];if(r)for(var a=e.substring(0,e.length-1),s=r.getElementsByTagName(a),l=0;l<s.length;l++){var c=s[l];n[e].push(i(o(c)))}})),n}},function(e,t){e.exports=function(e){for(var t in"chasrset"in e&&(e.charset=e.chasrset,delete e.chasrset),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?e[t].split(",").map((function(e){return parseInt(e,10)})):parseInt(e[t],10));return e}},function(e,t){e.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},function(e,t){var n=[66,77,70];function i(e,t,n){if(n>t.length-1)return 0;var i=t.readUInt8(n++),a=t.readInt32LE(n);switch(n+=4,i){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var i=e.readUInt8(t+2);n.smooth=i>>7&1,n.unicode=i>>6&1,n.italic=i>>5&1,n.bold=i>>4&1,i>>3&1&&(n.fixedHeight=1);return n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=function(e,t){return r(e,t).toString("utf8")}(e,t+14),n}(t,n);break;case 2:e.common=function(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var i=[],a=r(e,t),o=a.length+1,s=n/o,l=0;l<s;l++)i[l]=e.slice(t,t+a.length).toString("utf8"),t+=o;return i}(t,n,a);break;case 4:e.chars=function(e,t,n){for(var i=[],r=n/20,a=0;a<r;a++){var o={},s=20*a;o.id=e.readUInt32LE(t+0+s),o.x=e.readUInt16LE(t+4+s),o.y=e.readUInt16LE(t+6+s),o.width=e.readUInt16LE(t+8+s),o.height=e.readUInt16LE(t+10+s),o.xoffset=e.readInt16LE(t+12+s),o.yoffset=e.readInt16LE(t+14+s),o.xadvance=e.readInt16LE(t+16+s),o.page=e.readUInt8(t+18+s),o.chnl=e.readUInt8(t+19+s),i[a]=o}return i}(t,n,a);break;case 5:e.kernings=function(e,t,n){for(var i=[],r=n/10,a=0;a<r;a++){var o={},s=10*a;o.first=e.readUInt32LE(t+0+s),o.second=e.readUInt32LE(t+4+s),o.amount=e.readInt16LE(t+8+s),i[a]=o}return i}(t,n,a)}return 5+a}function r(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");if(!n.every((function(t,n){return e.readUInt8(n)===t})))throw new Error("BMFont missing BMF byte header");var t=3;if(e.readUInt8(t++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var r={kernings:[],chars:[]},a=0;a<5;a++)t+=i(r,e,t);return r}},function(e,t,n){(function(t){var i=n(87),r=new t([66,77,70,3]);e.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&i(e.slice(0,4),r)}}).call(this,n(6).Buffer)},function(e,t,n){var i=n(6).Buffer;e.exports=function(e,t){if(i.isBuffer(e)&&i.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.r(t);n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59);var i=n(15),r=n.n(i),a=n(7),o=n.n(a);function s(e,t){var n=e.__state.conversionName.toString(),i=Math.round(e.r),r=Math.round(e.g),a=Math.round(e.b),o=e.a,s=Math.round(e.h),l=e.s.toFixed(1),c=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var h=e.hex.toString(16);h.length<6;)h="0"+h;return"#"+h}return"CSS_RGB"===n?"rgb("+i+","+r+","+a+")":"CSS_RGBA"===n?"rgba("+i+","+r+","+a+","+o+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+r+","+a+"]":"RGBA_ARRAY"===n?"["+i+","+r+","+a+","+o+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+r+",b:"+a+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+r+",b:"+a+",a:"+o+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+",a:"+o+"}":"unknown format"}var l=Array.prototype.forEach,c=Array.prototype.slice,h={BREAK:{},extend:function(e){return this.each(c.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(c.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=c.call(arguments);return function(){for(var t=c.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(l&&e.forEach&&e.forEach===l)e.forEach(t,n);else if(e.length===e.length+0){var i,r=void 0;for(r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===this.BREAK)return}else for(var a in e)if(t.call(n,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i=void 0;return function(){var r=this,a=arguments;function o(){i=null,n||e.apply(r,a)}var s=n||!i;clearTimeout(i),i=setTimeout(o,t),s&&e.apply(r,a)}},toArray:function(e){return e.toArray?e.toArray():c.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},u=[{litmus:h.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:s},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:s},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:s},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:s}}},{litmus:h.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:h.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:h.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(h.isNumber(e.r)&&h.isNumber(e.g)&&h.isNumber(e.b)&&h.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(h.isNumber(e.r)&&h.isNumber(e.g)&&h.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(h.isNumber(e.h)&&h.isNumber(e.s)&&h.isNumber(e.v)&&h.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(h.isNumber(e.h)&&h.isNumber(e.s)&&h.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],d=void 0,p=void 0,m=function(){p=!1;var e=arguments.length>1?h.toArray(arguments):arguments[0];return h.each(u,(function(t){if(t.litmus(e))return h.each(t.conversions,(function(t,n){if(d=t.read(e),!1===p&&!1!==d)return p=d,d.conversionName=n,d.conversion=t,h.BREAK})),h.BREAK})),p},f=void 0,g={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),a=n*(1-t),o=n*(1-r*t),s=n*(1-(1-r)*t),l=[[n,s,a],[o,n,a],[a,n,s],[a,o,n],[s,a,n],[n,a,o]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),r=Math.max(e,t,n),a=r-i,o=void 0;return 0===r?{h:NaN,s:0,v:0}:(o=e===r?(t-n)/a:t===r?2+(n-e)/a:4+(e-t)/a,(o/=6)<0&&(o+=1),{h:360*o,s:a/r,v:r/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(f=8*t)|e&~(255<<f)}},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},_=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},M=function(){function e(){if(v(this,e),this.__state=m.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return y(e,[{key:"toString",value:function(){return s(this)}},{key:"toHexString",value:function(){return s(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function S(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||M.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(M.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function T(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||M.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(M.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}M.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=g.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");h.extend(e.__state,g.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},M.recalculateHSV=function(e){var t=g.rgb_to_hsv(e.r,e.g,e.b);h.extend(e.__state,{s:t.s,v:t.v}),h.isNaN(t.h)?h.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},M.COMPONENTS=["r","g","b","h","s","v","hex","a"],S(M.prototype,"r",2),S(M.prototype,"g",1),S(M.prototype,"b",0),T(M.prototype,"h"),T(M.prototype,"s"),T(M.prototype,"v"),Object.defineProperty(M.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(M.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=g.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var E=function(){function e(t,n){v(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return y(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),A={};h.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){h.each(e,(function(e){A[e]=t}))}));var L=/(\d+(\.\d+)?)px/;function P(e){if("0"===e||h.isUndefined(e))return 0;var t=e.match(L);return h.isNull(t)?0:parseFloat(t[1])}var C={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var i=n,r=t;h.isUndefined(r)&&(r=!0),h.isUndefined(i)&&(i=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,i){var r=n||{},a=A[t];if(!a)throw new Error("Event type "+t+" not supported.");var o=document.createEvent(a);switch(a){case"MouseEvents":var s=r.x||r.clientX||0,l=r.y||r.clientY||0;o.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=o.initKeyboardEvent||o.initKeyEvent;h.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:o.initEvent(t,r.bubbles||!1,r.cancelable||!0)}h.defaults(o,i),e.dispatchEvent(o)},bind:function(e,t,n,i){var r=i||!1;return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),C},unbind:function(e,t,n,i){var r=i||!1;return e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),C},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return C},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return C},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return P(t["border-left-width"])+P(t["border-right-width"])+P(t["padding-left"])+P(t["padding-right"])+P(t.width)},getHeight:function(e){var t=getComputedStyle(e);return P(t["border-top-width"])+P(t["border-bottom-width"])+P(t["padding-top"])+P(t["padding-bottom"])+P(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},R=function(e){function t(e,n){v(this,t);var i=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),C.bind(i.__checkbox,"change",(function(){r.setValue(!r.__prev)}),!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return _(t,e),y(t,[{key:"setValue",value:function(e){var n=x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(E),z=function(e){function t(e,n,i){v(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=i,o=r;if(r.__select=document.createElement("select"),h.isArray(a)){var s={};h.each(a,(function(e){s[e]=e})),a=s}return h.each(a,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),o.__select.appendChild(n)})),r.updateDisplay(),C.bind(r.__select,"change",(function(){var e=this.options[this.selectedIndex].value;o.setValue(e)})),r.domElement.appendChild(r.__select),r}return _(t,e),y(t,[{key:"setValue",value:function(e){var n=x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return C.isActive(this.__select)?this:(this.__select.value=this.getValue(),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(E),O=function(e){function t(e,n){v(this,t);var i=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;function a(){r.setValue(r.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),C.bind(i.__input,"keyup",a),C.bind(i.__input,"change",a),C.bind(i.__input,"blur",(function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())})),C.bind(i.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return _(t,e),y(t,[{key:"updateDisplay",value:function(){return C.isActive(this.__input)||(this.__input.value=this.getValue()),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(E);function D(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var I=function(e){function t(e,n,i){v(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=i||{};return r.__min=a.min,r.__max=a.max,r.__step=a.step,h.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=D(r.__impliedStep),r}return _(t,e),y(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=D(e),this}}]),t}(E);var k=function(e){function t(e,n,i){v(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));r.__truncationSuspended=!1;var a=r,o=void 0;function s(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function l(e){var t=o-e.clientY;a.setValue(a.getValue()+t*a.__impliedStep),o=e.clientY}function c(){C.unbind(window,"mousemove",l),C.unbind(window,"mouseup",c),s()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),C.bind(r.__input,"change",(function(){var e=parseFloat(a.__input.value);h.isNaN(e)||a.setValue(e)})),C.bind(r.__input,"blur",(function(){s()})),C.bind(r.__input,"mousedown",(function(e){C.bind(window,"mousemove",l),C.bind(window,"mouseup",c),o=e.clientY})),C.bind(r.__input,"keydown",(function(e){13===e.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,s())})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return _(t,e),y(t,[{key:"updateDisplay",value:function(){var e,n,i;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,i=Math.pow(10,n),Math.round(e*i)/i),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(I);function N(e,t,n,i,r){return i+(e-t)/(n-t)*(r-i)}var B=function(e){function t(e,n,i,r,a){v(this,t);var o=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:i,max:r,step:a})),s=o;function l(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(N(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function c(){C.unbind(window,"mousemove",l),C.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function h(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(N(t,n.left,n.right,s.__min,s.__max))}function u(){C.unbind(window,"touchmove",h),C.unbind(window,"touchend",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),C.bind(o.__background,"mousedown",(function(e){document.activeElement.blur(),C.bind(window,"mousemove",l),C.bind(window,"mouseup",c),l(e)})),C.bind(o.__background,"touchstart",(function(e){if(1!==e.touches.length)return;C.bind(window,"touchmove",h),C.bind(window,"touchend",u),h(e)})),C.addClass(o.__background,"slider"),C.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return _(t,e),y(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(I),F=function(e){function t(e,n,i){v(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===i?"Fire":i,C.bind(r.__button,"click",(function(e){return e.preventDefault(),a.fire(),!1})),C.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return _(t,e),y(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(E),U=function(e){function t(e,n){v(this,t);var i=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));i.__color=new M(i.getValue()),i.__temp=new M(0);var r=i;i.domElement=document.createElement("div"),C.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",C.bind(i.__input,"keydown",(function(e){13===e.keyCode&&d.call(this)})),C.bind(i.__input,"blur",d),C.bind(i.__selector,"mousedown",(function(){C.addClass(this,"drag").bind(window,"mouseup",(function(){C.removeClass(r.__selector,"drag")}))})),C.bind(i.__selector,"touchstart",(function(){C.addClass(this,"drag").bind(window,"touchend",(function(){C.removeClass(r.__selector,"drag")}))}));var a,o=document.createElement("div");function s(e){f(e),C.bind(window,"mousemove",f),C.bind(window,"touchmove",f),C.bind(window,"mouseup",c),C.bind(window,"touchend",c)}function l(e){g(e),C.bind(window,"mousemove",g),C.bind(window,"touchmove",g),C.bind(window,"mouseup",u),C.bind(window,"touchend",u)}function c(){C.unbind(window,"mousemove",f),C.unbind(window,"touchmove",f),C.unbind(window,"mouseup",c),C.unbind(window,"touchend",c),p()}function u(){C.unbind(window,"mousemove",g),C.unbind(window,"touchmove",g),C.unbind(window,"mouseup",u),C.unbind(window,"touchend",u),p()}function d(){var e=m(this.value);!1!==e?(r.__color.__state=e,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function p(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function f(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,i=n.clientX,a=n.clientY,o=(i-t.left)/(t.right-t.left),s=1-(a-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),o>1?o=1:o<0&&(o=0),r.__color.v=s,r.__color.s=o,r.setValue(r.__color.toOriginal()),!1}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return h.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),h.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),h.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),h.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),h.extend(o.style,{width:"100%",height:"100%",background:"none"}),H(o,"top","rgba(0,0,0,0)","#000"),h.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=i.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",h.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),C.bind(i.__saturation_field,"mousedown",s),C.bind(i.__saturation_field,"touchstart",s),C.bind(i.__field_knob,"mousedown",s),C.bind(i.__field_knob,"touchstart",s),C.bind(i.__hue_field,"mousedown",l),C.bind(i.__hue_field,"touchstart",l),i.__saturation_field.appendChild(o),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay(),i}return _(t,e),y(t,[{key:"updateDisplay",value:function(){var e=m(this.getValue());if(!1!==e){var t=!1;h.each(M.COMPONENTS,(function(n){if(!h.isUndefined(e[n])&&!h.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&h.extend(this.__color.__state,e)}h.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,i=255-n;h.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,H(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),h.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),t}(E),G=["-moz-","-o-","-webkit-","-ms-",""];function H(e,t,n,i){e.style.background="",h.each(G,(function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "}))}var j=function(e,t){var n=t||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var r=n.getElementsByTagName("head")[0];try{r.appendChild(i)}catch(e){}},V='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',W=function(e,t){var n=e[t];return h.isArray(arguments[2])||h.isObject(arguments[2])?new z(e,t,arguments[2]):h.isNumber(n)?h.isNumber(arguments[2])&&h.isNumber(arguments[3])?h.isNumber(arguments[4])?new B(e,t,arguments[2],arguments[3],arguments[4]):new B(e,t,arguments[2],arguments[3]):h.isNumber(arguments[4])?new k(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new k(e,t,{min:arguments[2],max:arguments[3]}):h.isString(n)?new O(e,t):h.isFunction(n)?new F(e,t,""):h.isBoolean(n)?new R(e,t):null};var X=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},Y=function(){function e(){v(this,e),this.backgroundElement=document.createElement("div"),h.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),C.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),h.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;C.bind(this.backgroundElement,"click",(function(){t.hide()}))}return y(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),h.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",C.unbind(e.domElement,"webkitTransitionEnd",t),C.unbind(e.domElement,"transitionend",t),C.unbind(e.domElement,"oTransitionEnd",t)};C.bind(this.domElement,"webkitTransitionEnd",t),C.bind(this.domElement,"transitionend",t),C.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-C.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-C.getHeight(this.domElement)/2+"px"}}]),e}();j(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var q=function(){try{return!!window.localStorage}catch(e){return!1}}(),Z=void 0,J=!0,K=void 0,Q=!1,$=[],ee=function e(t){var n=this,i=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),C.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=h.defaults(i,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),i=h.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),h.isUndefined(i.load)?i.load={preset:"Default"}:i.preset&&(i.load.preset=i.preset),h.isUndefined(i.parent)&&i.hideable&&$.push(this),i.resizable=h.isUndefined(i.parent)&&i.resizable,i.autoPlace&&h.isUndefined(i.scrollable)&&(i.scrollable=!0);var r,a=q&&"true"===localStorage.getItem(oe(this,"isLocal")),o=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(e){n.parent?n.getRoot().preset=e:i.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return i.width},set:function(e){i.width=e,ue(n,e)}},name:{get:function(){return i.name},set:function(e){i.name=e,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(t){i.closed=t,i.closed?C.addClass(n.__ul,e.CLASS_CLOSED):C.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return a},set:function(e){q&&(a=e,e?C.bind(window,"unload",o):C.unbind(window,"unload",o),localStorage.setItem(oe(n,"isLocal"),e))}}}),h.isUndefined(i.parent)){if(this.closed=i.closed||!1,C.addClass(this.domElement,e.CLASS_MAIN),C.makeSelectable(this.domElement,!1),q&&a){n.useLocalStorage=!0;var l=localStorage.getItem(oe(this,"gui"));l&&(i.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,C.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),i.closeOnTop?(C.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(C.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),C.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===i.closed&&(i.closed=!0);var c=document.createTextNode(i.name);C.addClass(c,"controller-name"),s=te(n,c);C.addClass(this.__ul,e.CLASS_CLOSED),C.addClass(s,"title"),C.bind(s,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),i.closed||(this.closed=!1)}i.autoPlace&&(h.isUndefined(i.parent)&&(J&&(K=document.createElement("div"),C.addClass(K,"dg"),C.addClass(K,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(K),J=!1),K.appendChild(this.domElement),C.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ue(n,i.width)),this.__resizeHandler=function(){n.onResizeDebounced()},C.bind(window,"resize",this.__resizeHandler),C.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),C.bind(this.__ul,"transitionend",this.__resizeHandler),C.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&he(this),o=function(){q&&"true"===localStorage.getItem(oe(n,"isLocal"))&&localStorage.setItem(oe(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=o,i.parent||((r=n.getRoot()).width+=1,h.defer((function(){r.width-=1})))};function te(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,n):e.__ul.appendChild(i),e.onResize(),i}function ne(e){C.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&C.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function ie(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function re(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!==i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[t.property]=t,n.load&&n.load.remembered){var a=n.load.remembered,o=void 0;if(a[e.preset])o=a[e.preset];else{if(!a.Default)return;o=a.Default}if(o[i]&&void 0!==o[i][t.property]){var s=o[i][t.property];t.initialValue=s,t.setValue(s)}}}}function ae(e,t,n,i){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var r=void 0;if(i.color)r=new U(t,n);else{var a=[t,n].concat(i.factoryArgs);r=W.apply(e,a)}i.before instanceof E&&(i.before=i.before.__li),re(e,r),C.addClass(r.domElement,"c");var o=document.createElement("span");C.addClass(o,"property-name"),o.innerHTML=r.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(r.domElement);var l=te(e,s,i.before);return C.addClass(l,ee.CLASS_CONTROLLER_ROW),r instanceof U?C.addClass(l,"color"):C.addClass(l,b(r.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,h.extend(n,{options:function(t){if(arguments.length>1){var i=n.__li.nextElementSibling;return n.remove(),ae(e,n.object,n.property,{before:i,factoryArgs:[h.toArray(arguments)]})}if(h.isArray(t)||h.isObject(t)){var r=n.__li.nextElementSibling;return n.remove(),ae(e,n.object,n.property,{before:r,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof B){var i=new k(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});h.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],r=i[e];n[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(i,e),t.apply(n,e)}})),C.addClass(t,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof k){var r=function(t){if(h.isNumber(n.__min)&&h.isNumber(n.__max)){var i=n.__li.firstElementChild.firstElementChild.innerHTML,r=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=ae(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(i),r&&a.listen(),a}return t};n.min=h.compose(r,n.min),n.max=h.compose(r,n.max)}else n instanceof R?(C.bind(t,"click",(function(){C.fakeEvent(n.__checkbox,"click")})),C.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof F?(C.bind(t,"click",(function(){C.fakeEvent(n.__button,"click")})),C.bind(t,"mouseover",(function(){C.addClass(n.__button,"hover")})),C.bind(t,"mouseout",(function(){C.removeClass(n.__button,"hover")}))):n instanceof U&&(C.addClass(t,"color"),n.updateDisplay=h.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=h.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&ie(e.getRoot(),!0),t}),n.setValue)}(e,l,r),e.__controllers.push(r),r}function oe(e,t){return document.location.href+"."+t}function se(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function le(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ce(e){var t=e.__save_row=document.createElement("li");C.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),C.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",C.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",C.addClass(i,"button"),C.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",C.addClass(r,"button"),C.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert",C.addClass(a,"button"),C.addClass(a,"revert");var o=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?h.each(e.load.remembered,(function(t,n){se(e,n,n===e.preset)})):se(e,"Default",!1),C.bind(o,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(o),t.appendChild(n),t.appendChild(i),t.appendChild(r),t.appendChild(a),q){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(oe(0,"isLocal"))&&l.setAttribute("checked","checked"),le(e,s),C.bind(l,"change",(function(){e.useLocalStorage=!e.useLocalStorage,le(e,s)}))}var c=document.getElementById("dg-new-constructor");C.bind(c,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Z.hide()})),C.bind(n,"click",(function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Z.show(),c.focus(),c.select()})),C.bind(i,"click",(function(){e.save()})),C.bind(r,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),C.bind(a,"click",(function(){e.revert()}))}function he(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function i(){C.removeClass(e.__closeButton,ee.CLASS_DRAG),C.unbind(window,"mousemove",n),C.unbind(window,"mouseup",i)}function r(r){return r.preventDefault(),t=r.clientX,C.addClass(e.__closeButton,ee.CLASS_DRAG),C.bind(window,"mousemove",n),C.bind(window,"mouseup",i),!1}e.__resize_handle=document.createElement("div"),h.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),C.bind(e.__resize_handle,"mousedown",r),C.bind(e.__closeButton,"mousedown",r),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function ue(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function de(e,t){var n={};return h.each(e.__rememberedObjects,(function(i,r){var a={},o=e.__rememberedObjectIndecesToControllers[r];h.each(o,(function(e,n){a[n]=t?e.initialValue:e.getValue()})),n[r]=a})),n}ee.toggleHide=function(){Q=!Q,h.each($,(function(e){e.domElement.style.display=Q?"none":""}))},ee.CLASS_AUTO_PLACE="a",ee.CLASS_AUTO_PLACE_CONTAINER="ac",ee.CLASS_MAIN="main",ee.CLASS_CONTROLLER_ROW="cr",ee.CLASS_TOO_TALL="taller-than-window",ee.CLASS_CLOSED="closed",ee.CLASS_CLOSE_BUTTON="close-button",ee.CLASS_CLOSE_TOP="close-top",ee.CLASS_CLOSE_BOTTOM="close-bottom",ee.CLASS_DRAG="drag",ee.DEFAULT_WIDTH=245,ee.TEXT_CLOSED="Close Controls",ee.TEXT_OPEN="Open Controls",ee._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||ee.toggleHide()},C.bind(window,"keydown",ee._keydownHandler,!1),h.extend(ee.prototype,{add:function(e,t){return ae(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return ae(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;h.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&K.removeChild(this.domElement);var e=this;h.each(this.__folders,(function(t){e.removeFolder(t)})),C.unbind(window,"keydown",ee._keydownHandler,!1),ne(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new ee(t);this.__folders[e]=n;var i=te(this,n.domElement);return C.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],ne(e);var t=this;h.each(e.__folders,(function(t){e.removeFolder(t)})),h.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=C.getOffset(e.__ul).top,n=0;h.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=C.getHeight(t))})),window.innerHeight-t-20<n?(C.addClass(e.domElement,ee.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(C.removeClass(e.domElement,ee.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&h.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:h.debounce((function(){this.onResize()}),50),remember:function(){if(h.isUndefined(Z)&&((Z=new Y).domElement.innerHTML=V),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;h.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&ce(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&ue(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=de(this)),e.folders={},h.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=de(this),ie(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=de(this,!0)),this.load.remembered[e]=de(this),this.preset=e,se(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){h.each(this.__controllers,(function(t){this.getRoot().load.remembered?re(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),h.each(this.__folders,(function(e){e.revert(e)})),e||ie(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&X.call(window,(function(){e(t)}));h.each(t,(function(e){e.updateDisplay()}))}(this.__listening)},updateDisplay:function(){h.each(this.__controllers,(function(e){e.updateDisplay()})),h.each(this.__folders,(function(e){e.updateDisplay()}))}});var pe={color:{Color:M,math:g,interpret:m},controllers:{Controller:E,BooleanController:R,OptionController:z,StringController:O,NumberController:I,NumberControllerBox:k,NumberControllerSlider:B,FunctionController:F,ColorController:U},dom:{dom:C},gui:{GUI:ee},GUI:ee};function me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var fe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.enabled=n,this.initStats(),this.initDatGui(),n&&this.enable()}var t,n,i;return t=e,(n=[{key:"initStats",value:function(){this.stats=new o.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)}},{key:"initDatGui",value:function(){this.dgui=new pe.GUI({autoPlace:!1}),this.customContainer=document.getElementById("dgui-container"),this.customContainer.appendChild(this.dgui.domElement),this.customContainer.style.visibility="hidden",pe.GUI.prototype.addThreeColor=function(e,t){var n={};return n[t]=e[t].getStyle(),this.addColor(n,t).onChange((function(n){e[t].setStyle(n)}))},pe.GUI.prototype.addThreeUniformColor=function(e,t,n){return this.addThreeColor(e.uniforms[t],"value").name(n||t)}}},{key:"enable",value:function(){this.stats&&(this.stats.dom.style.cssText="position:absolute;bottom:10px;right:10px;z-index:20000;visibility:hidden"),this.enabled=!0}},{key:"disable",value:function(){this.stats&&(this.stats.dom.style.display="none"),this.enabled=!1}},{key:"toggle",value:function(){this.enabled?this.disable():this.enable()}},{key:"update",value:function(){this.stats&&this.stats.begin()}},{key:"render",value:function(){this.stats&&this.stats.end()}},{key:"datGui",get:function(){return this.dgui}}])&&me(t.prototype,n),i&&me(t,i),e}(),ge=n(16);function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.htmlcontainer=document.getElementById("three_container"),this.initDebuGui(),this.initWebGLView(),this.addListeners(),this.animate(),this.resize(),this.now=0,this.then=0,this.delta=0,this.interval=1e3/60,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60).bind(this)},this.handlerAnimate()}},{key:"initDebuGui",value:function(){this.debugui=new fe(this,!0)}},{key:"initWebGLView",value:function(){this.glview=new ge.a(this),document.querySelector(".container").appendChild(this.glview.renderer.domElement)}},{key:"addListeners",value:function(){window.addEventListener("resize",this.resize.bind(this))}},{key:"handlerAnimate",value:function(){requestAnimationFrame(this.handlerAnimate.bind(this)),this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval&&(this.then=this.now-this.delta%this.interval,this.animate())}},{key:"animate",value:function(){this.update(),this.render()}},{key:"update",value:function(){this.glview&&this.glview.update(),this.debugui&&this.debugui.update()}},{key:"render",value:function(){this.glview&&this.glview.render(),this.debugui&&this.debugui.render()}},{key:"resize",value:function(){this.glview&&this.glview.resize()}},{key:"pressedLeft",value:function(){}},{key:"pressedRight",value:function(){}}])&&be(t.prototype,n),i&&be(t,i),e}();r()((function(){window.app=new ve,window.app.init()}))}]);